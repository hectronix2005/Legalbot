/*! For license information please see main.8a276e32.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),r=n(43),l=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(o(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var m=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case w:return"Suspense";case C:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case j:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var A=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},F=[],I=-1;function q(e){return{current:e}}function M(e){0>I||(e.current=F[I],F[I]=null,I--)}function U(e,t){I++,F[I]=e.current,e.current=t}var B,H,V=q(null),W=q(null),$=q(null),G=q(null);function Q(e,t){switch(U($,t),U(W,e),U(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(V),U(V,e)}function K(){M(V),M(W),M($)}function J(e){null!==e.memoizedState&&U(G,e);var t=V.current,n=yu(t,e.type);t!==n&&(U(W,e),U(V,n))}function Y(e){W.current===e&&(M(V),M(W)),G.current===e&&(M(G),dp._currentValue=D)}function X(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){a=l}e.call(n.prototype)}}else{try{throw Error()}catch(o){a=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),o=l[0],i=l[1];if(o&&i){var s=o.split("\n"),c=i.split("\n");for(r=a=0;a<s.length&&!s[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===s.length||r===c.length)for(a=s.length-1,r=c.length-1;1<=a&&0<=r&&s[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(s[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||s[a]!==c[r]){var d="\n"+s[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,re=a.unstable_scheduleCallback,le=a.unstable_cancelCallback,oe=a.unstable_shouldYield,ie=a.unstable_requestPaint,se=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,me=a.unstable_LowPriority,he=a.unstable_IdlePriority,fe=a.log,ge=a.unstable_setDisableYieldValue,ve=null,ye=null;function xe(e){if("function"===typeof fe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=256,Ce=262144,_e=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~l)?r=Se(a):0!==(o&=i)?r=Se(o):n||0!==(n=i&~e)&&(r=Se(n)):0!==(i=a&~l)?r=Se(i):0!==o?r=Se(o):n||0!==(n=a&~e)&&(r=Se(n)),0===r?0:0!==t&&t!==r&&0===(t&l)&&((l=r&-r)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-be(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-be(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Sp(e.type)}function qe(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Me=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Me,Be="__reactProps$"+Me,He="__reactContainer$"+Me,Ve="__reactEvents$"+Me,We="__reactListeners$"+Me,$e="__reactHandles$"+Me,Ge="__reactResources$"+Me,Qe="__reactMarker$"+Me;function Ke(e){delete e[Ue],delete e[Be],delete e[Ve],delete e[We],delete e[$e]}function Je(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Du(e);null!==e;){if(n=e[Ue])return n;e=Du(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function at(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},it={};function st(e,t,n){if(r=t,ae.call(it,r)||!ae.call(ot,r)&&(lt.test(r)?it[r]=!0:(ot[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=pt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,a,r,l,o,i){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ut(t)):null!=n?bt(e,o,ut(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=l&&(e.defaultChecked=!!l),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ut(i):e.removeAttribute("name")}function xt(e,t,n,a,r,l,o,i){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return void mt(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:r)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),mt(e)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function jt(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(o(92));if(A(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),mt(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&St(e,r,a)}else for(var l in t)t.hasOwnProperty(l)&&St(e,l,t[l])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var At=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Dt=null;function Ft(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[Be]||null;if(!r)throw Error(o(90));yt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ht(a)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}}var It=!1;function qt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Ot||null!==Dt)&&(Zc(),Ot&&(t=Ot,e=Dt,Dt=Ot=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Be]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Yp){Bt=!1}var Vt=null,Wt=null,$t=null;function Gt(){if($t)return $t;var e,t,n=Wt,a=n.length,r="value"in Vt?Vt.value:Vt.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var o=a-e;for(t=1;t<=o&&n[a-t]===r[l-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Jt(){return!1}function Yt(e){function t(t,n,a,r,l){for(var o in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Jt,this.isPropagationStopped=Jt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Yt(tn),an=m({},tn,{view:0,detail:0}),rn=Yt(an),ln=m({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Yt(ln),sn=Yt(m({},ln,{dataTransfer:0})),cn=Yt(m({},an,{relatedTarget:0})),dn=Yt(m({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Yt(m({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Yt(m({},tn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function vn(){return gn}var yn=Yt(m({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Yt(m({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Yt(m({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),jn=Yt(m({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Yt(m({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Yt(m({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=Ut&&"CompositionEvent"in window,Sn=null;Ut&&"documentMode"in document&&(Sn=document.documentMode);var kn=Ut&&"TextEvent"in window&&!Sn,En=Ut&&(!_n||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Pn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Dn(e,t,n,a){Ot?Dt?Dt.push(a):Dt=[a]:Ot=a,0<(t=au(t,"onChange")).length&&(n=new nn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Fn=null,In=null;function qn(e){Kd(e,0)}function Mn(e){if(ht(Xe(e)))return e}function Un(e,t){if("change"===e)return t}var Bn=!1;if(Ut){var Hn;if(Ut){var Vn="oninput"in document;if(!Vn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Vn="function"===typeof Wn.oninput}Hn=Vn}else Hn=!1;Bn=Hn&&(!document.documentMode||9<document.documentMode)}function $n(){Fn&&(Fn.detachEvent("onpropertychange",Gn),In=Fn=null)}function Gn(e){if("value"===e.propertyName&&Mn(In)){var t=[];Dn(t,In,e,zt(e)),qt(qn,t)}}function Qn(e,t,n){"focusin"===e?($n(),In=n,(Fn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(In)}function Jn(e,t){if("click"===e)return Mn(t)}function Yn(e,t){if("input"===e||"change"===e)return Mn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!ae.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function na(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?na(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function aa(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var la=Ut&&"documentMode"in document&&11>=document.documentMode,oa=null,ia=null,sa=null,ca=!1;function da(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ca||null==oa||oa!==ft(a)||("selectionStart"in(a=oa)&&ra(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},sa&&Zn(sa,a)||(sa=a,0<(a=au(ia,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=oa)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ma={},ha={};function fa(e){if(ma[e])return ma[e];if(!pa[e])return e;var t,n=pa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ha)return ma[e]=n[t];return e}Ut&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);var ga=fa("animationend"),va=fa("animationiteration"),ya=fa("animationstart"),xa=fa("transitionrun"),ba=fa("transitionstart"),ja=fa("transitioncancel"),Na=fa("transitionend"),wa=new Map,Ca="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){wa.set(e,t),at(t,[e])}Ca.push("scrollEnd");var Sa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},ka=[],Ea=0,Ta=0;function Pa(){for(var e=Ea,t=Ta=Ea=0;t<e;){var n=ka[t];ka[t++]=null;var a=ka[t];ka[t++]=null;var r=ka[t];ka[t++]=null;var l=ka[t];if(ka[t++]=null,null!==a&&null!==r){var o=a.pending;null===o?r.next=r:(r.next=o.next,o.next=r),a.pending=r}0!==l&&za(n,r,l)}}function Ra(e,t,n,a){ka[Ea++]=e,ka[Ea++]=t,ka[Ea++]=n,ka[Ea++]=a,Ta|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function La(e,t,n,a){return Ra(e,t,n,a),Oa(e)}function Aa(e,t){return Ra(e,null,null,t),Oa(e)}function za(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(a=l.alternate)&&(a.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(r=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,r&&null!==t&&(r=31-be(n),null===(a=(e=l.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),l):null}function Oa(e){if(50<Vc)throw Vc=0,Wc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Da={};function Fa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,n,a){return new Fa(e,t,n,a)}function qa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ma(e,t){var n=e.alternate;return null===n?((n=Ia(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ua(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,a,r,l){var i=0;if(a=e,"function"===typeof e)qa(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ia(31,n,t,r)).elementType=k,e.lanes=l,e;case v:return Ha(n.children,r,l,t);case y:i=8,r|=24;break;case x:return(e=Ia(12,n,t,2|r)).elementType=x,e.lanes=l,e;case w:return(e=Ia(13,n,t,r)).elementType=w,e.lanes=l,e;case C:return(e=Ia(19,n,t,r)).elementType=C,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:i=10;break e;case b:i=9;break e;case N:i=11;break e;case _:i=14;break e;case S:i=16,a=null;break e}i=29,n=Error(o(130,null===e?"null":typeof e,"")),a=null}return(t=Ia(i,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Ha(e,t,n,a){return(e=Ia(7,e,a,t)).lanes=n,e}function Va(e,t,n){return(e=Ia(6,e,null,t)).lanes=n,e}function Wa(e){var t=Ia(18,null,null,0);return t.stateNode=e,t}function $a(e,t,n){return(t=Ia(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ga=new WeakMap;function Qa(e,t){if("object"===typeof e&&null!==e){var n=Ga.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Ga.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Ka=[],Ja=0,Ya=null,Xa=0,Za=[],er=0,tr=null,nr=1,ar="";function rr(e,t){Ka[Ja++]=Xa,Ka[Ja++]=Ya,Ya=e,Xa=t}function lr(e,t,n){Za[er++]=nr,Za[er++]=ar,Za[er++]=tr,tr=e;var a=nr;e=ar;var r=32-be(a)-1;a&=~(1<<r),n+=1;var l=32-be(t)+r;if(30<l){var o=r-r%5;l=(a&(1<<o)-1).toString(32),a>>=o,r-=o,nr=1<<32-be(t)+r|n<<r|a,ar=l+e}else nr=1<<l|n<<r|a,ar=e}function or(e){null!==e.return&&(rr(e,1),lr(e,1,0))}function ir(e){for(;e===Ya;)Ya=Ka[--Ja],Ka[Ja]=null,Xa=Ka[--Ja],Ka[Ja]=null;for(;e===tr;)tr=Za[--er],Za[er]=null,ar=Za[--er],Za[er]=null,nr=Za[--er],Za[er]=null}function sr(e,t){Za[er++]=nr,Za[er++]=ar,Za[er++]=tr,nr=t.id,ar=t.overflow,tr=e}var cr=null,dr=null,ur=!1,pr=null,mr=!1,hr=Error(o(519));function fr(e){throw jr(Qa(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),hr}function gr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ue]=e,t[Be]=a,n){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(n=0;n<Gd.length;n++)Jd(Gd[n],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),xt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),wt(t,a.value,a.defaultValue,a.children)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||cu(t.textContent,n)?(null!=a.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=a.onScroll&&Jd("scroll",t),null!=a.onScrollEnd&&Jd("scrollend",t),null!=a.onClick&&(t.onclick=Lt),t=!0):t=!1,t||fr(e,!0)}function vr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:cr=cr.return}}function yr(e){if(e!==cr)return!1;if(!ur)return vr(e),ur=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xu(e.type,e.memoizedProps)),t=!t),t&&dr&&fr(e),vr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));dr=Ou(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));dr=Ou(e)}else 27===n?(n=dr,Su(e.type)?(e=zu,zu=null,dr=e):dr=n):dr=cr?Au(e.stateNode.nextSibling):null;return!0}function xr(){dr=cr=null,ur=!1}function br(){var e=pr;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),pr=null),e}function jr(e){null===pr?pr=[e]:pr.push(e)}var Nr=q(null),wr=null,Cr=null;function _r(e,t,n){U(Nr,t._currentValue),t._currentValue=n}function Sr(e){e._currentValue=Nr.current,M(Nr)}function kr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Er(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){var i=r.child;l=l.firstContext;e:for(;null!==l;){var s=l;l=r;for(var c=0;c<t.length;c++)if(s.context===t[c]){l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),kr(l.return,n,e),a||(i=null);break e}l=s.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),kr(i,n,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function Tr(e,t,n,a){e=null;for(var r=t,l=!1;null!==r;){if(!l)if(0!==(524288&r.flags))l=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(o(387));if(null!==(i=i.memoizedProps)){var s=r.type;Xn(r.pendingProps.value,i.value)||(null!==e?e.push(s):e=[s])}}else if(r===G.current){if(null===(i=r.alternate))throw Error(o(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(dp):e=[dp])}r=r.return}null!==e&&Er(t,e,n,a),t.flags|=262144}function Pr(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,Cr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Lr(e){return zr(wr,e)}function Ar(e,t){return null===wr&&Rr(e),zr(e,t)}function zr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Cr){if(null===e)throw Error(o(308));Cr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cr=Cr.next=t;return n}var Or="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Dr=a.unstable_scheduleCallback,Fr=a.unstable_NormalPriority,Ir={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qr(){return{controller:new Or,data:new Map,refCount:0}}function Mr(e){e.refCount--,0===e.refCount&&Dr(Fr,function(){e.controller.abort()})}var Ur=null,Br=0,Hr=0,Vr=null;function Wr(){if(0===--Br&&null!==Ur){null!==Vr&&(Vr.status="fulfilled");var e=Ur;Ur=null,Hr=0,Vr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $r=z.S;z.S=function(e,t){Ac=se(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ur){var n=Ur=[];Br=0,Hr=Bd(),Vr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Br++,t.then(Wr,Wr)}(0,t),null!==$r&&$r(e,t)};var Gr=q(null);function Qr(){var e=Gr.current;return null!==e?e:hc.pooledCache}function Kr(e,t){U(Gr,null===t?Gr.current:t.pool)}function Jr(){var e=Qr();return null===e?null:{parent:Ir._currentValue,pool:e}}var Yr=Error(o(460)),Xr=Error(o(474)),Zr=Error(o(542)),el={then:function(){}};function tl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nl(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ol(e=t.reason),e;default:if("string"===typeof t.status)t.then(Lt,Lt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ol(e=t.reason),e}throw rl=t,Yr}}function al(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw rl=t,Yr;throw t}}var rl=null;function ll(){if(null===rl)throw Error(o(459));var e=rl;return rl=null,e}function ol(e){if(e===Yr||e===Zr)throw Error(o(483))}var il=null,sl=0;function cl(e){var t=sl;return sl+=1,null===il&&(il=[]),nl(il,e,t)}function dl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ul(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pl(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ma(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,a){return null===t||6!==t.tag?((t=Va(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===v?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===S&&al(l)===t.type)?(dl(t=r(t,n.props),n),t.return=e,t):(dl(t=Ba(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$a(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,l){return null===t||7!==t.tag?((t=Ha(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Va(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return dl(n=Ba(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$a(t,e.mode,n)).return=e,t;case S:return p(e,t=al(t),n)}if(A(t)||P(t))return(t=Ha(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,cl(t),n);if(t.$$typeof===j)return p(e,Ar(e,t),n);ul(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:s(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,a):null;case g:return n.key===r?d(e,t,n,a):null;case S:return m(e,t,n=al(n),a)}if(A(n)||P(n))return null!==r?null:u(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,cl(n),a);if(n.$$typeof===j)return m(e,t,Ar(e,n),a);ul(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return s(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case g:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case S:return h(e,t,n,a=al(a),r)}if(A(a)||P(a))return u(t,e=e.get(n)||null,a,r,null);if("function"===typeof a.then)return h(e,t,n,cl(a),r);if(a.$$typeof===j)return h(e,t,n,Ar(t,a),r);ul(t,a)}return null}function y(s,c,d,u){if("object"===typeof d&&null!==d&&d.type===v&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var x=d.key;null!==c;){if(c.key===x){if((x=d.type)===v){if(7===c.tag){n(s,c.sibling),(u=r(c,d.props.children)).return=s,s=u;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===S&&al(x)===c.type){n(s,c.sibling),dl(u=r(c,d.props),d),u.return=s,s=u;break e}n(s,c);break}t(s,c),c=c.sibling}d.type===v?((u=Ha(d.props.children,s.mode,u,d.key)).return=s,s=u):(dl(u=Ba(d.type,d.key,d.props,null,s.mode,u),d),u.return=s,s=u)}return i(s);case g:e:{for(x=d.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(s,c.sibling),(u=r(c,d.children||[])).return=s,s=u;break e}n(s,c);break}t(s,c),c=c.sibling}(u=$a(d,s.mode,u)).return=s,s=u}return i(s);case S:return y(s,c,d=al(d),u)}if(A(d))return function(r,o,i,s){for(var c=null,d=null,u=o,f=o=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=m(r,u,i[f],s);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(r,u),o=l(v,o,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===i.length)return n(r,u),ur&&rr(r,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(r,i[f],s))&&(o=l(u,o,f),null===d?c=u:d.sibling=u,d=u);return ur&&rr(r,f),c}for(u=a(u);f<i.length;f++)null!==(g=h(u,r,f,i[f],s))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),o=l(g,o,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),ur&&rr(r,f),c}(s,c,d,u);if(P(d)){if("function"!==typeof(x=P(d)))throw Error(o(150));return function(r,i,s,c){if(null==s)throw Error(o(151));for(var d=null,u=null,f=i,g=i=0,v=null,y=s.next();null!==f&&!y.done;g++,y=s.next()){f.index>g?(v=f,f=null):v=f.sibling;var x=m(r,f,y.value,c);if(null===x){null===f&&(f=v);break}e&&f&&null===x.alternate&&t(r,f),i=l(x,i,g),null===u?d=x:u.sibling=x,u=x,f=v}if(y.done)return n(r,f),ur&&rr(r,g),d;if(null===f){for(;!y.done;g++,y=s.next())null!==(y=p(r,y.value,c))&&(i=l(y,i,g),null===u?d=y:u.sibling=y,u=y);return ur&&rr(r,g),d}for(f=a(f);!y.done;g++,y=s.next())null!==(y=h(f,r,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),i=l(y,i,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(r,e)}),ur&&rr(r,g),d}(s,c,d=x.call(d),u)}if("function"===typeof d.then)return y(s,c,cl(d),u);if(d.$$typeof===j)return y(s,c,Ar(s,d),u);ul(s,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(s,c.sibling),(u=r(c,d)).return=s,s=u):(n(s,c),(u=Va(d,s.mode,u)).return=s,s=u),i(s)):n(s,c)}return function(e,t,n,a){try{sl=0;var r=y(e,t,n,a);return il=null,r}catch(o){if(o===Yr||o===Zr)throw o;var l=Ia(29,o,null,e.mode);return l.lanes=a,l.return=e,l}}}var ml=pl(!0),hl=pl(!1),fl=!1;function gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xl(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&mc)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Oa(e),za(e,null,n),t}return Ra(e,a,t,n),Oa(e)}function bl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}function jl(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?r=l=o:l=l.next=o,n=n.next}while(null!==n);null===l?r=l=t:l=l.next=t}else r=l=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nl=!1;function wl(){if(Nl){if(null!==Vr)throw Vr}}function Cl(e,t,n,a){Nl=!1;var r=e.updateQueue;fl=!1;var l=r.firstBaseUpdate,o=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var s=i,c=s.next;s.next=null,null===o?l=c:o.next=c,o=s;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=s))}if(null!==l){var u=r.baseState;for(o=0,d=c=s=null,i=l;;){var p=-536870913&i.lane,h=p!==i.lane;if(h?(gc&p)===p:(a&p)===p){0!==p&&p===Hr&&(Nl=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,g=i;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(v,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(v,u,p):f)||void 0===p)break e;u=m({},u,p);break e;case 2:fl=!0}}null!==(p=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[p]:h.push(p))}else h={lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,s=u):d=d.next=h,o|=p;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===d&&(s=u),r.baseState=s,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===l&&(r.shared.lanes=0),Cc|=o,e.lanes=o,e.memoizedState=u}}function _l(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Sl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_l(n[e],t)}var kl=q(null),El=q(0);function Tl(e,t){U(El,e=Nc),U(kl,t),Nc=e|t.baseLanes}function Pl(){U(El,Nc),U(kl,kl.current)}function Rl(){Nc=El.current,M(kl),M(El)}var Ll=q(null),Al=null;function zl(e){var t=e.alternate;U(ql,1&ql.current),U(Ll,e),null===Al&&(null===t||null!==kl.current||null!==t.memoizedState)&&(Al=e)}function Ol(e){U(ql,ql.current),U(Ll,e),null===Al&&(Al=e)}function Dl(e){22===e.tag?(U(ql,ql.current),U(Ll,e),null===Al&&(Al=e)):Fl()}function Fl(){U(ql,ql.current),U(Ll,Ll.current)}function Il(e){M(Ll),Al===e&&(Al=null),M(ql)}var ql=q(0);function Ml(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ru(n)||Lu(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=0,Bl=null,Hl=null,Vl=null,Wl=!1,$l=!1,Gl=!1,Ql=0,Kl=0,Jl=null,Yl=0;function Xl(){throw Error(o(321))}function Zl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,a,r,l){return Ul=l,Bl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?gi:vi,Gl=!1,l=n(a,r),Gl=!1,$l&&(l=no(t,n,a,r)),to(e),l}function to(e){z.H=fi;var t=null!==Hl&&null!==Hl.next;if(Ul=0,Vl=Hl=Bl=null,Wl=!1,Kl=0,Jl=null,t)throw Error(o(300));null===e||Ai||null!==(e=e.dependencies)&&Pr(e)&&(Ai=!0)}function no(e,t,n,a){Bl=e;var r=0;do{if($l&&(Jl=null),Kl=0,$l=!1,25<=r)throw Error(o(301));if(r+=1,Vl=Hl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}z.H=yi,l=t(n,a)}while($l);return l}function ao(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Hl?Hl.memoizedState:null)!==e&&(Bl.flags|=1024),t}function ro(){var e=0!==Ql;return Ql=0,e}function lo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Wl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wl=!1}Ul=0,Vl=Hl=Bl=null,$l=!1,Kl=Ql=0,Jl=null}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vl?Bl.memoizedState=Vl=e:Vl=Vl.next=e,Vl}function so(){if(null===Hl){var e=Bl.alternate;e=null!==e?e.memoizedState:null}else e=Hl.next;var t=null===Vl?Bl.memoizedState:Vl.next;if(null!==t)Vl=t,Hl=e;else{if(null===e){if(null===Bl.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Hl=e).memoizedState,baseState:Hl.baseState,baseQueue:Hl.baseQueue,queue:Hl.queue,next:null},null===Vl?Bl.memoizedState=Vl=e:Vl=Vl.next=e}return Vl}function co(e){var t=Kl;return Kl+=1,null===Jl&&(Jl=[]),e=nl(Jl,e,t),t=Bl,null===(null===Vl?t.memoizedState:Vl.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?gi:vi),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===j)return Lr(e)}throw Error(o(438,String(e)))}function po(e){var t=null,n=Bl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Bl.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E;return t.index++,n}function mo(e,t){return"function"===typeof t?t(e):t}function ho(e){return fo(so(),Hl,e)}function fo(e,t,n){var a=e.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=n;var r=e.baseQueue,l=a.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}t.baseQueue=r=l,a.pending=null}if(l=e.baseState,null===r)e.memoizedState=l;else{var s=i=null,c=null,d=t=r.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(gc&p)===p:(Ul&p)===p){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Hr&&(u=!0);else{if((Ul&m)===m){d=d.next,m===Hr&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(s=c=p,i=l):c=c.next=p,Bl.lanes|=m,Cc|=m}p=d.action,Gl&&n(l,p),l=d.hasEagerState?d.eagerState:n(l,p)}else m={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(s=c=m,i=l):c=c.next=m,Bl.lanes|=p,Cc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?i=l:c.next=s,!Xn(l,e.memoizedState)&&(Ai=!0,u&&null!==(n=Vr)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=c,a.lastRenderedState=l}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function go(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);Xn(l,t.memoizedState)||(Ai=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function vo(e,t,n){var a=Bl,r=so(),l=ur;if(l){if(void 0===n)throw Error(o(407));n=n()}else n=t();var i=!Xn((Hl||r).memoizedState,n);if(i&&(r.memoizedState=n,Ai=!0),r=r.queue,Bo(bo.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||null!==Vl&&1&Vl.memoizedState.tag){if(a.flags|=2048,Fo(9,{destroy:void 0},xo.bind(null,a,r,n,t),null),null===hc)throw Error(o(349));l||0!==(127&Ul)||yo(a,t,n)}return n}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xo(e,t,n,a){t.value=n,t.getSnapshot=a,jo(t)&&No(e)}function bo(e,t,n){return n(function(){jo(t)&&No(e)})}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(a){return!0}}function No(e){var t=Aa(e,2);null!==t&&Qc(t,e,2)}function wo(e){var t=io();if("function"===typeof e){var n=e;if(e=n(),Gl){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t}function Co(e,t,n,a){return e.baseState=n,fo(e,Hl,"function"===typeof a?a:mo)}function _o(e,t,n,a,r){if(pi(e))throw Error(o(485));if(null!==(e=t.action)){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==z.T?n(!0):l.isTransition=!1,a(l),null===(n=t.pending)?(l.next=t.pending=l,So(t,l)):(l.next=n.next,t.pending=n.next=l)}}function So(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var l=z.T,o={};z.T=o;try{var i=n(r,a),s=z.S;null!==s&&s(o,i),ko(e,t,i)}catch(c){To(e,t,c)}finally{null!==l&&null!==o.types&&(l.types=o.types),z.T=l}}else try{ko(e,t,l=n(r,a))}catch(d){To(e,t,d)}}function ko(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Eo(e,t,n)},function(n){return To(e,t,n)}):Eo(e,t,n)}function Eo(e,t,n){t.status="fulfilled",t.value=n,Po(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,So(e,n)))}function To(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Po(t),t=t.next}while(t!==a)}e.action=null}function Po(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ro(e,t){return t}function Lo(e,t){if(ur){var n=hc.formState;if(null!==n){e:{var a=Bl;if(ur){if(dr){t:{for(var r=dr,l=mr;8!==r.nodeType;){if(!l){r=null;break t}if(null===(r=Au(r.nextSibling))){r=null;break t}}r="F!"===(l=r.data)||"F"===l?r:null}if(r){dr=Au(r.nextSibling),a="F!"===r.data;break e}}fr(a)}a=!1}a&&(t=n[0])}}return(n=io()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},n.queue=a,n=ci.bind(null,Bl,a),a.dispatch=n,a=wo(!1),l=ui.bind(null,Bl,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=io()).queue=r,n=_o.bind(null,Bl,r,l,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Ao(e){return zo(so(),Hl,e)}function zo(e,t,n){if(t=fo(e,t,Ro)[0],e=ho(mo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=co(t)}catch(o){if(o===Yr)throw Zr;throw o}else a=t;var r=(t=so()).queue,l=r.dispatch;return n!==t.memoizedState&&(Bl.flags|=2048,Fo(9,{destroy:void 0},Oo.bind(null,r,n),null)),[a,l,e]}function Oo(e,t){e.action=t}function Do(e){var t=so(),n=Hl;if(null!==n)return zo(t,n,e);so(),t=t.memoizedState;var a=(n=so()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Fo(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Bl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Io(){return so().memoizedState}function qo(e,t,n,a){var r=io();Bl.flags|=e,r.memoizedState=Fo(1|t,{destroy:void 0},n,void 0===a?null:a)}function Mo(e,t,n,a){var r=so();a=void 0===a?null:a;var l=r.memoizedState.inst;null!==Hl&&null!==a&&Zl(a,Hl.memoizedState.deps)?r.memoizedState=Fo(t,l,n,a):(Bl.flags|=e,r.memoizedState=Fo(1|t,l,n,a))}function Uo(e,t){qo(8390656,8,e,t)}function Bo(e,t){Mo(2048,8,e,t)}function Ho(e){var t=so().memoizedState;return function(e){Bl.flags|=4;var t=Bl.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Vo(e,t){return Mo(4,2,e,t)}function Wo(e,t){return Mo(4,4,e,t)}function $o(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,$o.bind(null,t,e),n)}function Qo(){}function Ko(e,t){var n=so();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Zl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=so();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Zl(t,a[1]))return a[0];if(a=e(),Gl){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[a,t],a}function Yo(e,t,n){return void 0===n||0!==(1073741824&Ul)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Bl.lanes|=e,Cc|=e,n)}function Xo(e,t,n,a){return Xn(n,t)?n:null!==kl.current?(e=Yo(e,n,a),Xn(e,t)||(Ai=!0),e):0===(42&Ul)||0!==(1073741824&Ul)&&0===(261930&gc)?(Ai=!0,e.memoizedState=n):(e=Gc(),Bl.lanes|=e,Cc|=e,t)}function Zo(e,t,n,a,r){var l=O.p;O.p=0!==l&&8>l?l:8;var o=z.T,i={};z.T=i,ui(e,!1,t,n);try{var s=r(),c=z.S;if(null!==c&&c(i,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)di(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(s,a),$c());else di(e,t,a,$c())}catch(d){di(e,t,{then:function(){},status:"rejected",reason:d},$c())}finally{O.p=l,null!==o&&null!==i.types&&(o.types=i.types),z.T=o}}function ei(){}function ti(e,t,n,a){if(5!==e.tag)throw Error(o(476));var r=ni(e).queue;Zo(e,r,t,D,null===n?ei:function(){return ai(e),n(a)})}function ni(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ai(e){var t=ni(e);null===t.next&&(t=e.alternate.memoizedState),di(e,t.next.queue,{},$c())}function ri(){return Lr(dp)}function li(){return so().memoizedState}function oi(){return so().memoizedState}function ii(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),a=xl(t,e=yl(n),n);return null!==a&&(Qc(a,t,n),bl(a,t,n)),t={cache:qr()},void(e.payload=t)}t=t.return}}function si(e,t,n){var a=$c();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pi(e)?mi(t,n):null!==(n=La(e,t,n,a))&&(Qc(n,e,a),hi(n,t,a))}function ci(e,t,n){di(e,t,n,$c())}function di(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pi(e))mi(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=l(o,n);if(r.hasEagerState=!0,r.eagerState=i,Xn(i,o))return Ra(e,t,r,0),null===hc&&Pa(),!1}catch(s){}if(null!==(n=La(e,t,r,a)))return Qc(n,e,a),hi(n,t,a),!0}return!1}function ui(e,t,n,a){if(a={lane:2,revertLane:Bd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pi(e)){if(t)throw Error(o(479))}else null!==(t=La(e,n,a,2))&&Qc(t,e,2)}function pi(e){var t=e.alternate;return e===Bl||null!==t&&t===Bl}function mi(e,t){$l=Wl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}var fi={readContext:Lr,use:uo,useCallback:Xl,useContext:Xl,useEffect:Xl,useImperativeHandle:Xl,useLayoutEffect:Xl,useInsertionEffect:Xl,useMemo:Xl,useReducer:Xl,useRef:Xl,useState:Xl,useDebugValue:Xl,useDeferredValue:Xl,useTransition:Xl,useSyncExternalStore:Xl,useId:Xl,useHostTransitionStatus:Xl,useFormState:Xl,useActionState:Xl,useOptimistic:Xl,useMemoCache:Xl,useCacheRefresh:Xl};fi.useEffectEvent=Xl;var gi={readContext:Lr,use:uo,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:Lr,useEffect:Uo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){qo(4,2,e,t)},useMemo:function(e,t){var n=io();t=void 0===t?null:t;var a=e();if(Gl){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=io();if(void 0!==n){var r=n(t);if(Gl){xe(!0);try{n(t)}finally{xe(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=si.bind(null,Bl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},io().memoizedState=e},useState:function(e){var t=(e=wo(e)).queue,n=ci.bind(null,Bl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return Yo(io(),e,t)},useTransition:function(){var e=wo(!1);return e=Zo.bind(null,Bl,e.queue,!0,!1),io().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Bl,r=io();if(ur){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===hc)throw Error(o(349));0!==(127&gc)||yo(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Uo(bo.bind(null,a,l,e),[e]),a.flags|=2048,Fo(9,{destroy:void 0},xo.bind(null,a,l,n,t),null),n},useId:function(){var e=io(),t=hc.identifierPrefix;if(ur){var n=ar;t="_"+t+"R_"+(n=(nr&~(1<<32-be(nr)-1)).toString(32)+n),0<(n=Ql++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Yl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ri,useFormState:Lo,useActionState:Lo,useOptimistic:function(e){var t=io();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ui.bind(null,Bl,!0,n),n.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return io().memoizedState=ii.bind(null,Bl)},useEffectEvent:function(e){var t=io(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&mc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},vi={readContext:Lr,use:uo,useCallback:Ko,useContext:Lr,useEffect:Bo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Jo,useReducer:ho,useRef:Io,useState:function(){return ho(mo)},useDebugValue:Qo,useDeferredValue:function(e,t){return Xo(so(),Hl.memoizedState,e,t)},useTransition:function(){var e=ho(mo)[0],t=so().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:li,useHostTransitionStatus:ri,useFormState:Ao,useActionState:Ao,useOptimistic:function(e,t){return Co(so(),0,e,t)},useMemoCache:po,useCacheRefresh:oi};vi.useEffectEvent=Ho;var yi={readContext:Lr,use:uo,useCallback:Ko,useContext:Lr,useEffect:Bo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Jo,useReducer:go,useRef:Io,useState:function(){return go(mo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=so();return null===Hl?Yo(n,e,t):Xo(n,Hl.memoizedState,e,t)},useTransition:function(){var e=go(mo)[0],t=so().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:li,useHostTransitionStatus:ri,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){var n=so();return null!==Hl?Co(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:po,useCacheRefresh:oi};function xi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}yi.useEffectEvent=Ho;var bi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$c(),r=yl(a);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=xl(e,r,a))&&(Qc(t,e,a),bl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$c(),r=yl(a);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=xl(e,r,a))&&(Qc(t,e,a),bl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),a=yl(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=xl(e,a,n))&&(Qc(t,e,n),bl(t,e,n))}};function ji(e,t,n,a,r,l,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,a)||!Zn(r,l))}function Ni(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&bi.enqueueReplaceState(t,t.state,null)}function wi(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=m({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Ci(e){Sa(e)}function _i(e){console.error(e)}function Si(e){Sa(e)}function ki(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ei(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ti(e,t,n){return(n=yl(n)).tag=3,n.payload={element:null},n.callback=function(){ki(e,t)},n}function Pi(e){return(e=yl(e)).tag=3,e}function Ri(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var l=a.value;e.payload=function(){return r(l)},e.callback=function(){Ei(t,n,a)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ei(t,n,a),"function"!==typeof r&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Li=Error(o(461)),Ai=!1;function zi(e,t,n,a){t.child=null===e?hl(t,null,n,a):ml(t,e.child,n,a)}function Oi(e,t,n,a,r){n=n.render;var l=t.ref;if("ref"in a){var o={};for(var i in a)"ref"!==i&&(o[i]=a[i])}else o=a;return Rr(t),a=eo(e,t,n,o,l,r),i=ro(),null===e||Ai?(ur&&i&&or(t),t.flags|=1,zi(e,t,a,r),t.child):(lo(e,t,r),rs(e,t,r))}function Di(e,t,n,a,r){if(null===e){var l=n.type;return"function"!==typeof l||qa(l)||void 0!==l.defaultProps||null!==n.compare?((e=Ba(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Fi(e,t,l,a,r))}if(l=e.child,!ls(e,r)){var o=l.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,a)&&e.ref===t.ref)return rs(e,t,r)}return t.flags|=1,(e=Ma(l,a)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,a,r){if(null!==e){var l=e.memoizedProps;if(Zn(l,a)&&e.ref===t.ref){if(Ai=!1,t.pendingProps=a=l,!ls(e,r))return t.lanes=e.lanes,rs(e,t,r);0!==(131072&e.flags)&&(Ai=!0)}}return Vi(e,t,n,a,r)}function Ii(e,t,n,a){var r=a.children,l=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(l=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~l}else a=0,t.child=null;return Mi(e,t,l,n,a)}if(0===(536870912&n))return a=t.lanes=536870912,Mi(e,t,null!==l?l.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Kr(0,null!==l?l.cachePool:null),null!==l?Tl(t,l):Pl(),Dl(t)}else null!==l?(Kr(0,l.cachePool),Tl(t,l),Fl(),t.memoizedState=null):(null!==e&&Kr(0,null),Pl(),Fl());return zi(e,t,r,n),t.child}function qi(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mi(e,t,n,a,r){var l=Qr();return l=null===l?null:{parent:Ir._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},null!==e&&Kr(0,null),Pl(),Dl(t),null!==e&&Tr(e,t,a,!0),t.childLanes=r,null}function Ui(e,t){return(t=Zi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bi(e,t,n){return ml(t,e.child,null,n),(e=Ui(t,t.pendingProps)).flags|=2,Il(t),t.memoizedState=null,e}function Hi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vi(e,t,n,a,r){return Rr(t),n=eo(e,t,n,a,void 0,r),a=ro(),null===e||Ai?(ur&&a&&or(t),t.flags|=1,zi(e,t,n,r),t.child):(lo(e,t,r),rs(e,t,r))}function Wi(e,t,n,a,r,l){return Rr(t),t.updateQueue=null,n=no(t,a,n,r),to(e),a=ro(),null===e||Ai?(ur&&a&&or(t),t.flags|=1,zi(e,t,n,l),t.child):(lo(e,t,l),rs(e,t,l))}function $i(e,t,n,a,r){if(Rr(t),null===t.stateNode){var l=Da,o=n.contextType;"object"===typeof o&&null!==o&&(l=Lr(o)),l=new n(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=bi,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},gl(t),o=n.contextType,l.context="object"===typeof o&&null!==o?Lr(o):Da,l.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(xi(t,n,o,a),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(o=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),o!==l.state&&bi.enqueueReplaceState(l,l.state,null),Cl(t,a,l,r),wl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var i=t.memoizedProps,s=wi(n,i);l.props=s;var c=l.context,d=n.contextType;o=Da,"object"===typeof d&&null!==d&&(o=Lr(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i||c!==o)&&Ni(t,l,a,o),fl=!1;var p=t.memoizedState;l.state=p,Cl(t,a,l,r),wl(),c=t.memoizedState,i||p!==c||fl?("function"===typeof u&&(xi(t,n,u,a),c=t.memoizedState),(s=fl||ji(t,n,s,a,p,c,o))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=o,a=s):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,vl(e,t),d=wi(n,o=t.memoizedProps),l.props=d,u=t.pendingProps,p=l.context,c=n.contextType,s=Da,"object"===typeof c&&null!==c&&(s=Lr(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==u||p!==s)&&Ni(t,l,a,s),fl=!1,p=t.memoizedState,l.state=p,Cl(t,a,l,r),wl();var m=t.memoizedState;o!==u||p!==m||fl||null!==e&&null!==e.dependencies&&Pr(e.dependencies)?("function"===typeof i&&(xi(t,n,i,a),m=t.memoizedState),(d=fl||ji(t,n,d,a,p,m,s)||null!==e&&null!==e.dependencies&&Pr(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,m,s),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,m,s)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),l.props=a,l.state=m,l.context=s,a=d):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Hi(e,t),a=0!==(128&t.flags),l||a?(l=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=ml(t,e.child,null,r),t.child=ml(t,null,n,r)):zi(e,t,n,r),t.memoizedState=l.state,e=t.child):e=rs(e,t,r),e}function Gi(e,t,n,a){return xr(),t.flags|=256,zi(e,t,n,a),t.child}var Qi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ki(e){return{baseLanes:e,cachePool:Jr()}}function Ji(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=kc),e}function Yi(e,t,n){var a,r=t.pendingProps,l=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&ql.current)),a&&(l=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(ur){if(l?zl(t):Fl(),(e=dr)?null!==(e=null!==(e=Pu(e,mr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(n=Wa(e)).return=t,t.child=n,cr=t,dr=null):e=null,null===e)throw fr(t);return Lu(e)?t.lanes=32:t.lanes=536870912,null}var s=r.children;return r=r.fallback,l?(Fl(),s=Zi({mode:"hidden",children:s},l=t.mode),r=Ha(r,l,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,(r=t.child).memoizedState=Ki(n),r.childLanes=Ji(e,a,n),t.memoizedState=Qi,qi(null,r)):(zl(t),Xi(t,s))}var c=e.memoizedState;if(null!==c&&null!==(s=c.dehydrated)){if(i)256&t.flags?(zl(t),t.flags&=-257,t=es(e,t,n)):null!==t.memoizedState?(Fl(),t.child=e.child,t.flags|=128,t=null):(Fl(),s=r.fallback,l=t.mode,r=Zi({mode:"visible",children:r.children},l),(s=Ha(s,l,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,ml(t,e.child,null,n),(r=t.child).memoizedState=Ki(n),r.childLanes=Ji(e,a,n),t.memoizedState=Qi,t=qi(null,r));else if(zl(t),Lu(s)){if(a=s.nextSibling&&s.nextSibling.dataset)var d=a.dgst;a=d,(r=Error(o(419))).stack="",r.digest=a,jr({value:r,source:null,stack:null}),t=es(e,t,n)}else if(Ai||Tr(e,t,n,!1),a=0!==(n&e.childLanes),Ai||a){if(null!==(a=hc)&&(0!==(r=Oe(a,n))&&r!==c.retryLane))throw c.retryLane=r,Aa(e,r),Qc(a,e,r),Li;Ru(s)||od(),t=es(e,t,n)}else Ru(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,dr=Au(s.nextSibling),cr=t,ur=!0,pr=null,mr=!1,null!==e&&sr(t,e),(t=Xi(t,r.children)).flags|=4096);return t}return l?(Fl(),s=r.fallback,l=t.mode,d=(c=e.child).sibling,(r=Ma(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?s=Ma(d,s):(s=Ha(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,qi(null,r),r=t.child,null===(s=e.child.memoizedState)?s=Ki(n):(null!==(l=s.cachePool)?(c=Ir._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Jr(),s={baseLanes:s.baseLanes|n,cachePool:l}),r.memoizedState=s,r.childLanes=Ji(e,a,n),t.memoizedState=Qi,qi(e.child,r)):(zl(t),e=(n=e.child).sibling,(n=Ma(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Xi(e,t){return(t=Zi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zi(e,t){return(e=Ia(22,e,null,t)).lanes=0,e}function es(e,t,n){return ml(t,e.child,null,n),(e=Xi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),kr(e.return,t,n)}function ns(e,t,n,a,r,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r,o.treeForkCount=l)}function as(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;a=a.children;var o=ql.current,i=0!==(2&o);if(i?(o=1&o|2,t.flags|=128):o&=1,U(ql,o),zi(e,t,a,n),a=ur?Xa:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ml(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ns(t,!1,r,n,l,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ml(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ns(t,!0,n,null,l,a);break;case"together":ns(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Tr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ma(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ma(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ls(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pr(e))}function os(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ai=!0;else{if(!ls(e,n)&&0===(128&t.flags))return Ai=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_r(0,Ir,e.memoizedState.cache),xr();break;case 27:case 5:J(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_r(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ol(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(zl(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(zl(t),null!==(e=rs(e,t,n))?e.sibling:null);zl(t);break;case 19:var r=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(Tr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return as(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(ql,ql.current),a)break;return null;case 22:return t.lanes=0,Ii(e,t,n,t.pendingProps);case 24:_r(0,Ir,e.memoizedState.cache)}return rs(e,t,n)}(e,t,n);Ai=0!==(131072&e.flags)}else Ai=!1,ur&&0!==(1048576&t.flags)&&lr(t,Xa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=al(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===N){t.tag=11,t=Oi(null,t,e,a,n);break e}if(r===_){t.tag=14,t=Di(null,t,e,a,n);break e}}throw t=L(e)||e,Error(o(306,t,""))}qa(e)?(a=wi(e,a),t.tag=1,t=$i(null,t,e,a,n)):(t.tag=0,t=Vi(null,t,e,a,n))}return t;case 0:return Vi(e,t,t.type,t.pendingProps,n);case 1:return $i(e,t,a=t.type,r=wi(a,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));a=t.pendingProps;var l=t.memoizedState;r=l.element,vl(e,t),Cl(t,a,null,n);var i=t.memoizedState;if(a=i.cache,_r(0,Ir,a),a!==l.cache&&Er(t,[Ir],n,!0),wl(),a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Gi(e,t,a,n);break e}if(a!==r){jr(r=Qa(Error(o(424)),t)),t=Gi(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(dr=Au(e.firstChild),cr=t,ur=!0,pr=null,mr=!0,n=hl(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xr(),a===r){t=rs(e,t,n);break e}zi(e,t,a,n)}t=t.child}return t;case 26:return Hi(e,t),null===e?(n=Wu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ur||(n=t.type,e=t.pendingProps,(a=gu($.current).createElement(n))[Ue]=t,a[Be]=e,pu(a,n,e),et(a),t.stateNode=a):t.memoizedState=Wu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ur&&(a=t.stateNode=Fu(t.type,t.pendingProps,$.current),cr=t,mr=!0,r=dr,Su(t.type)?(zu=r,dr=Au(a.firstChild)):dr=r),zi(e,t,t.pendingProps.children,n),Hi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ur&&((r=a=dr)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===l)return e}if(null===(e=Au(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,mr))?(t.stateNode=a,cr=t,dr=Au(a.firstChild),mr=!1,r=!0):r=!1),r||fr(t)),J(t),r=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,a=l.children,xu(r,l)?a=null:null!==i&&xu(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=eo(e,t,ao,null,null,n),dp._currentValue=r),Hi(e,t),zi(e,t,a,n),t.child;case 6:return null===e&&ur&&((e=n=dr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Au(e.nextSibling)))return null}return e}(n,t.pendingProps,mr))?(t.stateNode=n,cr=t,dr=null,e=!0):e=!1),e||fr(t)),null;case 13:return Yi(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ml(t,null,a,n):zi(e,t,a,n),t.child;case 11:return Oi(e,t,t.type,t.pendingProps,n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_r(0,t.type,a.value),zi(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Rr(t),a=a(r=Lr(r)),t.flags|=1,zi(e,t,a,n),t.child;case 14:return Di(e,t,t.type,t.pendingProps,n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 19:return as(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ur){if("hidden"===a.mode)return e=Ui(t,a),t.lanes=536870912,qi(null,e);if(Ol(t),(e=dr)?null!==(e=null!==(e=Pu(e,mr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(n=Wa(e)).return=t,t.child=n,cr=t,dr=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return Ui(t,a)}var l=e.memoizedState;if(null!==l){var i=l.dehydrated;if(Ol(t),r)if(256&t.flags)t.flags&=-257,t=Bi(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ai||Tr(e,t,n,!1),r=0!==(n&e.childLanes),Ai||r){if(null!==(a=hc)&&0!==(i=Oe(a,n))&&i!==l.retryLane)throw l.retryLane=i,Aa(e,i),Qc(a,e,i),Li;od(),t=Bi(e,t,n)}else e=l.treeContext,dr=Au(i.nextSibling),cr=t,ur=!0,pr=null,mr=!1,null!==e&&sr(t,e),(t=Ui(t,a)).flags|=4096;return t}return(e=Ma(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ii(e,t,n,t.pendingProps);case 24:return Rr(t),a=Lr(Ir),null===e?(null===(r=Qr())&&(r=hc,l=qr(),r.pooledCache=l,l.refCount++,null!==l&&(r.pooledCacheLanes|=n),r=l),t.memoizedState={parent:a,cache:r},gl(t),_r(0,Ir,r)):(0!==(e.lanes&n)&&(vl(e,t),Cl(t,null,null,n),wl()),r=e.memoizedState,l=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),_r(0,Ir,a)):(a=l.cache,_r(0,Ir,a),a!==r.cache&&Er(t,[Ir],n,!0))),zi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function is(e){e.flags|=4}function ss(e,t,n,a,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!ad())throw rl=el,Xr;e.flags|=8192}}else e.flags&=-16777217}function cs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rp(t)){if(!ad())throw rl=el,Xr;e.flags|=8192}}function ds(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ec|=t)}function us(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function ms(e,t,n){var a=t.pendingProps;switch(ir(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ps(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sr(Ir),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yr(t)?is(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,br())),ps(t),null;case 26:var r=t.type,l=t.memoizedState;return null===e?(is(t),null!==l?(ps(t),cs(t,l)):(ps(t),ss(t,r,0,0,n))):l?l!==e.memoizedState?(is(t),ps(t),cs(t,l)):(ps(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&is(t),ps(t),ss(t,r,0,0,n)),null;case 27:if(Y(t),n=$.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&is(t);else{if(!a){if(null===t.stateNode)throw Error(o(166));return ps(t),null}e=V.current,yr(t)?gr(t):(e=Fu(r,a,n),t.stateNode=e,is(t))}return ps(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&is(t);else{if(!a){if(null===t.stateNode)throw Error(o(166));return ps(t),null}if(l=V.current,yr(t))gr(t);else{var i=gu($.current);switch(l){case 1:l=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:l=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":l=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":l=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(l=i.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"===typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?l.multiple=!0:a.size&&(l.size=a.size);break;default:l="string"===typeof a.is?i.createElement(r,{is:a.is}):i.createElement(r)}}l[Ue]=t,l[Be]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)l.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=l;e:switch(pu(l,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&is(t)}}return ps(t),ss(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&is(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(o(166));if(e=$.current,yr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=cr))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||cu(e.nodeValue,n)))||fr(t,!0)}else(e=gu(e).createTextNode(a))[Ue]=t,t.stateNode=e}return ps(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=yr(t),null!==n){if(null===e){if(!a)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Ue]=t}else xr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),e=!1}else n=br(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Il(t),t):(Il(t),null);if(0!==(128&t.flags))throw Error(o(558))}return ps(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=yr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[Ue]=t}else xr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),r=!1}else r=br(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Il(t),t):(Il(t),null)}return Il(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),l=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ds(t,t.updateQueue),ps(t),null);case 4:return K(),null===e&&Zd(t.stateNode.containerInfo),ps(t),null;case 10:return Sr(t.type),ps(t),null;case 19:if(M(ql),null===(a=t.memoizedState))return ps(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)us(a,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ml(e))){for(t.flags|=128,us(a,!1),e=l.updateQueue,t.updateQueue=e,ds(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ua(n,e),n=n.sibling;return U(ql,1&ql.current|2),ur&&rr(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&se()>zc&&(t.flags|=128,r=!0,us(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ml(l))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ds(t,e),us(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ur)return ps(t),null}else 2*se()-a.renderingStartTime>zc&&536870912!==n&&(t.flags|=128,r=!0,us(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=se(),e.sibling=null,n=ql.current,U(ql,r?1&n|2:1&n),ur&&rr(t,a.treeForkCount),e):(ps(t),null);case 22:case 23:return Il(t),Rl(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null!==(n=t.updateQueue)&&ds(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&M(Gr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sr(Ir),ps(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function hs(e,t){switch(ir(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sr(Ir),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Il(t),null===t.alternate)throw Error(o(340));xr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Il(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));xr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return M(ql),null;case 4:return K(),null;case 10:return Sr(t.type),null;case 22:case 23:return Il(t),Rl(),null!==e&&M(Gr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sr(Ir),null;default:return null}}function fs(e,t){switch(ir(t),t.tag){case 3:Sr(Ir),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Il(t);break;case 13:Il(t);break;case 19:M(ql);break;case 10:Sr(t.type);break;case 22:case 23:Il(t),Rl(),null!==e&&M(Gr);break;case 24:Sr(Ir)}}function gs(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var l=n.create,o=n.inst;a=l(),o.destroy=a}n=n.next}while(n!==r)}}catch(i){wd(t,t.return,i)}}function vs(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var l=r.next;a=l;do{if((a.tag&e)===e){var o=a.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,r=t;var s=n,c=i;try{c()}catch(d){wd(r,s,d)}}}a=a.next}while(a!==l)}}catch(d){wd(t,t.return,d)}}function ys(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Sl(t,n)}catch(a){wd(e,e.return,a)}}}function xs(e,t,n){n.props=wi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){wd(e,t,a)}}function bs(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(r){wd(e,t,r)}}function js(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(r){wd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){wd(e,t,l)}else n.current=null}function Ns(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){wd(e,e.return,r)}}function ws(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,i=null,s=null,c=null,d=null,u=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":c=p;default:a.hasOwnProperty(h)||du(e,t,h,null,a,p)}}for(var m in a){var h=a[m];if(p=n[m],a.hasOwnProperty(m)&&(null!=h||null!=p))switch(m){case"type":l=h;break;case"name":r=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:h!==p&&du(e,t,m,h,a,p)}}return void yt(e,i,s,c,d,u,l,r);case"select":for(l in h=i=s=m=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(l)||du(e,t,l,null,a,c)}for(r in a)if(l=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=l||null!=c))switch(r){case"value":m=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:l!==c&&du(e,t,r,l,a,c)}return t=s,n=i,a=h,void(null!=m?jt(e,!!n,m,!1):!!a!==!!n&&(null!=t?jt(e,!!n,t,!0):jt(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=m=null,n)if(r=n[s],n.hasOwnProperty(s)&&null!=r&&!a.hasOwnProperty(s))switch(s){case"value":case"children":break;default:du(e,t,s,null,a,r)}for(i in a)if(r=a[i],l=n[i],a.hasOwnProperty(i)&&(null!=r||null!=l))switch(i){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==l&&du(e,t,i,r,a,l)}return void Nt(e,m,h);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,a,m);for(c in a)if(m=a[c],h=n[c],a.hasOwnProperty(c)&&m!==h&&(null!=m||null!=h))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else du(e,t,c,m,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&du(e,t,g,null,a,m);for(d in a)if(m=a[d],h=n[d],a.hasOwnProperty(d)&&m!==h&&(null!=m||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:du(e,t,d,m,a,h)}return;default:if(Et(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!a.hasOwnProperty(v)&&uu(e,t,v,void 0,a,m);for(u in a)m=a[u],h=n[u],!a.hasOwnProperty(u)||m===h||void 0===m&&void 0===h||uu(e,t,u,m,a,h);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&null!=m&&!a.hasOwnProperty(y)&&du(e,t,y,null,a,m);for(p in a)m=a[p],h=n[p],!a.hasOwnProperty(p)||m===h||null==m&&null==h||du(e,t,p,m,a,h)}(a,e.type,n,t),a[Be]=t}catch(r){wd(e,e.return,r)}}function Cs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Su(e.type)||4===e.tag}function _s(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Su(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ss(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lt));else if(4!==a&&(27===a&&Su(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ks(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&Su(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Es(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pu(t,a,n),t[Ue]=e,t[Be]=n}catch(l){wd(e,e.return,l)}}var Ts=!1,Ps=!1,Rs=!1,Ls="function"===typeof WeakSet?WeakSet:Set,As=null;function zs(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Qs(e,n),4&a&&gs(5,n);break;case 1:if(Qs(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){wd(n,n.return,o)}else{var r=wi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){wd(n,n.return,i)}}64&a&&ys(n),512&a&&bs(n,n.return);break;case 3:if(Qs(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Sl(e,t)}catch(o){wd(n,n.return,o)}}break;case 27:null===t&&4&a&&Es(n);case 26:case 5:Qs(e,n),null===t&&4&a&&Ns(n),512&a&&bs(n,n.return);break;case 12:Qs(e,n);break;case 31:Qs(e,n),4&a&&Ms(e,n);break;case 13:Qs(e,n),4&a&&Us(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=kd.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||Ts)){t=null!==t&&null!==t.memoizedState||Ps,r=Ts;var l=Ps;Ts=a,(Ps=t)&&!l?Js(e,n,0!==(8772&n.subtreeFlags)):Qs(e,n),Ts=r,Ps=l}break;case 30:break;default:Qs(e,n)}}function Os(e){var t=e.alternate;null!==t&&(e.alternate=null,Os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ds=null,Fs=!1;function Is(e,t,n){for(n=n.child;null!==n;)qs(e,t,n),n=n.sibling}function qs(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(l){}switch(n.tag){case 26:Ps||js(n,t),Is(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ps||js(n,t);var a=Ds,r=Fs;Su(n.type)&&(Ds=n.stateNode,Fs=!1),Is(e,t,n),Iu(n.stateNode),Ds=a,Fs=r;break;case 5:Ps||js(n,t);case 6:if(a=Ds,r=Fs,Ds=null,Is(e,t,n),Fs=r,null!==(Ds=a))if(Fs)try{(9===Ds.nodeType?Ds.body:"HTML"===Ds.nodeName?Ds.ownerDocument.body:Ds).removeChild(n.stateNode)}catch(o){wd(n,t,o)}else try{Ds.removeChild(n.stateNode)}catch(o){wd(n,t,o)}break;case 18:null!==Ds&&(Fs?(ku(9===(e=Ds).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vp(e)):ku(Ds,n.stateNode));break;case 4:a=Ds,r=Fs,Ds=n.stateNode.containerInfo,Fs=!0,Is(e,t,n),Ds=a,Fs=r;break;case 0:case 11:case 14:case 15:vs(2,n,t),Ps||vs(4,n,t),Is(e,t,n);break;case 1:Ps||(js(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&xs(n,t,a)),Is(e,t,n);break;case 21:Is(e,t,n);break;case 22:Ps=(a=Ps)||null!==n.memoizedState,Is(e,t,n),Ps=a;break;default:Is(e,t,n)}}function Ms(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vp(e)}catch(n){wd(t,t.return,n)}}}function Us(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vp(e)}catch(n){wd(t,t.return,n)}}function Bs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ls),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ls),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Ed.bind(null,e,t);t.then(a,a)}})}function Hs(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],l=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 27:if(Su(s.type)){Ds=s.stateNode,Fs=!1;break e}break;case 5:Ds=s.stateNode,Fs=!1;break e;case 3:case 4:Ds=s.stateNode.containerInfo,Fs=!0;break e}s=s.return}if(null===Ds)throw Error(o(160));qs(l,i,r),Ds=null,Fs=!1,null!==(l=r.alternate)&&(l.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ws(t,e),t=t.sibling}var Vs=null;function Ws(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hs(t,e),$s(e),4&a&&(vs(3,e,e.return),gs(3,e),vs(5,e,e.return));break;case 1:Hs(t,e),$s(e),512&a&&(Ps||null===n||js(n,n.return)),64&a&&Ts&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=Vs;if(Hs(t,e),$s(e),512&a&&(Ps||null===n||js(n,n.return)),4&a){var l=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(l=r.getElementsByTagName("title")[0])||l[Qe]||l[Ue]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=r.createElement(a),r.head.insertBefore(l,r.querySelector("head > title"))),pu(l,a,n),l[Ue]=e,et(l),a=l;break e;case"link":var i=np("link","href",r).get(a+(n.href||""));if(i)for(var s=0;s<i.length;s++)if((l=i[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(s,1);break t}pu(l=r.createElement(a),a,n),r.head.appendChild(l);break;case"meta":if(i=np("meta","content",r).get(a+(n.content||"")))for(s=0;s<i.length;s++)if((l=i[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(s,1);break t}pu(l=r.createElement(a),a,n),r.head.appendChild(l);break;default:throw Error(o(468,a))}l[Ue]=e,et(l),a=l}e.stateNode=a}else ap(r,e.type,e.stateNode);else e.stateNode=Yu(r,a,e.memoizedProps);else l!==a?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===a?ap(r,e.type,e.stateNode):Yu(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&ws(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hs(t,e),$s(e),512&a&&(Ps||null===n||js(n,n.return)),null!==n&&4&a&&ws(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hs(t,e),$s(e),512&a&&(Ps||null===n||js(n,n.return)),32&e.flags){r=e.stateNode;try{Ct(r,"")}catch(f){wd(e,e.return,f)}}4&a&&null!=e.stateNode&&ws(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(Rs=!0);break;case 6:if(Hs(t,e),$s(e),4&a){if(null===e.stateNode)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){wd(e,e.return,f)}}break;case 3:if(tp=null,r=Vs,Vs=Uu(t.containerInfo),Hs(t,e),Vs=r,$s(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(f){wd(e,e.return,f)}Rs&&(Rs=!1,Gs(e));break;case 4:a=Vs,Vs=Uu(e.stateNode.containerInfo),Hs(t,e),$s(e),Vs=a;break;case 12:default:Hs(t,e),$s(e);break;case 31:case 19:Hs(t,e),$s(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bs(e,a)));break;case 13:Hs(t,e),$s(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Lc=se()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bs(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Ts,u=Ps;if(Ts=d||r,Ps=u||c,Hs(t,e),Ps=u,Ts=d,$s(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Ts||Ps||Ks(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,r)"function"===typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=c.stateNode;var p=c.memoizedProps.style,m=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){wd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){wd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var h=c.stateNode;r?Eu(h,!0):Eu(c.stateNode,!1)}catch(f){wd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Bs(e,n))));case 30:case 21:}}function $s(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Cs(a)){n=a;break}a=a.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode;ks(e,_s(e),r);break;case 5:var l=n.stateNode;32&n.flags&&(Ct(l,""),n.flags&=-33),ks(e,_s(e),l);break;case 3:case 4:var i=n.stateNode.containerInfo;Ss(e,_s(e),i);break;default:throw Error(o(161))}}catch(s){wd(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gs(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gs(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qs(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zs(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vs(4,t,t.return),Ks(t);break;case 1:js(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xs(t,t.return,n),Ks(t);break;case 27:Iu(t.stateNode);case 26:case 5:js(t,t.return),Ks(t);break;case 22:null===t.memoizedState&&Ks(t);break;default:Ks(t)}e=e.sibling}}function Js(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,l=t,o=l.flags;switch(l.tag){case 0:case 11:case 15:Js(r,l,n),gs(4,l);break;case 1:if(Js(r,l,n),"function"===typeof(r=(a=l).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){wd(a,a.return,c)}if(null!==(r=(a=l).updateQueue)){var i=a.stateNode;try{var s=r.shared.hiddenCallbacks;if(null!==s)for(r.shared.hiddenCallbacks=null,r=0;r<s.length;r++)_l(s[r],i)}catch(c){wd(a,a.return,c)}}n&&64&o&&ys(l),bs(l,l.return);break;case 27:Es(l);case 26:case 5:Js(r,l,n),n&&null===a&&4&o&&Ns(l),bs(l,l.return);break;case 12:Js(r,l,n);break;case 31:Js(r,l,n),n&&4&o&&Ms(r,l);break;case 13:Js(r,l,n),n&&4&o&&Us(r,l);break;case 22:null===l.memoizedState&&Js(r,l,n),bs(l,l.return);break;case 30:break;default:Js(r,l,n)}t=t.sibling}}function Ys(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mr(n))}function Xs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e))}function Zs(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,a),t=t.sibling}function ec(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zs(e,t,n,a),2048&r&&gs(9,t);break;case 1:case 31:case 13:default:Zs(e,t,n,a);break;case 3:Zs(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e)));break;case 12:if(2048&r){Zs(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,o=l.id,i=l.onPostCommit;"function"===typeof i&&i(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){wd(t,t.return,s)}}else Zs(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,o=t.alternate,null!==t.memoizedState?2&l._visibility?Zs(e,t,n,a):nc(e,t):2&l._visibility?Zs(e,t,n,a):(l._visibility|=2,tc(e,t,n,a,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Ys(o,t);break;case 24:Zs(e,t,n,a),2048&r&&Xs(t.alternate,t)}}function tc(e,t,n,a,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var l=e,o=t,i=n,s=a,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(l,o,i,s,r),gs(8,o);break;case 23:break;case 22:var d=o.stateNode;null!==o.memoizedState?2&d._visibility?tc(l,o,i,s,r):nc(l,o):(d._visibility|=2,tc(l,o,i,s,r)),r&&2048&c&&Ys(o.alternate,o);break;case 24:tc(l,o,i,s,r),r&&2048&c&&Xs(o.alternate,o);break;default:tc(l,o,i,s,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:nc(n,a),2048&r&&Ys(a.alternate,a);break;case 24:nc(n,a),2048&r&&Xs(a.alternate,a);break;default:nc(n,a)}t=t.sibling}}var ac=8192;function rc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)lc(e,t,n),e=e.sibling}function lc(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,a){if("stylesheet"===n.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=$u(a.href),l=t.querySelector(Gu(r));if(l)return null!==(t=l._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=op.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,void et(l);l=t.ownerDocument||t,a=Qu(a),(r=qu.get(r))&&Zu(a,r),et(l=l.createElement("link"));var o=l;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pu(l,"link",a),n.instance=l}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=op.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vs,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var a=Vs;Vs=Uu(e.stateNode.containerInfo),rc(e,t,n),Vs=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,rc(e,t,n),ac=a):rc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];As=a,dc(a,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sc(e),e=e.sibling}function sc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&vs(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];As=a,dc(a,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vs(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==As;){var n=As;switch(n.tag){case 0:case 11:case 15:vs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Mr(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,As=a;else e:for(n=e;null!==As;){var r=(a=As).sibling,l=a.return;if(Os(a),a===n){As=null;break e}if(null!==r){r.return=l,As=r;break e}As=l}}}var uc={getCacheForType:function(e){var t=Lr(Ir),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Lr(Ir).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,mc=0,hc=null,fc=null,gc=0,vc=0,yc=null,xc=!1,bc=!1,jc=!1,Nc=0,wc=0,Cc=0,_c=0,Sc=0,kc=0,Ec=0,Tc=null,Pc=null,Rc=!1,Lc=0,Ac=0,zc=1/0,Oc=null,Dc=null,Fc=0,Ic=null,qc=null,Mc=0,Uc=0,Bc=null,Hc=null,Vc=0,Wc=null;function $c(){return 0!==(2&mc)&&0!==gc?gc&-gc:null!==z.T?Bd():Ie()}function Gc(){if(0===kc)if(0===(536870912&gc)||ur){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),kc=e}else kc=536870912;return null!==(e=Ll.current)&&(e.flags|=32),kc}function Qc(e,t,n){(e!==hc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(td(e,0),Xc(e,gc,kc,!1)),Le(e,n),0!==(2&mc)&&e===hc||(e===hc&&(0===(2&mc)&&(_c|=n),4===wc&&Xc(e,gc,kc,!1)),Od(e))}function Kc(e,t,n){if(0!==(6&mc))throw Error(o(327));for(var a=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=a?function(e,t){var n=mc;mc|=2;var a=rd(),r=ld();hc!==e||gc!==t?(Oc=null,zc=se()+500,td(e,t)):bc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==fc){t=fc;var l=yc;t:switch(vc){case 1:vc=0,yc=null,pd(e,t,l,1);break;case 2:case 9:if(tl(l)){vc=0,yc=null,ud(t);break}t=function(){2!==vc&&9!==vc||hc!==e||(vc=7),Od(e)},l.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:tl(l)?(vc=0,yc=null,ud(t)):(vc=0,yc=null,pd(e,t,l,7));break;case 5:var i=null;switch(fc.tag){case 26:i=fc.memoizedState;case 5:case 27:var s=fc;if(i?rp(i):s.stateNode.complete){vc=0,yc=null;var c=s.sibling;if(null!==c)fc=c;else{var d=s.return;null!==d?(fc=d,md(d)):fc=null}break t}}vc=0,yc=null,pd(e,t,l,5);break;case 6:vc=0,yc=null,pd(e,t,l,6);break;case 8:ed(),wc=6;break e;default:throw Error(o(462))}}cd();break}catch(u){nd(e,u)}return Cr=wr=null,z.H=a,z.A=r,mc=n,null!==fc?0:(hc=null,gc=0,Pa(),wc)}(e,t):id(e,t,!0),l=a;;){if(0===r){bc&&!a&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!l||Yc(n)){if(2===r){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var s=e;r=Tc;var c=s.current.memoizedState.isDehydrated;if(c&&(td(s,i).flags|=256),2!==(i=id(s,i,!1))){if(jc&&!c){s.errorRecoveryDisabledLanes|=l,_c|=l,r=4;break e}l=Pc,Pc=r,null!==l&&(null===Pc?Pc=l:Pc.push.apply(Pc,l))}r=i}if(l=!1,2!==r)continue}}if(1===r){td(e,0),Xc(e,t,0,!0);break}e:{switch(a=e,l=r){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xc(a,t,kc,!xc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(r=Lc+300-se())){if(Xc(a,t,kc,!xc),0!==ke(a,0,!0))break e;Mc=t,a.timeoutHandle=ju(Jc.bind(null,a,n,Pc,Oc,Rc,t,kc,_c,Ec,xc,l,"Throttled",-0,0),r)}else Jc(a,n,Pc,Oc,Rc,t,kc,_c,Ec,xc,l,null,-0,0)}break}r=id(e,t,!1),l=!1}Od(e)}function Jc(e,t,n,a,r,l,o,i,s,c,d,u,p,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){lc(t,l,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var h=(62914560&l)===l?Lc-se():(4194048&l)===l?Ac-se():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&sp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lp&&(lp=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],l=r.transferSize,o=r.initiatorType,i=r.duration;if(l&&i&&mu(o)){for(o=0,i=r.responseEnd,a+=1;a<n.length;a++){var s=n[a],c=s.startTime;if(c>i)break;var d=s.transferSize,u=s.initiatorType;d&&mu(u)&&(o+=d*((s=s.responseEnd)<i?1:(i-c)/(s-c)))}if(--a,t+=8*(l+o)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}(u,h)))return Mc=l,e.cancelPendingCommit=h(fd.bind(null,e,t,l,n,a,r,o,i,s,d,u,null,p,m)),void Xc(e,l,o,!c)}fd(e,t,l,n,a,r,o,i,s)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],l=r.getSnapshot;r=r.value;try{if(!Xn(l(),r))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,a){t&=~Sc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var l=31-be(r),o=1<<l;a[l]=-1,r&=~o}0!==n&&Ae(e,n,t)}function Zc(){return 0!==(6&mc)||(Dd(0,!1),!1)}function ed(){if(null!==fc){if(0===vc)var e=fc.return;else Cr=wr=null,oo(e=fc),il=null,sl=0,e=fc;for(;null!==e;)fs(e.alternate,e),e=e.return;fc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Mc=0,ed(),hc=e,fc=n=Ma(e.current,null),gc=t,vc=0,yc=null,xc=!1,bc=Ee(e,t),jc=!1,Ec=kc=Sc=_c=Cc=wc=0,Pc=Tc=null,Rc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-be(a),l=1<<r;t|=e[r],a&=~l}return Nc=t,Pa(),n}function nd(e,t){Bl=null,z.H=fi,t===Yr||t===Zr?(t=ll(),vc=3):t===Xr?(t=ll(),vc=4):vc=t===Li?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===fc&&(wc=1,ki(e,Qa(t,e.current)))}function ad(){var e=Ll.current;return null===e||((4194048&gc)===gc?null===Al:((62914560&gc)===gc||0!==(536870912&gc))&&e===Al)}function rd(){var e=z.H;return z.H=fi,null===e?fi:e}function ld(){var e=z.A;return z.A=uc,e}function od(){wc=4,xc||(4194048&gc)!==gc&&null!==Ll.current||(bc=!0),0===(134217727&Cc)&&0===(134217727&_c)||null===hc||Xc(hc,gc,kc,!1)}function id(e,t,n){var a=mc;mc|=2;var r=rd(),l=ld();hc===e&&gc===t||(Oc=null,td(e,t)),t=!1;var o=wc;e:for(;;)try{if(0!==vc&&null!==fc){var i=fc,s=yc;switch(vc){case 8:ed(),o=6;break e;case 3:case 2:case 9:case 6:null===Ll.current&&(t=!0);var c=vc;if(vc=0,yc=null,pd(e,i,s,c),n&&bc){o=0;break e}break;default:c=vc,vc=0,yc=null,pd(e,i,s,c)}}sd(),o=wc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,Cr=wr=null,mc=a,z.H=r,z.A=l,null===fc&&(hc=null,gc=0,Pa()),o}function sd(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!oe();)dd(fc)}function dd(e){var t=os(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wi(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Wi(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:fs(n,t),t=os(n,t=fc=Ua(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function pd(e,t,n,a){Cr=wr=null,oo(t),il=null,sl=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&Tr(t,n,r,!0),null!==(n=Ll.current)){switch(n.tag){case 31:case 13:return null===Al?od():null===n.alternate&&0===wc&&(wc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===el?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Cd(e,a,r)),!1;case 22:return n.flags|=65536,a===el?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Cd(e,a,r)),!1}throw Error(o(435,n.tag))}return Cd(e,a,r),od(),!1}if(ur)return null!==(t=Ll.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==hr&&jr(Qa(e=Error(o(422),{cause:a}),n))):(a!==hr&&jr(Qa(t=Error(o(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Qa(a,n),jl(e,r=Ti(e.stateNode,a,r)),4!==wc&&(wc=2)),!1;var l=Error(o(520),{cause:a});if(l=Qa(l,n),null===Tc?Tc=[l]:Tc.push(l),4!==wc&&(wc=2),null===t)return!0;a=Qa(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,jl(n,e=Ti(n.stateNode,a,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Dc||!Dc.has(l))))return n.flags|=65536,r&=-r,n.lanes|=r,Ri(r=Pi(r),e,n,a),jl(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,gc))return wc=1,ki(e,Qa(n,e.current)),void(fc=null)}catch(l){if(null!==r)throw fc=r,l;return wc=1,ki(e,Qa(n,e.current)),void(fc=null)}32768&t.flags?(ur||1===a?e=!0:bc||0!==(536870912&gc)?e=!1:(xc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Ll.current)&&13===a.tag&&(a.flags|=16384))),hd(t,e)):md(t)}function md(e){var t=e;do{if(0!==(32768&t.flags))return void hd(t,xc);e=t.return;var n=ms(t.alternate,t,Nc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===wc&&(wc=5)}function hd(e,t){do{var n=hs(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);wc=6,fc=null}function fd(e,t,n,a,r,l,i,s,c){e.cancelPendingCommit=null;do{bd()}while(0!==Fc);if(0!==(6&mc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(l=t.lanes|t.childLanes,function(e,t,n,a,r,l){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-be(n),u=1<<d;i[d]=0,s[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var m=p[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==a&&Ae(e,a,0),0!==l&&0===r&&0!==e.tag&&(e.suspendedLanes|=l&~(o&~t))}(e,n,l|=Ta,i,s,c),e===hc&&(fc=hc=null,gc=0),qc=t,Ic=e,Mc=n,Uc=l,Bc=r,Hc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(pe,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=z.T,z.T=null,r=O.p,O.p=2,i=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,hu=xp,ra(e=aa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var i=0,s=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==r&&3!==p.nodeType||(s=i+r),p!==l||0!==a&&3!==p.nodeType||(c=i+a),3===p.nodeType&&(i+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===r&&(s=i),m===l&&++u===a&&(c=i),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},xp=!1,As=t;null!==As;)if(e=(t=As).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,As=e;else for(;null!==As;){switch(l=(t=As).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,r=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var f=wi(n.type,r);e=a.getSnapshotBeforeUpdate(f,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){wd(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Tu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,As=e;break}As=t.return}}(e,t)}finally{mc=i,O.p=r,z.T=a}}Fc=1,gd(),vd(),yd()}}function gd(){if(1===Fc){Fc=0;var e=Ic,t=qc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=z.T,z.T=null;var a=O.p;O.p=2;var r=mc;mc|=4;try{Ws(t,e);var l=fu,o=aa(e.containerInfo),i=l.focusedElem,s=l.selectionRange;if(o!==i&&i&&i.ownerDocument&&na(i.ownerDocument.documentElement,i)){if(null!==s&&ra(i)){var c=s.start,d=s.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var m=p.getSelection(),h=i.textContent.length,f=Math.min(s.start,h),g=void 0===s.end?f:Math.min(s.end,h);!m.extend&&f>g&&(o=g,g=f,f=o);var v=ta(i,f),y=ta(i,g);if(v&&y&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var x=u.createRange();x.setStart(v.node,v.offset),m.removeAllRanges(),f>g?(m.addRange(x),m.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),m.addRange(x))}}}}for(u=[],m=i;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var b=u[i];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xp=!!hu,fu=hu=null}finally{mc=r,O.p=a,z.T=n}}e.current=t,Fc=2}}function vd(){if(2===Fc){Fc=0;var e=Ic,t=qc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=z.T,z.T=null;var a=O.p;O.p=2;var r=mc;mc|=4;try{zs(e,t.alternate,t)}finally{mc=r,O.p=a,z.T=n}}Fc=3}}function yd(){if(4===Fc||3===Fc){Fc=0,ie();var e=Ic,t=qc,n=Mc,a=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,qc=Ic=null,xd(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Dc=null),Fe(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==a){t=z.T,r=O.p,O.p=2,z.T=null;try{for(var l=e.onRecoverableError,o=0;o<a.length;o++){var i=a[o];l(i.value,{componentStack:i.stack})}}finally{z.T=t,O.p=r}}0!==(3&Mc)&&bd(),Od(e),r=e.pendingLanes,0!==(261930&n)&&0!==(42&r)?e===Wc?Vc++:(Vc=0,Wc=e):Vc=0,Dd(0,!1)}}function xd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mr(t)))}function bd(){return gd(),vd(),yd(),jd()}function jd(){if(5!==Fc)return!1;var e=Ic,t=Uc;Uc=0;var n=Fe(Mc),a=z.T,r=O.p;try{O.p=32>n?32:n,z.T=null,n=Bc,Bc=null;var l=Ic,i=Mc;if(Fc=0,qc=Ic=null,Mc=0,0!==(6&mc))throw Error(o(331));var s=mc;if(mc|=4,sc(l.current),ec(l,l.current,i,n),mc=s,Dd(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,l)}catch(c){}return!0}finally{O.p=r,z.T=a,xd(e,t)}}function Nd(e,t,n){t=Qa(n,t),null!==(e=xl(e,t=Ti(e.stateNode,t,2),2))&&(Le(e,2),Od(e))}function wd(e,t,n){if(3===e.tag)Nd(e,e,n);else for(;null!==t;){if(3===t.tag){Nd(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Dc||!Dc.has(a))){e=Qa(n,e),null!==(a=xl(t,n=Pi(2),2))&&(Ri(n,a,t,e),Le(a,2),Od(a));break}}t=t.return}}function Cd(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(jc=!0,r.add(n),e=_d.bind(null,e,t,n),t.then(e,e))}function _d(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hc===e&&(gc&n)===n&&(4===wc||3===wc&&(62914560&gc)===gc&&300>se()-Lc?0===(2&mc)&&td(e,0):Sc|=n,Ec===gc&&(Ec=0)),Od(e)}function Sd(e,t){0===t&&(t=Pe()),null!==(e=Aa(e,t))&&(Le(e,t),Od(e))}function kd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sd(e,n)}function Ed(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==a&&a.delete(t),Sd(e,n)}var Td=null,Pd=null,Rd=!1,Ld=!1,Ad=!1,zd=0;function Od(e){e!==Pd&&null===e.next&&(null===Pd?Td=Pd=e:Pd=Pd.next=e),Ld=!0,Rd||(Rd=!0,Cu(function(){0!==(6&mc)?re(de,Fd):Id()}))}function Dd(e,t){if(!Ad&&Ld){Ad=!0;do{for(var n=!1,a=Td;null!==a;){if(!t)if(0!==e){var r=a.pendingLanes;if(0===r)var l=0;else{var o=a.suspendedLanes,i=a.pingedLanes;l=(1<<31-be(42|e)+1)-1,l=201326741&(l&=r&~(o&~i))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Ud(a,l))}else l=gc,0===(3&(l=ke(a,a===hc?l:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ee(a,l)||(n=!0,Ud(a,l));a=a.next}}while(n);Ad=!1}}function Fd(){Id()}function Id(){Ld=Rd=!1;var e=0;0!==zd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bu&&(bu=e,!0);return bu=null,!1}()&&(e=zd);for(var t=se(),n=null,a=Td;null!==a;){var r=a.next,l=qd(a,t);0===l?(a.next=null,null===n?Td=r:n.next=r,null===r&&(Pd=n)):(n=a,(0!==e||0!==(3&l))&&(Ld=!0)),a=r}0!==Fc&&5!==Fc||Dd(e,!1),0!==zd&&(zd=0)}function qd(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var o=31-be(l),i=1<<o,s=r[o];-1===s?0!==(i&n)&&0===(i&a)||(r[o]=Te(i,t)):s<=t&&(e.expiredLanes|=i),l&=~i}if(n=gc,n=ke(e,e===(t=hc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&le(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&le(a),Fe(n)){case 2:case 8:n=ue;break;case 32:default:n=pe;break;case 268435456:n=he}return a=Md.bind(null,e),n=re(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&le(a),e.callbackPriority=2,e.callbackNode=null,2}function Md(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bd()&&e.callbackNode!==n)return null;var a=gc;return 0===(a=ke(e,e===hc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kc(e,a,t),qd(e,se()),null!=e.callbackNode&&e.callbackNode===n?Md.bind(null,e):null)}function Ud(e,t){if(bd())return null;Kc(e,t,!0)}function Bd(){if(0===zd){var e=Hr;0===e&&(e=we,0===(261888&(we<<=1))&&(we=256)),zd=e}return zd}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Vd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wd=0;Wd<Ca.length;Wd++){var $d=Ca[Wd];_a($d.toLowerCase(),"on"+($d[0].toUpperCase()+$d.slice(1)))}_a(ga,"onAnimationEnd"),_a(va,"onAnimationIteration"),_a(ya,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(xa,"onTransitionRun"),_a(ba,"onTransitionStart"),_a(ja,"onTransitionCancel"),_a(Na,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function Kd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var o=a.length-1;0<=o;o--){var i=a[o],s=i.instance,c=i.currentTarget;if(i=i.listener,s!==l&&r.isPropagationStopped())break e;l=i,r.currentTarget=c;try{l(r)}catch(d){Sa(d)}r.currentTarget=null,l=s}else for(o=0;o<a.length;o++){if(s=(i=a[o]).instance,c=i.currentTarget,i=i.listener,s!==l&&r.isPropagationStopped())break e;l=i,r.currentTarget=c;try{l(r)}catch(d){Sa(d)}r.currentTarget=null,l=s}}}}function Jd(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var a=e+"__bubble";n.has(a)||(eu(t,e,2,!1),n.add(a))}function Yd(e,t,n){var a=0;t&&(a|=4),eu(n,e,a,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Xd]){e[Xd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qd.has(t)||Yd(t,!1,e),Yd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xd]||(t[Xd]=!0,Yd("selectionchange",!1,t))}}function eu(e,t,n,a){switch(Sp(t)){case 2:var r=bp;break;case 8:r=jp;break;default:r=Np}n=r.bind(null,t,n,e),r=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function tu(e,t,n,a,r){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var i=a.stateNode.containerInfo;if(i===r)break;if(4===o)for(o=a.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==i;){if(null===(o=Je(i)))return;if(5===(c=o.tag)||6===c||26===c||27===c){a=l=o;continue e}i=i.parentNode}}a=a.return}qt(function(){var a=l,r=zt(n),o=[];e:{var i=wa.get(e);if(void 0!==i){var c=nn,d=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case ga:case va:case ya:c=dn;break;case Na:c=jn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=wn}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),m=u?null!==i?i+"Capture":null:i;u=[];for(var h,f=a;null!==f;){var g=f;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===m||null!=(g=Mt(f,m))&&u.push(nu(f,g,h)),p)break;f=f.return}0<u.length&&(i=new c(i,d,null,n,r),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===At||!(d=n.relatedTarget||n.fromElement)||!Je(d)&&!d[He])&&(c||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(d=(d=n.relatedTarget||n.toElement)?Je(d):null)&&(p=s(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=on,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",m="onPointerEnter",f="pointer"),p=null==c?i:Xe(c),h=null==d?i:Xe(d),(i=new u(g,f+"leave",c,n,r)).target=p,i.relatedTarget=h,g=null,Je(r)===a&&((u=new u(m,f+"enter",d,n,r)).target=h,u.relatedTarget=p,g=u),p=g,c&&d)e:{for(u=ru,f=d,h=0,g=m=c;g;g=u(g))h++;g=0;for(var v=f;v;v=u(v))g++;for(;0<h-g;)m=u(m),h--;for(;0<g-h;)f=u(f),g--;for(;h--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&lu(o,i,c,u,!1),null!==d&&null!==p&&lu(o,p,d,u,!0)}if("select"===(c=(i=a?Xe(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var y=Un;else if(On(i))if(Bn)y=Yn;else{y=Kn;var x=Qn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Et(a.elementType)&&(y=Un):y=Jn;switch(y&&(y=y(e,a))?Dn(o,y,n,r):(x&&x(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&bt(i,"number",i.value)),x=a?Xe(a):window,e){case"focusin":(On(x)||"true"===x.contentEditable)&&(oa=x,ia=a,sa=null);break;case"focusout":sa=ia=oa=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,da(o,n,r);break;case"selectionchange":if(la)break;case"keydown":case"keyup":da(o,n,r)}var b;if(_n)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else An?Rn(e,n)&&(j="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(j="onCompositionStart");j&&(En&&"ko"!==n.locale&&(An||"onCompositionStart"!==j?"onCompositionEnd"===j&&An&&(b=Gt()):(Wt="value"in(Vt=r)?Vt.value:Vt.textContent,An=!0)),0<(x=au(a,j)).length&&(j=new pn(j,e,null,n,r),o.push({event:j,listeners:x}),b?j.data=b:null!==(b=Ln(n))&&(j.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Pn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!_n&&Rn(e,t)?(e=Gt(),$t=Wt=Vt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(j=au(a,"onBeforeInput")).length&&(x=new pn("onBeforeInput","beforeinput",null,n,r),o.push({event:x,listeners:j}),x.data=b)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var l=Hd((r[Be]||null).action),o=a.submitter;o&&null!==(t=(t=o[Be]||null)?Hd(t.formAction):o.getAttribute("formAction"))&&(l=t,o=null);var i=new nn("action","action",null,a,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==zd){var e=o?Vd(r,o):new FormData(r);ti(n,{pending:!0,data:e,method:r.method,action:l},null,e)}}else"function"===typeof l&&(i.preventDefault(),e=o?Vd(r,o):new FormData(r),ti(n,{pending:!0,data:e,method:r.method,action:l},l,e))},currentTarget:r}]})}}(o,e,a,n,r)}Kd(o,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,l=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===l||(null!=(r=Mt(e,n))&&a.unshift(nu(e,r,l)),null!=(r=Mt(e,t))&&a.push(nu(e,r,l))),3===e.tag)return a;e=e.return}return[]}function ru(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lu(e,t,n,a,r){for(var l=t._reactName,o=[];null!==n&&n!==a;){var i=n,s=i.alternate,c=i.stateNode;if(i=i.tag,null!==s&&s===a)break;5!==i&&26!==i&&27!==i||null===c||(s=c,r?null!=(c=Mt(n,l))&&o.unshift(nu(n,c,s)):r||null!=(c=Mt(n,l))&&o.push(nu(n,c,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ou=/\r\n?/g,iu=/\u0000|\uFFFD/g;function su(e){return("string"===typeof e?e:""+e).replace(ou,"\n").replace(iu,"")}function cu(e,t){return t=su(t),su(e)===t}function du(e,t,n,a,r,l){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||Ct(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&Ct(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,a);break;case"style":kt(e,a,l);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Rt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&du(e,t,"name",r.name,r,null),du(e,t,"formEncType",r.formEncType,r,null),du(e,t,"formMethod",r.formMethod,r,null),du(e,t,"formTarget",r.formTarget,r,null)):(du(e,t,"encType",r.encType,r,null),du(e,t,"method",r.method,r,null),du(e,t,"target",r.target,r,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Rt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Lt);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(o(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Rt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),st(e,"popover",a);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":st(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Tt.get(n)||n,a)}}function uu(e,t,n,a,r,l){switch(n){case"style":kt(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(o(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof a?Ct(e,a):("number"===typeof a||"bigint"===typeof a)&&Ct(e,""+a);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(l=null!=(l=e[Be]||null)?l[n]:null)&&e.removeEventListener(t,l,r),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):st(e,n,a):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function pu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var a,r=!1,l=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":r=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:du(e,t,a,i,n,null)}}return l&&du(e,t,"srcSet",n.srcSet,n,null),void(r&&du(e,t,"src",n.src,n,null));case"input":Jd("invalid",e);var s=a=i=l=null,c=null,d=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(null!=u)switch(r){case"name":l=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(o(137,t));break;default:du(e,t,r,u,n,null)}}return void xt(e,a,s,c,d,i,l,!1);case"select":for(l in Jd("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":a=s;break;case"defaultValue":i=s;break;case"multiple":r=s;default:du(e,t,l,s,n,null)}return t=a,n=i,e.multiple=!!r,void(null!=t?jt(e,!!r,t,!1):null!=n&&jt(e,!!r,n,!0));case"textarea":for(i in Jd("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":r=s;break;case"defaultValue":l=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(o(91));break;default:du(e,t,i,s,n,null)}return void wt(e,r,l,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else du(e,t,c,r,n,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(r=0;r<Gd.length;r++)Jd(Gd[r],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(r=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:du(e,t,d,r,n,null)}return;default:if(Et(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(r=n[u])&&uu(e,t,u,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(r=n[s])&&du(e,t,s,r,n,null))}function mu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hu=null,fu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,Cu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(_u)}:ju;function _u(e){setTimeout(function(){throw e})}function Su(e){return"head"===e}function ku(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===a)return e.removeChild(r),void Vp(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)Iu(e.ownerDocument.documentElement);else if("head"===n){Iu(n=e.ownerDocument.head);for(var l=n.firstChild;l;){var o=l.nextSibling,i=l.nodeName;l[Qe]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=o}}else"body"===n&&Iu(e.ownerDocument.body);n=r}while(n);Vp(t)}function Eu(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function Tu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tu(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Au(e.nextSibling)))return null}return e}function Ru(e){return"$?"===e.data||"$~"===e.data}function Lu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Au(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var zu=null;function Ou(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Au(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Du(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fu(e,t,n){switch(t=gu(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Iu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var qu=new Map,Mu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bu=O.d;O.d={f:function(){var e=Bu.f(),t=Zc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ai(t):Bu.r(e)},D:function(e){Bu.D(e),Vu("dns-prefetch",e,null)},C:function(e,t){Bu.C(e,t),Vu("preconnect",e,t)},L:function(e,t,n){Bu.L(e,t,n);var a=Hu;if(a&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var l=r;switch(t){case"style":l=$u(e);break;case"script":l=Ku(e)}qu.has(l)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),qu.set(l,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Gu(l))||"script"===t&&a.querySelector(Ju(l))||(pu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Bu.m(e,t);var n=Hu;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',l=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ku(e)}if(!qu.has(l)&&(e=m({rel:"modulepreload",href:e},t),qu.set(l,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ju(l)))return}pu(a=n.createElement("link"),"link",e),et(a),n.head.appendChild(a)}}},X:function(e,t){Bu.X(e,t);var n=Hu;if(n&&e){var a=Ze(n).hoistableScripts,r=Ku(e),l=a.get(r);l||((l=n.querySelector(Ju(r)))||(e=m({src:e,async:!0},t),(t=qu.get(r))&&ep(e,t),et(l=n.createElement("script")),pu(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}},S:function(e,t,n){Bu.S(e,t,n);var a=Hu;if(a&&e){var r=Ze(a).hoistableStyles,l=$u(e);t=t||"default";var o=r.get(l);if(!o){var i={loading:0,preload:null};if(o=a.querySelector(Gu(l)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qu.get(l))&&Zu(e,n);var s=o=a.createElement("link");et(s),pu(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){i.loading|=1}),s.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xu(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:i},r.set(l,o)}}},M:function(e,t){Bu.M(e,t);var n=Hu;if(n&&e){var a=Ze(n).hoistableScripts,r=Ku(e),l=a.get(r);l||((l=n.querySelector(Ju(r)))||(e=m({src:e,async:!0,type:"module"},t),(t=qu.get(r))&&ep(e,t),et(l=n.createElement("script")),pu(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}}};var Hu="undefined"===typeof document?null:document;function Vu(e,t,n){var a=Hu;if(a&&"string"===typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Mu.has(r)||(Mu.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(pu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function Wu(e,t,n,a){var r,l,i,s,c=(c=$.current)?Uu(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=$u(n.href),(a=(n=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=$u(n.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Gu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),qu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qu.set(e,n),d||(r=c,l=e,i=n,s=u.state,r.querySelector('link[rel="preload"][as="style"]['+l+"]")?s.loading=1:(l=r.createElement("link"),s.preload=l,l.addEventListener("load",function(){return s.loading|=1}),l.addEventListener("error",function(){return s.loading|=2}),pu(l,"link",i),et(l),r.head.appendChild(l))))),t&&null===a)throw Error(o(528,""));return u}if(t&&null!==a)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ku(n),(a=(n=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function $u(e){return'href="'+vt(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function Qu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Ku(e){return'[src="'+vt(e)+'"]'}function Ju(e){return"script[async]"+e}function Yu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,et(a),a;var r=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),pu(a,"style",r),Xu(a,n.precedence,e),t.instance=a;case"stylesheet":r=$u(n.href);var l=e.querySelector(Gu(r));if(l)return t.state.loading|=4,t.instance=l,et(l),l;a=Qu(n),(r=qu.get(r))&&Zu(a,r),et(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pu(l,"link",a),t.state.loading|=4,Xu(l,n.precedence,e),t.instance=l;case"script":return l=Ku(n.src),(r=e.querySelector(Ju(l)))?(t.instance=r,et(r),r):(a=n,(r=qu.get(l))&&ep(a=m({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),pu(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Xu(a,n.precedence,e));return t.instance}function Xu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,l=r,o=0;o<a.length;o++){var i=a[o];if(i.dataset.precedence===t)l=i;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var a=new Map,r=tp=new Map;r.set(n,a)}else(a=(r=tp).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var l=n[r];if(!(l[Qe]||l[Ue]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var o=l.getAttribute(t)||"";o=e+o;var i=a.get(o);i?i.push(l):a.set(o,[l])}}return a}function ap(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rp(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var lp=0;function op(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ip=null;function sp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ip=new Map,t.forEach(cp,e),ip=null,op.call(e))}function cp(e,t){if(!(4&t.state.loading)){var n=ip.get(e);if(n)var a=n.get(null);else{n=new Map,ip.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var o=r[l];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),a=o)}a&&n.set(null,a)}o=(r=t.instance).getAttribute("data-precedence"),(l=n.get(o)||a)===a&&n.set(null,r),n.set(o,r),this.count++,a=op.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),l?l.parentNode.insertBefore(r,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var dp={$$typeof:j,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function up(e,t,n,a,r,l,o,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function pp(e,t,n,a,r,l,o,i,s,c,d,u){return e=new up(e,t,n,o,s,c,d,u,i),t=1,!0===l&&(t|=24),l=Ia(3,null,null,t),e.current=l,l.stateNode=e,(t=qr()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},gl(l),e}function mp(e){return e?e=Da:Da}function hp(e,t,n,a,r,l){r=mp(r),null===a.context?a.context=r:a.pendingContext=r,(a=yl(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(n=xl(e,a,t))&&(Qc(n,0,t),bl(n,e,t))}function fp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function vp(e){if(13===e.tag||31===e.tag){var t=Aa(e,67108864);null!==t&&Qc(t,0,67108864),gp(e,67108864)}}function yp(e){if(13===e.tag||31===e.tag){var t=$c(),n=Aa(e,t=De(t));null!==n&&Qc(n,0,t),gp(e,t)}}var xp=!0;function bp(e,t,n,a){var r=z.T;z.T=null;var l=O.p;try{O.p=2,Np(e,t,n,a)}finally{O.p=l,z.T=r}}function jp(e,t,n,a){var r=z.T;z.T=null;var l=O.p;try{O.p=8,Np(e,t,n,a)}finally{O.p=l,z.T=r}}function Np(e,t,n,a){if(xp){var r=wp(a);if(null===r)tu(e,t,a,Cp,n),Op(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Ep=Dp(Ep,e,t,n,a,r),!0;case"dragenter":return Tp=Dp(Tp,e,t,n,a,r),!0;case"mouseover":return Pp=Dp(Pp,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return Rp.set(l,Dp(Rp.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,Lp.set(l,Dp(Lp.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Op(e,a),4&t&&-1<zp.indexOf(e)){for(;null!==r;){var l=Ye(r);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var o=Se(l.pendingLanes);if(0!==o){var i=l;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var s=1<<31-be(o);i.entanglements[1]|=s,o&=~s}Od(l),0===(6&mc)&&(zc=se()+500,Dd(0,!1))}}break;case 31:case 13:null!==(i=Aa(l,2))&&Qc(i,0,2),Zc(),gp(l,2)}if(null===(l=wp(a))&&tu(e,t,a,Cp,n),l===r)break;r=l}null!==r&&a.stopPropagation()}else tu(e,t,a,null,n)}}function wp(e){return _p(e=zt(e))}var Cp=null;function _p(e){if(Cp=null,null!==(e=Je(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cp=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case pe:case me:return 32;case he:return 268435456;default:return 32}default:return 32}}var kp=!1,Ep=null,Tp=null,Pp=null,Rp=new Map,Lp=new Map,Ap=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":Ep=null;break;case"dragenter":case"dragleave":Tp=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function Dp(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=Ye(t))&&vp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Fp(e){var t=Je(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void qe(e.priority,function(){yp(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void qe(e.priority,function(){yp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ip(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=wp(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&vp(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);At=a,n.target.dispatchEvent(a),At=null,t.shift()}return!0}function qp(e,t,n){Ip(e)&&n.delete(t)}function Mp(){kp=!1,null!==Ep&&Ip(Ep)&&(Ep=null),null!==Tp&&Ip(Tp)&&(Tp=null),null!==Pp&&Ip(Pp)&&(Pp=null),Rp.forEach(qp),Lp.forEach(qp)}function Up(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mp)))}var Bp=null;function Hp(e){Bp!==e&&(Bp=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Bp===e&&(Bp=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if("function"!==typeof a){if(null===_p(a||n))continue;break}var l=Ye(n);null!==l&&(e.splice(t,3),t-=3,ti(l,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Vp(e){function t(t){return Up(t,e)}null!==Ep&&Up(Ep,e),null!==Tp&&Up(Tp,e),null!==Pp&&Up(Pp,e),Rp.forEach(t),Lp.forEach(t);for(var n=0;n<Ap.length;n++){var a=Ap[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ap.length&&null===(n=Ap[0]).blockedOn;)Fp(n),null===n.blockedOn&&Ap.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],l=n[a+1],o=r[Be]||null;if("function"===typeof l)o||Hp(n);else if(o){var i=null;if(l&&l.hasAttribute("formAction")){if(r=l,o=l[Be]||null)i=o.formAction;else if(null!==_p(r))continue}else i=o.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),Hp(n)}}}function Wp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function $p(e){this._internalRoot=e}function Gp(e){this._internalRoot=e}Gp.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));hp(t.current,$c(),e,t,null,null)},Gp.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),Zc(),t[He]=null}},Gp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ap.length&&0!==t&&t<Ap[n].priority;n++);Ap.splice(n,0,e),0===n&&Fp(e)}};var Qp=r.version;if("19.2.0"!==Qp)throw Error(o(527,Qp,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return u(r),e;if(l===a)return u(r),t;l=l.sibling}throw Error(o(188))}if(n.return!==a.return)n=r,a=l;else{for(var i=!1,c=r.child;c;){if(c===n){i=!0,n=r,a=l;break}if(c===a){i=!0,a=r,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,a=r;break}if(c===a){i=!0,a=l,n=r;break}c=c.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Kp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{ve=Jp.inject(Kp),ye=Jp}catch(Xp){}}t.createRoot=function(e,t){if(!i(e))throw Error(o(299));var n=!1,a="",r=Ci,l=_i,s=Si;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,a,null,r,l,s,Wp),e[He]=t.current,Zd(e),new $p(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(o(299));var a=!1,r="",l=Ci,s=_i,c=Si,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=pp(e,1,!0,t,0,a,r,d,l,s,c,Wp)).context=mp(null),n=t.current,(r=yl(a=De(a=$c()))).callback=null,xl(n,r,a),n=a,t.current.lanes=n,Le(t,n),Od(t),e[He]=t.current,Zd(e),new Gp(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var j=b.prototype=new x;j.constructor=b,g(j,y.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function w(){}var C={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function S(e,t,a){var r=a.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,l,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case a:d=!0;break;case p:return P((d=e._init)(e._payload),t,r,l,o)}}if(d)return o=o(e),d=""===l?"."+T(e,0):l,N(o)?(r="",null!=d&&(r=d.replace(E,"$&/")+"/"),P(o,t,r,"",function(e){return e})):null!=o&&(k(o)&&(s=o,c=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+d,o=S(s.type,c,s.props)),t.push(o)),1;d=0;var u,m=""===l?".":l+":";if(N(e))for(var f=0;f<e.length;f++)d+=P(l=e[f],t,r,i=m+T(l,f),o);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(l=e.next()).done;)d+=P(l=l.value,t,r,i=m+T(l,f++),o);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,l,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function R(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},z={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=z,t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=l,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=g({},e.props),r=e.key;if(null!=t)for(l in void 0!==t.key&&(r=""+t.key),t)!_.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(a[l]=t[l]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var o=Array(l),i=0;i<l;i++)o[i]=arguments[i+2];a.children=o}return S(e.type,r,a)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,r={},l=null;if(null!=t)for(a in void 0!==t.key&&(l=""+t.key),t)_.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(r[a]=t[a]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),s=0;s<o;s++)i[s]=arguments[s+2];r.children=i}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===r[a]&&(r[a]=o[a]);return S(e,l,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var a=e(),r=C.S;null!==r&&r(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(w,A)}catch(l){A(l)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=o.p;try{if(s.T=null,o.p=2,e)return e()}finally{s.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:l}):"script"===n&&o.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(e,t,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),"key"in t)for(var l in a={},t)"key"!==l&&(a[l]=t[l]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<l(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,o=r>>>1;a<o;){var i=2*(a+1)-1,s=e[i],c=i+1,d=e[c];if(0>l(s,n))c<r&&0>l(d,s)?(e[a]=d,e[c]=n,a=c):(e[a]=s,e[i]=n,a=i);else{if(!(c<r&&0>l(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function N(e){if(g=!1,j(e),!f)if(null!==a(c))f=!0,C||(C=!0,w());else{var t=a(d);null!==t&&L(N,t.startTime-e)}}var w,C=!1,_=-1,S=5,k=-1;function E(){return!!v||!(t.unstable_now()-k<S)}function T(){if(v=!1,C){var e=t.unstable_now();k=e;var n=!0;try{e:{f=!1,g&&(g=!1,x(_),_=-1),h=!0;var l=m;try{t:{for(j(e),p=a(c);null!==p&&!(p.expirationTime>e&&E());){var o=p.callback;if("function"===typeof o){p.callback=null,m=p.priorityLevel;var i=o(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){p.callback=i,j(e),n=!0;break t}p===a(c)&&r(c),j(e)}else r(c);p=a(c)}if(null!==p)n=!0;else{var s=a(d);null!==s&&L(N,s.startTime-e),n=!1}}break e}finally{p=null,m=l,h=!1}n=void 0}}finally{n?w():C=!1}}}if("function"===typeof b)w=function(){b(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,w=function(){R.postMessage(null)}}else w=function(){y(T,0)};function L(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,l){var o=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?o+l:o:l=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>o?(e.sortIndex=l,n(d,e),null===a(c)&&e===a(d)&&(g?(x(_),_=-1):g=!0,L(N,l-o))):(e.sortIndex=i,n(c,e),f||h||(f=!0,C||(C=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};n.r(a),n.d(a,{hasBrowserEnv:()=>Pn,hasStandardBrowserEnv:()=>Ln,hasStandardBrowserWebWorkerEnv:()=>An,navigator:()=>Rn,origin:()=>zn});var r=n(43),l=n(391);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const p=["sri"],m=["page"],h=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function x(){return S(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return w("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:C(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:n,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function C(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function _(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function S(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:l=!1}=a,o=r.history,i="POP",s=null,c=d();function d(){return(o.state||{idx:null}).idx}function p(){i="POP";let e=d(),t=null==e?null:e-c;c=e,s&&s({action:i,location:h.location,delta:t})}function m(e){return k(e)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let h={get action(){return i},get location(){return e(r,o)},listen(e){if(s)throw new Error("A history only accepts one active listener");return r.addEventListener(y,p),s=e,()=>{r.removeEventListener(y,p),s=null}},createHref:e=>t(r,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i="PUSH";let a=w(h.location,e,t);n&&n(a,e),c=d()+1;let u=N(a,c),p=h.createHref(a);try{o.pushState(u,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;r.location.assign(p)}l&&s&&s({action:i,location:h.location,delta:1})},replace:function(e,t){i="REPLACE";let a=w(h.location,e,t);n&&n(a,e),c=d();let r=N(a,c),u=h.createHref(a);o.replaceState(r,"",u),l&&s&&s({action:i,location:h.location,delta:0})},go:e=>o.go(e)};return h}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:C(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}new WeakMap;function E(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,a){let r=V(("string"===typeof t?_(t):t).pathname||"/",n);if(null==r)return null;let l=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let o=null;for(let i=0;null==o&&i<l.length;++i){let e=H(r);o=M(l[i],e,a)}return o}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=function(e,l){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3?arguments[3]:void 0,s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};if(s.relativePath.startsWith("/")){if(!s.relativePath.startsWith(a)&&o)return;b(s.relativePath.startsWith(a),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(a.length)}let c=K([a,s.relativePath]),d=n.concat(s);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,d,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:q(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let a of R(e.path))l(e,t,!0,a);else l(e,t)}),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(0===a.length)return r?[l,""]:[l];let o=R(a.join("/")),i=[];return i.push(...o.map(e=>""===e?l:[l,e].join("/"))),r&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var L=/^:[\w-]+$/,A=3,z=2,O=1,D=10,F=-2,I=e=>"*"===e;function q(e,t){let n=e.split("/"),a=n.length;return n.some(I)&&(a+=F),t&&(a+=z),n.filter(e=>!I(e)).reduce((e,t)=>e+(L.test(t)?A:""===t?O:D),a)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,r={},l="/",o=[];for(let i=0;i<a.length;++i){let e=a[i],s=i===a.length-1,c="/"===l?t:t.slice(l.length)||"/",d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c),u=e.route;if(!d&&s&&n&&!a[a.length-1].route.index&&(d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:K([l,d.pathname]),pathnameBase:J(K([l,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(l=K([l,d.pathnameBase]))}return o}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=B(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let l=r[0],o=l.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=i[n]||"";o=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const s=i[n];return e[a]=r&&!s?void 0:(s||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:o,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function W(e,t,n,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function $(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function G(e){let t=$(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=_(e):(a=u({},e),b(!a.pathname||!a.pathname.includes("?"),W("?","pathname","search",a)),b(!a.pathname||!a.pathname.includes("#"),W("#","pathname","hash",a)),b(!a.search||!a.search.includes("#"),W("#","search","hash",a)));let l,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)l=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}l=e>=0?t[e]:"/"}let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:a="",hash:r=""}="string"===typeof e?_(e):e,l=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:l,search:Y(a),hash:X(r)}}(a,l),c=i&&"/"!==i&&i.endsWith("/"),d=(o||"."===i)&&n.endsWith("/");return s.pathname.endsWith("/")||!c&&!d||(s.pathname+="/"),s}var K=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=r.createContext(null);ne.displayName="DataRouter";var ae=r.createContext(null);ae.displayName="DataRouterState";var re=r.createContext(!1);var le=r.createContext({isTransitioning:!1});le.displayName="ViewTransition";var oe=r.createContext(new Map);oe.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var se=r.createContext(null);se.displayName="Navigation";var ce=r.createContext(null);ce.displayName="Location";var de=r.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function pe(){return null!=r.useContext(ce)}function me(){return b(pe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ce).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(se).static||r.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=r.useContext(de);return e?function(){let{router:e}=_e("useNavigate"),t=ke("useNavigate"),n=r.useRef(!1);fe(()=>{n.current=!0});let a=r.useCallback(async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(n.current,he),n.current&&("number"===typeof a?e.navigate(a):await e.navigate(a,u({fromRouteId:t},r)))},[e,t]);return a}():function(){b(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ne),{basename:t,navigator:n}=r.useContext(se),{matches:a}=r.useContext(de),{pathname:l}=me(),o=JSON.stringify(G(a)),i=r.useRef(!1);fe(()=>{i.current=!0});let s=r.useCallback(function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j(i.current,he),!i.current)return;if("number"===typeof a)return void n.go(a);let s=Q(a,JSON.parse(o),l,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:K([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)},[t,n,o,l,e]);return s}()}r.createContext(null);function ve(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(de),{pathname:a}=me(),l=JSON.stringify(G(n));return r.useMemo(()=>Q(e,JSON.parse(l),a,"path"===t),[e,l,a,t])}function ye(e,t,n,a,l){b(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(se),{matches:i}=r.useContext(de),s=i[i.length-1],c=s?s.params:{},d=s?s.pathname:"/",p=s?s.pathnameBase:"/",m=s&&s.route;{let e=m&&m.path||"";Pe(d,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,f=me();if(t){var g;let e="string"===typeof t?_(t):t;b("/"===p||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=f;let v=h.pathname||"/",y=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=E(e,{pathname:y});j(m||null!=x,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),j(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let N=we(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([p,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:K([p,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,n,a,l);return t&&N?r.createElement(ce.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},N):N}function xe(){let e=Ee(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:l},n):null,i)}var be=r.createElement(xe,null),je=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(de.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ne(e){let{routeContext:t,match:n,children:a}=e,l=r.useContext(ne);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},a)}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let l=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),l=l.slice(0,Math.min(l.length,e+1))}let i=!1,s=-1;if(n)for(let r=0;r<l.length;r++){let e=l[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){i=!0,l=s>=0?l.slice(0,s+1):[l[0]];break}}}return l.reduceRight((e,c,d)=>{let u,p=!1,m=null,h=null;n&&(u=o&&c.route.id?o[c.route.id]:void 0,m=c.route.errorElement||be,i&&(s<0&&0===d?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,h=null):s===d&&(p=!0,h=c.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,d+1)),g=()=>{let t;return t=u?m:p?h:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(Ne,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?r.createElement(je,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:a}):g()},null)}function Ce(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _e(e){let t=r.useContext(ne);return b(t,Ce(e)),t}function Se(e){let t=r.useContext(ae);return b(t,Ce(e)),t}function ke(e){let t=function(e){let t=r.useContext(de);return b(t,Ce(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ee(){var e;let t=r.useContext(ue),n=Se("useRouteError"),a=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Te={};function Pe(e,t,n){t||Te[e]||(Te[e]=!0,j(!1,n))}var Re={};function Le(e,t){e||Re[t]||(Re[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:a,unstable_onError:r}=e;return ye(t,void 0,a,r,n)});function Ae(e){let{to:t,replace:n,state:a,relative:l}=e;b(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=r.useContext(se);j(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=r.useContext(de),{pathname:s}=me(),c=ge(),d=Q(t,G(i),s,"path"===l),u=JSON.stringify(d);return r.useEffect(()=>{c(JSON.parse(u),{replace:n,state:a,relative:l})},[c,u,l,n,a]),null}function ze(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oe(e){let{basename:t="/",children:n=null,location:a,navigationType:l="POP",navigator:o,static:i=!1}=e;b(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:s,navigator:o,static:i,future:{}}),[s,o,i]);"string"===typeof a&&(a=_(a));let{pathname:d="/",search:u="",hash:p="",state:m=null,key:h="default"}=a,f=r.useMemo(()=>{let e=V(d,s);return null==e?null:{location:{pathname:e,search:u,hash:p,state:m,key:h},navigationType:l}},[s,d,u,p,m,h,l]);return j(null!=f,'<Router basename="'.concat(s,'"> is not able to match the URL "').concat(d).concat(u).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:r.createElement(se.Provider,{value:c},r.createElement(ce.Provider,{children:n,value:f}))}function De(e){let{children:t,location:n}=e;return ye(Fe(t),n)}r.Component;function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let l=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Fe(e.props.children,l));b(e.type===ze,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,l)),n.push(o)}),n}var Ie="get",qe="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var Be=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||Be.has(e)?e:(j(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(qe,'"')),null)}function Ve(e,t){let n,a,r,l,o;if(Me(i=e)&&"form"===i.tagName.toLowerCase()){let o=e.getAttribute("action");a=o?V(o,t):null,n=e.getAttribute("method")||Ie,r=He(e.getAttribute("enctype"))||qe,l=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||o.getAttribute("action");if(a=i?V(i,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ie,r=He(e.getAttribute("formenctype"))||He(o.getAttribute("enctype"))||qe,l=new FormData(o,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(e){Ue=!0}return Ue}()){let{name:t,type:n,value:a}=e;if("image"===n){let e=t?"".concat(t,"."):"";l.append("".concat(e,"x"),"0"),l.append("".concat(e,"y"),"0")}else t&&l.append(t,a)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,a=null,r=qe,o=e}var i;return l&&"text/plain"===r&&(o=l,l=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:l,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function $e(e,t,n){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(n):t&&"/"===V(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(n),a}async function Ge(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qe(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Je(e,t,n,a,r,l){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,i=(e,t)=>{var a;return n[t].pathname!==e.pathname||(null===(a=n[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===l?t.filter((e,t)=>o(e,t)||i(e,t)):"data"===l?t.filter((t,l)=>{let s=a.routes[t.route.id];if(!s||!s.hasLoader)return!1;if(o(t,l)||i(t,l))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1),[...new Set(a)];var a}function Xe(e,t){let n=new Set,a=new Set(t);return e.reduce((e,r)=>{if(t&&!Qe(r)&&"script"===r.as&&r.href&&a.has(r.href))return e;let l=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}(r));return n.has(l)||(n.add(l),e.push({key:l,link:r})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=r.useContext(ne);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=r.useContext(ae);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=r.createContext(void 0);function at(){let e=r.useContext(nt);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function ot(e){let{page:t}=e,n=o(e,m),{router:a}=et(),l=r.useMemo(()=>E(a.routes,t,a.basename),[a.routes,t,a.basename]);return l?r.createElement(st,u({page:t,matches:l},n)):null}function it(e){let{manifest:t,routeModules:n}=at(),[a,l]=r.useState([]);return r.useEffect(()=>{let a=!1;return async function(e,t,n){return Xe((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await Ge(a,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{a||l(e)}),()=>{a=!0}},[e,t,n]),a}function st(e){let{page:t,matches:n}=e,a=o(e,h),l=me(),{manifest:i,routeModules:s}=at(),{basename:c}=et(),{loaderData:d,matches:p}=tt(),m=r.useMemo(()=>Je(t,n,p,i,l,"data"),[t,n,p,i,l]),f=r.useMemo(()=>Je(t,n,p,i,l,"assets"),[t,n,p,i,l]),g=r.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let e=new Set,a=!1;if(n.forEach(t=>{var n;let r=i.routes[t.route.id];r&&r.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=s[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?a=!0:e.add(t.route.id))}),0===e.size)return[];let r=$e(t,c,"data");return a&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[c,d,l,i,m,n,t,s]),v=r.useMemo(()=>Ye(f,i),[f,i]),y=it(f);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},a))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:a.nonce},n))}))}var ct=!1;function dt(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:l,routeDiscovery:i,ssr:s}=at(),{router:c,static:d,staticContext:m}=et(),{matches:h}=tt(),f=r.useContext(re),g=Ze(i,s);l&&(l.didRenderScripts=!0);let v=lt(h,null,a);r.useEffect(()=>{ct=!0},[]);let y=r.useMemo(()=>{var a;if(f)return null;let l=m?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=d?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let a="route".concat(n),r=t.routes[e.route.id];We(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:l,clientLoaderModule:o,clientMiddlewareModule:i,hydrateFallbackModule:s,module:c}=r,d=[...l?[{module:l,varName:"".concat(a,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(a,"_clientLoader")}]:[],...i?[{module:i,varName:"".concat(a,"_clientMiddleware")}]:[],...s?[{module:s,varName:"".concat(a,"_HydrateFallback")}]:[],{module:c,varName:"".concat(a,"_main")}];return 1===d.length?"import * as ".concat(a," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(a," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=o(e,p),r=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(l.pop();l.length>0;)i.push("/".concat(l.join("/"))),l.pop();i.forEach(e=>{let n=E(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let s=[...r].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return u(u({},a),{},{routes:s,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),x=ct||f?[]:(b=t.entry.imports.concat(Ye(v,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let j="object"===typeof t.sri?t.sri:{};return Le(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ct||f?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:j})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:j[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:j[t.entry.module],suppressHydrationWarning:!0}),x.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:j[t],suppressHydrationWarning:!0})),y)}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function pt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,l=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return r.createElement(mt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),l);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(mt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),l)}function mt(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:l,children:o}=e,{routeModules:i}=at();return null!==(t=i.root)&&void 0!==t&&t.Layout&&!l?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,a?r.createElement(dt,null):null)))}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.9.4")}catch(Ar){}function ft(e){let{basename:t,children:n,window:a}=e,l=r.useRef();null==l.current&&(l.current=x({window:a,v5Compat:!0}));let o=l.current,[i,s]=r.useState({action:o.action,location:o.location}),c=r.useCallback(e=>{r.startTransition(()=>s(e))},[s]);return r.useLayoutEffect(()=>o.listen(c),[o,c]),r.createElement(Oe,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=r.forwardRef(function(e,t){let n,{onClick:a,discover:l="render",prefetch:i="none",relative:s,reloadDocument:c,replace:d,state:p,target:m,to:h,preventScrollReset:g,viewTransition:v}=e,y=o(e,f),{basename:x}=r.useContext(se),N="string"===typeof h&&gt.test(h),w=!1;if("string"===typeof h&&N&&(n=h,ht))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=V(t.pathname,x);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:w=!0}catch(Ar){j(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(se),{hash:l,pathname:o,search:i}=ve(e,{relative:t}),s=o;return"/"!==n&&(s="/"===o?n:K([n,o])),a.createHref({pathname:s,search:i,hash:l})}(h,{relative:s}),[S,k,E]=function(e,t){let n=r.useContext(nt),[a,l]=r.useState(!1),[o,i]=r.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,m=r.useRef(null);r.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[a]);let h=()=>{l(!0)},f=()=>{l(!1),i(!1)};return n?"intent"!==e?[o,m,{}]:[o,m,{onFocus:rt(s,h),onBlur:rt(c,f),onMouseEnter:rt(d,h),onMouseLeave:rt(u,f),onTouchStart:rt(p,h)}]:[!1,m,{}]}(i,y),T=function(e){let{target:t,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ge(),c=me(),d=ve(e,{relative:o});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:C(c)===C(d);s(e,{replace:t,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[c,s,d,n,a,t,e,l,o,i])}(h,{replace:d,state:p,target:m,preventScrollReset:g,relative:s,viewTransition:v});let P=r.createElement("a",u(u(u({},y),E),{},{href:n||_,onClick:w||c?a:function(e){a&&a(e),e.defaultPrevented||T(e)},ref:ut(t,k),target:m,"data-discover":N||"render"!==l?void 0:"true"}));return S&&!N?r.createElement(r.Fragment,null,P,r.createElement(ot,{page:_})):P});vt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:i=!1,style:s,to:c,viewTransition:d,children:p}=e,m=o(e,g),h=ve(c,{relative:m.relative}),f=me(),v=r.useContext(ae),{navigator:y,basename:x}=r.useContext(se),j=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(le);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=bt("useViewTransitionState"),l=ve(e,{relative:t});if(!n.isTransitioning)return!1;let o=V(n.currentLocation.pathname,a)||n.currentLocation.pathname,i=V(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=U(l.pathname,i)||null!=U(l.pathname,o)}(h)&&!0===d,N=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=f.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(w=w.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&x&&(C=V(C,x)||C);const _="/"!==N&&N.endsWith("/")?N.length-1:N.length;let S,k=w===N||!i&&w.startsWith(N)&&"/"===w.charAt(_),E=null!=C&&(C===N||!i&&C.startsWith(N)&&"/"===C.charAt(N.length)),T={isActive:k,isPending:E,isTransitioning:j},P=k?n:void 0;S="function"===typeof l?l(T):[l,k?"active":null,E?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof s?s(T):s;return r.createElement(vt,u(u({},m),{},{"aria-current":P,className:S,ref:t,style:R,to:c,viewTransition:d}),"function"===typeof p?p(T):p)}).displayName="NavLink";var yt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:l,reloadDocument:i,replace:s,state:c,method:d=Ie,action:p,onSubmit:m,relative:h,preventScrollReset:f,viewTransition:g}=e,y=o(e,v),x=wt(),j=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(se),a=r.useContext(de);b(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o=u({},ve(e||".",{relative:t})),i=me();if(null==e){o.search=i.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!l.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:K([n,o.pathname]));return C(o)}(p,{relative:h}),N="get"===d.toLowerCase()?"get":"post",w="string"===typeof p&&gt.test(p);return r.createElement("form",u(u({ref:t,method:N,action:j,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:a,method:n,navigate:l,replace:s,state:c,relative:h,preventScrollReset:f,viewTransition:g})}},y),{},{"data-discover":w||"render"!==n?void 0:"true"}))});function xt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(ne);return b(t,xt(e)),t}yt.displayName="Form";var jt=0,Nt=()=>"__".concat(String(++jt),"__");function wt(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(se),n=ke("useRouteId");return r.useCallback(async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:l,method:o,encType:i,formData:s,body:c}=Ve(a,t);if(!1===r.navigate){let t=r.fetcherKey||Nt();await e.fetch(t,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:s,body:c,formMethod:r.method||o,formEncType:r.encType||i,flushSync:r.flushSync})}else await e.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:s,body:c,formMethod:r.method||o,formEncType:r.encType||i,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function Ct(e,t){return function(){return e.apply(t,arguments)}}const{toString:_t}=Object.prototype,{getPrototypeOf:St}=Object,{iterator:kt,toStringTag:Et}=Symbol,Tt=(Pt=Object.create(null),e=>{const t=_t.call(e);return Pt[t]||(Pt[t]=t.slice(8,-1).toLowerCase())});var Pt;const Rt=e=>(e=e.toLowerCase(),t=>Tt(t)===e),Lt=e=>t=>typeof t===e,{isArray:At}=Array,zt=Lt("undefined");function Ot(e){return null!==e&&!zt(e)&&null!==e.constructor&&!zt(e.constructor)&&It(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dt=Rt("ArrayBuffer");const Ft=Lt("string"),It=Lt("function"),qt=Lt("number"),Mt=e=>null!==e&&"object"===typeof e,Ut=e=>{if("object"!==Tt(e))return!1;const t=St(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Et in e)&&!(kt in e)},Bt=Rt("Date"),Ht=Rt("File"),Vt=Rt("Blob"),Wt=Rt("FileList"),$t=Rt("URLSearchParams"),[Gt,Qt,Kt,Jt]=["ReadableStream","Request","Response","Headers"].map(Rt);function Yt(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),At(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ot(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function Xt(e,t){if(Ot(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Zt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,en=e=>!zt(e)&&e!==Zt;const tn=(nn="undefined"!==typeof Uint8Array&&St(Uint8Array),e=>nn&&e instanceof nn);var nn;const an=Rt("HTMLFormElement"),rn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ln=Rt("RegExp"),on=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Yt(n,(n,r)=>{let l;!1!==(l=t(n,r,e))&&(a[r]=l||n)}),Object.defineProperties(e,a)};const sn=Rt("AsyncFunction"),cn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],Zt.addEventListener("message",e=>{let{source:t,data:r}=e;t===Zt&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),Zt.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,It(Zt.postMessage)),dn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Zt):"undefined"!==typeof process&&process.nextTick||cn,un={isArray:At,isArrayBuffer:Dt,isBuffer:Ot,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||It(e.append)&&("formdata"===(t=Tt(e))||"object"===t&&It(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Dt(e.buffer),t},isString:Ft,isNumber:qt,isBoolean:e=>!0===e||!1===e,isObject:Mt,isPlainObject:Ut,isEmptyObject:e=>{if(!Mt(e)||Ot(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ar){return!1}},isReadableStream:Gt,isRequest:Qt,isResponse:Kt,isHeaders:Jt,isUndefined:zt,isDate:Bt,isFile:Ht,isBlob:Vt,isRegExp:ln,isFunction:It,isStream:e=>Mt(e)&&It(e.pipe),isURLSearchParams:$t,isTypedArray:tn,isFileList:Wt,forEach:Yt,merge:function e(){const{caseless:t,skipUndefined:n}=en(this)&&this||{},a={},r=(r,l)=>{const o=t&&Xt(a,l)||l;Ut(a[o])&&Ut(r)?a[o]=e(a[o],r):Ut(r)?a[o]=e({},r):At(r)?a[o]=r.slice():n&&zt(r)||(a[o]=r)};for(let l=0,o=arguments.length;l<o;l++)arguments[l]&&Yt(arguments[l],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Yt(t,(t,a)=>{n&&It(t)?e[a]=Ct(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,l,o;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)o=r[l],a&&!a(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&St(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Tt,kindOfTest:Rt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(At(e))return e;let t=e.length;if(!qt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[kt]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:an,hasOwnProperty:rn,hasOwnProp:rn,reduceDescriptors:on,freezeMethods:e=>{on(e,(t,n)=>{if(It(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];It(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return At(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Xt,global:Zt,isContextDefined:en,isSpecCompliantForm:function(e){return!!(e&&It(e.append)&&"FormData"===e[Et]&&e[kt])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Mt(e)){if(t.indexOf(e)>=0)return;if(Ot(e))return e;if(!("toJSON"in e)){t[a]=e;const r=At(e)?[]:{};return Yt(e,(e,t)=>{const l=n(e,a+1);!zt(l)&&(r[t]=l)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:sn,isThenable:e=>e&&(Mt(e)||It(e))&&It(e.then)&&It(e.catch),setImmediate:cn,asap:dn,isIterable:e=>null!=e&&It(e[kt])};function pn(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}un.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const mn=pn.prototype,hn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hn[e]={value:e}}),Object.defineProperties(pn,hn),Object.defineProperty(mn,"isAxiosError",{value:!0}),pn.from=(e,t,n,a,r,l)=>{const o=Object.create(mn);un.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",s=null==t&&e?e.code:t;return pn.call(o,i,s,n,a,r),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",l&&Object.assign(o,l),o};const fn=pn;function gn(e){return un.isPlainObject(e)||un.isArray(e)}function vn(e){return un.endsWith(e,"[]")?e.slice(0,-2):e}function yn(e,t,n){return e?e.concat(t).map(function(e,t){return e=vn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const xn=un.toFlatObject(un,{},null,function(e){return/^is[A-Z]/.test(e)});const bn=function(e,t,n){if(!un.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=un.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!un.isUndefined(t[e])})).metaTokens,r=n.visitor||c,l=n.dots,o=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&un.isSpecCompliantForm(t);if(!un.isFunction(r))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(un.isDate(e))return e.toISOString();if(un.isBoolean(e))return e.toString();if(!i&&un.isBlob(e))throw new fn("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(e)||un.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let i=e;if(e&&!r&&"object"===typeof e)if(un.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(un.isArray(e)&&function(e){return un.isArray(e)&&!e.some(gn)}(e)||(un.isFileList(e)||un.endsWith(n,"[]"))&&(i=un.toArray(e)))return n=vn(n),i.forEach(function(e,a){!un.isUndefined(e)&&null!==e&&t.append(!0===o?yn([n],a,l):null===o?n:n+"[]",s(e))}),!1;return!!gn(e)||(t.append(yn(r,n,l),s(e)),!1)}const d=[],u=Object.assign(xn,{defaultVisitor:c,convertValue:s,isVisitable:gn});if(!un.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!un.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),un.forEach(n,function(n,l){!0===(!(un.isUndefined(n)||null===n)&&r.call(t,n,un.isString(l)?l.trim():l,a,u))&&e(n,a?a.concat(l):[l])}),d.pop()}}(e),t};function jn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Nn(e,t){this._pairs=[],e&&bn(e,this,t)}const wn=Nn.prototype;wn.append=function(e,t){this._pairs.push([e,t])},wn.toString=function(e){const t=e?function(t){return e.call(this,t,jn)}:jn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Cn=Nn;function _n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sn(e,t,n){if(!t)return e;const a=n&&n.encode||_n;un.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let l;if(l=r?r(t,n):un.isURLSearchParams(t)?t.toString():new Cn(t,n).toString(a),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}const kn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){un.forEach(this.handlers,function(t){null!==t&&e(t)})}},En={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Cn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Pn="undefined"!==typeof window&&"undefined"!==typeof document,Rn="object"===typeof navigator&&navigator||void 0,Ln=Pn&&(!Rn||["ReactNative","NativeScript","NS"].indexOf(Rn.product)<0),An="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,zn=Pn&&window.location.href||"http://localhost",On=u(u({},a),Tn);const Dn=function(e){function t(e,n,a,r){let l=e[r++];if("__proto__"===l)return!0;const o=Number.isFinite(+l),i=r>=e.length;if(l=!l&&un.isArray(a)?a.length:l,i)return un.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o;a[l]&&un.isObject(a[l])||(a[l]=[]);return t(e,n,a[l],r)&&un.isArray(a[l])&&(a[l]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let l;for(a=0;a<r;a++)l=n[a],t[l]=e[l];return t}(a[l])),!o}if(un.isFormData(e)&&un.isFunction(e.entries)){const n={};return un.forEachEntry(e,(e,a)=>{t(function(e){return un.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Fn={transitional:En,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=un.isObject(e);r&&un.isHTMLForm(e)&&(e=new FormData(e));if(un.isFormData(e))return a?JSON.stringify(Dn(e)):e;if(un.isArrayBuffer(e)||un.isBuffer(e)||un.isStream(e)||un.isFile(e)||un.isBlob(e)||un.isReadableStream(e))return e;if(un.isArrayBufferView(e))return e.buffer;if(un.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return bn(e,new On.classes.URLSearchParams,u({visitor:function(e,t,n,a){return On.isNode&&un.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((l=un.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return bn(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(un.isString(e))try{return(t||JSON.parse)(e),un.trim(e)}catch(Ar){if("SyntaxError"!==Ar.name)throw Ar}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Fn.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(un.isResponse(e)||un.isReadableStream(e))return e;if(e&&un.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(Ar){if(n){if("SyntaxError"===Ar.name)throw fn.from(Ar,fn.ERR_BAD_RESPONSE,this,null,this.response);throw Ar}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],e=>{Fn.headers[e]={}});const In=Fn,qn=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mn=Symbol("internals");function Un(e){return e&&String(e).trim().toLowerCase()}function Bn(e){return!1===e||null==e?e:un.isArray(e)?e.map(Bn):String(e)}function Hn(e,t,n,a,r){return un.isFunction(a)?a.call(this,t,n):(r&&(t=n),un.isString(t)?un.isString(a)?-1!==t.indexOf(a):un.isRegExp(a)?a.test(t):void 0:void 0)}class Vn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Un(t);if(!r)throw new Error("header name must be a non-empty string");const l=un.findKey(a,r);(!l||void 0===a[l]||!0===n||void 0===n&&!1!==a[l])&&(a[l||t]=Bn(e))}const l=(e,t)=>un.forEach(e,(e,n)=>r(e,n,t));if(un.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(un.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))l((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&qn[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(un.isObject(e)&&un.isIterable(e)){let n,a,r={};for(const t of e){if(!un.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?un.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}l(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Un(e)){const n=un.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(un.isFunction(t))return t.call(this,e,n);if(un.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Un(e)){const n=un.findKey(this,e);return!(!n||void 0===this[n]||t&&!Hn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Un(e)){const r=un.findKey(n,e);!r||t&&!Hn(0,n[r],r,t)||(delete n[r],a=!0)}}return un.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Hn(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return un.forEach(this,(a,r)=>{const l=un.findKey(n,r);if(l)return t[l]=Bn(a),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();o!==r&&delete t[r],t[o]=Bn(a),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return un.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&un.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Mn]=this[Mn]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Un(e);t[a]||(!function(e,t){const n=un.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return un.isArray(e)?e.forEach(a):a(e),this}}Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),un.reduceDescriptors(Vn.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),un.freezeMethods(Vn);const Wn=Vn;function $n(e,t){const n=this||In,a=t||n,r=Wn.from(a.headers);let l=a.data;return un.forEach(e,function(e){l=e.call(n,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function Gn(e){return!(!e||!e.__CANCEL__)}function Qn(e,t,n){fn.call(this,null==e?"canceled":e,fn.ERR_CANCELED,t,n),this.name="CanceledError"}un.inherits(Qn,fn,{__CANCEL__:!0});const Kn=Qn;function Jn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new fn("Request failed with status code "+n.status,[fn.ERR_BAD_REQUEST,fn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Yn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,l=0,o=0;return t=void 0!==t?t:1e3,function(i){const s=Date.now(),c=a[o];r||(r=s),n[l]=i,a[l]=s;let d=o,u=0;for(;d!==l;)u+=n[d++],d%=e;if(l=(l+1)%e,l===o&&(o=(o+1)%e),s-r<t)return;const p=c&&s-c;return p?Math.round(1e3*u/p):void 0}};const Xn=function(e,t){let n,a,r=0,l=1e3/t;const o=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=l,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];t>=l?o(s,e):(n=s,a||(a=setTimeout(()=>{a=null,o(n)},l-t)))},()=>n&&o(n)]},Zn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=Yn(50,250);return Xn(n=>{const l=n.loaded,o=n.lengthComputable?n.total:void 0,i=l-a,s=r(i);a=l;e({loaded:l,total:o,progress:o?l/o:void 0,bytes:i,rate:s||void 0,estimated:s&&o&&l<=o?(o-l)/s:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},ea=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},ta=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return un.asap(()=>e(...n))},na=On.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,On.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,aa=On.hasStandardBrowserEnv?{write(e,t,n,a,r,l){const o=[e+"="+encodeURIComponent(t)];un.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),un.isString(a)&&o.push("path="+a),un.isString(r)&&o.push("domain="+r),!0===l&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ra(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const la=e=>e instanceof Wn?u({},e):e;function oa(e,t){t=t||{};const n={};function a(e,t,n,a){return un.isPlainObject(e)&&un.isPlainObject(t)?un.merge.call({caseless:a},e,t):un.isPlainObject(t)?un.merge({},t):un.isArray(t)?t.slice():t}function r(e,t,n,r){return un.isUndefined(t)?un.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function l(e,t){if(!un.isUndefined(t))return a(void 0,t)}function o(e,t){return un.isUndefined(t)?un.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(n,r,l){return l in t?a(n,r):l in e?a(void 0,n):void 0}const s={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,n)=>r(la(e),la(t),0,!0)};return un.forEach(Object.keys(u(u({},e),t)),function(a){const l=s[a]||r,o=l(e[a],t[a],a);un.isUndefined(o)&&l!==i||(n[a]=o)}),n}const ia=e=>{const t=oa({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:l,headers:o,auth:i}=t;if(t.headers=o=Wn.from(o),t.url=Sn(ra(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),un.isFormData(n))if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(un.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&o.set(n,a)})}if(On.hasStandardBrowserEnv&&(a&&un.isFunction(a)&&(a=a(t)),a||!1!==a&&na(t.url))){const e=r&&l&&aa.read(l);e&&o.set(r,e)}return t},sa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=ia(e);let r=a.data;const l=Wn.from(a.headers).normalize();let o,i,s,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(o),a.signal&&a.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const a=Wn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Jn(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new fn("Request aborted",fn.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new fn(a,fn.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||En;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new fn(t,r.clarifyTimeoutError?fn.ETIMEDOUT:fn.ECONNABORTED,e,f)),f=null},void 0===r&&l.setContentType(null),"setRequestHeader"in f&&un.forEach(l.toJSON(),function(e,t){f.setRequestHeader(t,e)}),un.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([s,d]=Zn(m,!0),f.addEventListener("progress",s)),p&&f.upload&&([i,c]=Zn(p),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(o=t=>{f&&(n(!t||t.type?new Kn(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(o),a.signal&&(a.signal.aborted?o():a.signal.addEventListener("abort",o)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===On.protocols.indexOf(v)?n(new fn("Unsupported protocol "+v+":",fn.ERR_BAD_REQUEST,e)):f.send(r||null)})},ca=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;a.abort(t instanceof fn?t:new Kn(t instanceof Error?t.message:t))}};let l=t&&setTimeout(()=>{l=null,r(new fn("timeout ".concat(t," of ms exceeded"),fn.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:i}=a;return i.unsubscribe=()=>un.asap(o),i}};function da(e,t){this.v=e,this.k=t}function ua(e){return function(){return new pa(e.apply(this,arguments))}}function pa(e){var t,n;function a(t,n){try{var l=e[t](n),o=l.value,i=o instanceof da;Promise.resolve(i?o.v:o).then(function(n){if(i){var s="return"===t?"return":"next";if(!o.k||n.done)return a(s,n);n=e[s](n).value}r(l.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(l,o){var i={key:e,arg:r,resolve:l,reject:o,next:null};n?n=n.next=i:(t=n=i,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function ma(e){return new da(e,0)}function ha(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new da(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function fa(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new ga(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function ga(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return ga=function(e){this.s=e,this.n=e.next},ga.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ga(e)}pa.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},pa.prototype.next=function(e){return this._invoke("next",e)},pa.prototype.throw=function(e){return this._invoke("throw",e)},pa.prototype.return=function(e){return this._invoke("return",e)};const va=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},ya=function(){var e=ua(function*(e,t){var n,a=!1,r=!1;try{for(var l,o=fa(xa(e));a=!(l=yield ma(o.next())).done;a=!1){const e=l.value;yield*ha(fa(va(e,t)))}}catch(i){r=!0,n=i}finally{try{a&&null!=o.return&&(yield ma(o.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),xa=function(){var e=ua(function*(e){if(e[Symbol.asyncIterator])return void(yield*ha(fa(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield ma(t.read());if(e)break;yield n}}finally{yield ma(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ba=(e,t,n,a)=>{const r=ya(e,t);let l,o=0,i=e=>{l||(l=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return i(),void e.close();let l=a.byteLength;if(n){let e=o+=l;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},{isFunction:ja}=un,Na=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(un.global),{ReadableStream:wa,TextEncoder:Ca}=un.global,_a=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Ar){return!1}},Sa=e=>{e=un.merge.call({skipUndefined:!0},Na,e);const{fetch:t,Request:n,Response:a}=e,r=t?ja(t):"function"===typeof fetch,l=ja(n),o=ja(a);if(!r)return!1;const i=r&&ja(wa),s=r&&("function"===typeof Ca?(c=new Ca,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=l&&i&&_a(()=>{let e=!1;const t=new n(On.origin,{body:new wa,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),p=o&&i&&_a(()=>un.isReadableStream(new a("").body)),m={stream:p&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new fn("Response type '".concat(e,"' is not supported"),fn.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const a=un.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(un.isBlob(e))return e.size;if(un.isSpecCompliantForm(e)){const t=new n(On.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return un.isArrayBufferView(e)||un.isArrayBuffer(e)?e.byteLength:(un.isURLSearchParams(e)&&(e+=""),un.isString(e)?(await s(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:o,data:i,signal:s,cancelToken:c,timeout:f,onDownloadProgress:g,onUploadProgress:v,responseType:y,headers:x,withCredentials:b="same-origin",fetchOptions:j}=ia(e),N=t||fetch;y=y?(y+"").toLowerCase():"text";let w=ca([s,c&&c.toAbortSignal()],f),C=null;const _=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let S;try{if(v&&d&&"get"!==o&&"head"!==o&&0!==(S=await h(x,i))){let e,t=new n(r,{method:"POST",body:i,duplex:"half"});if(un.isFormData(i)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=ea(S,Zn(ta(v)));i=ba(t.body,65536,e,n)}}un.isString(b)||(b=b?"include":"omit");const t=l&&"credentials"in n.prototype,s=u(u({},j),{},{signal:w,method:o.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0});C=l&&new n(r,s);let c=await(l?N(C,j):N(r,s));const f=p&&("stream"===y||"response"===y);if(p&&(g||f&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=un.toFiniteNumber(c.headers.get("content-length")),[n,r]=g&&ea(t,Zn(ta(g),!0))||[];c=new a(ba(c.body,65536,n,()=>{r&&r(),_&&_()}),e)}y=y||"text";let k=await m[un.findKey(m,y)||"text"](c,e);return!f&&_&&_(),await new Promise((t,n)=>{Jn(t,n,{data:k,headers:Wn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:C})})}catch(k){if(_&&_(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new fn("Network Error",fn.ERR_NETWORK,e,C),{cause:k.cause||k});throw fn.from(k,k&&k.code,e,C)}}},ka=new Map,Ea=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,l=[a,r,n];let o,i,s=l.length,c=ka;for(;s--;)o=l[s],i=c.get(o),void 0===i&&c.set(o,i=s?new Map:Sa(t)),c=i;return i},Ta=(Ea(),{http:null,xhr:sa,fetch:{get:Ea}});un.forEach(Ta,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ar){}Object.defineProperty(e,"adapterName",{value:t})}});const Pa=e=>"- ".concat(e),Ra=e=>un.isFunction(e)||null===e||!1===e,La=(e,t)=>{e=un.isArray(e)?e:[e];const{length:n}=e;let a,r;const l={};for(let o=0;o<n;o++){let n;if(a=e[o],r=a,!Ra(a)&&(r=Ta[(n=String(a)).toLowerCase()],void 0===r))throw new fn("Unknown adapter '".concat(n,"'"));if(r&&(un.isFunction(r)||(r=r.get(t))))break;l[n||"#"+o]=r}if(!r){const e=Object.entries(l).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Pa).join("\n"):" "+Pa(e[0]):"as no adapter specified";throw new fn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Aa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kn(null,e)}function za(e){Aa(e),e.headers=Wn.from(e.headers),e.data=$n.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return La(e.adapter||In.adapter,e)(e).then(function(t){return Aa(e),t.data=$n.call(e,e.transformResponse,t),t.headers=Wn.from(t.headers),t},function(t){return Gn(t)||(Aa(e),t&&t.response&&(t.response.data=$n.call(e,e.transformResponse,t.response),t.response.headers=Wn.from(t.response.headers))),Promise.reject(t)})}const Oa="1.12.2",Da={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Da[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Fa={};Da.transitional=function(e,t,n){function a(e,t){return"[Axios v"+Oa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,l)=>{if(!1===e)throw new fn(a(r," has been removed"+(t?" in "+t:"")),fn.ERR_DEPRECATED);return t&&!Fa[r]&&(Fa[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,l)}},Da.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Ia={assertOptions:function(e,t,n){if("object"!==typeof e)throw new fn("options must be an object",fn.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const l=a[r],o=t[l];if(o){const t=e[l],n=void 0===t||o(t,l,e);if(!0!==n)throw new fn("option "+l+" must be "+n,fn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new fn("Unknown option "+l,fn.ERR_BAD_OPTION)}},validators:Da},qa=Ia.validators;class Ma{constructor(e){this.defaults=e||{},this.interceptors={request:new kn,response:new kn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ar){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=oa(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&Ia.assertOptions(n,{silentJSONParsing:qa.transitional(qa.boolean),forcedJSONParsing:qa.transitional(qa.boolean),clarifyTimeoutError:qa.transitional(qa.boolean)},!1),null!=a&&(un.isFunction(a)?t.paramsSerializer={serialize:a}:Ia.assertOptions(a,{encode:qa.function,serialize:qa.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ia.assertOptions(t,{baseUrl:qa.spelling("baseURL"),withXsrfToken:qa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=r&&un.merge(r.common,r[t.method]);r&&un.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Wn.concat(l,r);const o=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const s=[];let c;this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[za.bind(this),void 0];for(e.unshift(...o),e.push(...s),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let p=t;for(;u<d;){const e=o[u++],t=o[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=za.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=s.length;u<d;)c=c.then(s[u++],s[u++]);return c}getUri(e){return Sn(ra((e=oa(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(e){Ma.prototype[e]=function(t,n){return this.request(oa(n||{},{method:e,url:t,data:(n||{}).data}))}}),un.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(oa(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Ma.prototype[e]=t(),Ma.prototype[e+"Form"]=t(!0)});const Ua=Ma;class Ba{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Kn(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ba(function(t){e=t}),cancel:e}}}const Ha=Ba;const Va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Va).forEach(e=>{let[t,n]=e;Va[n]=t});const Wa=Va;const $a=function e(t){const n=new Ua(t),a=Ct(Ua.prototype.request,n);return un.extend(a,Ua.prototype,n,{allOwnKeys:!0}),un.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(oa(t,n))},a}(In);$a.Axios=Ua,$a.CanceledError=Kn,$a.CancelToken=Ha,$a.isCancel=Gn,$a.VERSION=Oa,$a.toFormData=bn,$a.AxiosError=fn,$a.Cancel=$a.CanceledError,$a.all=function(e){return Promise.all(e)},$a.spread=function(e){return function(t){return e.apply(null,t)}},$a.isAxiosError=function(e){return un.isObject(e)&&!0===e.isAxiosError},$a.mergeConfig=oa,$a.AxiosHeaders=Wn,$a.formToJSON=e=>Dn(un.isHTMLForm(e)?new FormData(e):e),$a.getAdapter=La,$a.HttpStatusCode=Wa,$a.default=$a;const Ga=$a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Ga.interceptors.request.use(e=>{const t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t));const n=localStorage.getItem("selectedCompanyId");return n&&(e.headers["X-Company-Id"]=n),e});const Qa=Ga;var Ka=n(579);const Ja=(0,r.createContext)(void 0),Ya=()=>{const e=(0,r.useContext)(Ja);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Xa=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),i=!!n;(0,r.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const e=JSON.parse(t);a(e);if(!localStorage.getItem("selectedCompanyId"))if(e.companyRoles&&Object.keys(e.companyRoles).length>0){const t=Object.keys(e.companyRoles)[0];localStorage.setItem("selectedCompanyId",t),console.log("\u2705 Company ID establecido al cargar:",t)}else e.company_id?(localStorage.setItem("selectedCompanyId",e.company_id),console.log("\u2705 Company ID (legacy) establecido al cargar:",e.company_id)):"super_admin"===e.role&&(localStorage.setItem("selectedCompanyId","ALL"),console.log("\u2705 Super admin: Todas las empresas seleccionadas al cargar (ALL)"));o(!1)}catch(n){console.error("Error parsing user data:",n),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedCompanyId"),o(!1)}else o(!1)},[]);const s={user:n,isAuthenticated:i,login:async(e,t)=>{try{const n=await Qa.post("/auth/login",{email:e,password:t}),{token:r,user:l}=n.data;if(localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(l)),l.companyRoles&&Object.keys(l.companyRoles).length>0){const e=Object.keys(l.companyRoles)[0];localStorage.setItem("selectedCompanyId",e),console.log("\u2705 Company ID guardado:",e)}else l.company_id?(localStorage.setItem("selectedCompanyId",l.company_id),console.log("\u2705 Company ID (legacy) guardado:",l.company_id)):"super_admin"===l.role?(localStorage.setItem("selectedCompanyId","ALL"),console.log("\u2705 Super admin: Todas las empresas seleccionadas (ALL)")):console.warn("\u26a0\ufe0f  Usuario sin company asociada");a(l)}catch(n){throw console.error("Error de login:",n),n}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedCompanyId"),a(null)},loading:l,hasRole:e=>(null===n||void 0===n?void 0:n.role)===e,isSuperAdmin:()=>"super_admin"===(null===n||void 0===n?void 0:n.role),isAdmin:()=>"admin"===(null===n||void 0===n?void 0:n.role),isLawyer:()=>"lawyer"===(null===n||void 0===n?void 0:n.role),isUser:()=>"requester"===(null===n||void 0===n?void 0:n.role),getUserCompany:()=>(null===n||void 0===n?void 0:n.company_id)||null};return(0,Ka.jsx)(Ja.Provider,{value:s,children:t})},Za=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[l,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(!1),{login:c}=Ya();return(0,Ka.jsx)("div",{className:"login-container",children:(0,Ka.jsxs)("div",{className:"login-card",children:[(0,Ka.jsx)("h1",{children:"Legal Bot"}),(0,Ka.jsx)("h2",{children:"Iniciar Sesi\xf3n"}),l&&(0,Ka.jsx)("div",{className:"error-message",children:l}),(0,Ka.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),s(!0);try{await c(e,n)}catch(l){var a,r;o((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Error al iniciar sesi\xf3n")}finally{s(!1)}},children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,Ka.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,disabled:i})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a:"}),(0,Ka.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>a(e.target.value),required:!0,disabled:i})]}),(0,Ka.jsx)("button",{type:"submit",disabled:i,className:"login-button",children:i?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}),(0,Ka.jsxs)("div",{className:"demo-credentials",children:[(0,Ka.jsx)("h3",{children:"Credenciales de Demo:"}),(0,Ka.jsxs)("div",{className:"super-admin-section",children:[(0,Ka.jsx)("h4",{children:"\ud83d\udd27 Super Administrador"}),(0,Ka.jsx)("div",{className:"role-credentials",children:(0,Ka.jsxs)("div",{className:"role-card super-admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udd27 Super Admin"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," superadmin@legalbot.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]}),(0,Ka.jsx)("p",{children:(0,Ka.jsx)("em",{children:"Gesti\xf3n completa del sistema"})})]})})]}),(0,Ka.jsx)("h3",{children:"Credenciales de Sistema:"}),(0,Ka.jsxs)("div",{className:"company-section",children:[(0,Ka.jsx)("h4",{children:"\ud83c\udfe2 Sistema Legal Bot"}),(0,Ka.jsxs)("div",{className:"role-credentials",children:[(0,Ka.jsxs)("div",{className:"role-card admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc51 Administrador"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," admin@demo.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card lawyer",children:[(0,Ka.jsx)("h5",{children:"\u2696\ufe0f Abogado"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," abogado@demo.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card user",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc64 Usuario"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," solicitante@demo.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]})]})]}),(0,Ka.jsxs)("div",{className:"company-section",children:[(0,Ka.jsx)("h4",{children:"\u2696\ufe0f LegalFirm & Asociados"}),(0,Ka.jsxs)("div",{className:"role-credentials",children:[(0,Ka.jsxs)("div",{className:"role-card admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc51 Admin"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," admin@legalfirm.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card lawyer",children:[(0,Ka.jsx)("h5",{children:"\u2696\ufe0f Lawyer"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," lawyer@legalfirm.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card user",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc64 User"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," user@legalfirm.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]})]})]}),(0,Ka.jsxs)("div",{className:"company-section",children:[(0,Ka.jsx)("h4",{children:"\ud83c\udfe2 BusinessCorp Internacional"}),(0,Ka.jsxs)("div",{className:"role-credentials",children:[(0,Ka.jsxs)("div",{className:"role-card admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc51 Admin"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," admin@businesscorp.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card lawyer",children:[(0,Ka.jsx)("h5",{children:"\u2696\ufe0f Lawyer"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," lawyer@businesscorp.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card user",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc64 User"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," user@businesscorp.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]})]})]})]})]})})},er=(0,r.createContext)(void 0),tr=()=>{const e=(0,r.useContext)(er);if(!e)throw new Error("useCompany must be used within a CompanyProvider");return e},nr=e=>{var t,n;let{children:a}=e;const{user:l}=Ya(),[o,i]=(0,r.useState)(null),[s,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(l)try{var e;const t=(await Qa.get("/companies/my-companies")).data;c(t);const n=new URLSearchParams(window.location.search).get("company"),a=localStorage.getItem("selectedCompanyId");let r=n||a||(null===(e=t[0])||void 0===e?void 0:e.companyId);const l=t.some(e=>e.roles.includes("super_admin"));if(!("ALL"===r?l:t.some(e=>e.companyId===r))&&t.length>0&&(r=t[0].companyId),r&&(i(r),localStorage.setItem("selectedCompanyId",r),console.log("\u2705 CompanyContext: Empresa seleccionada: ".concat("ALL"===r?"TODAS LAS EMPRESAS":r)),n!==r)){const e=new URL(window.location.href);e.searchParams.set("company",r),window.history.replaceState({},"",e.toString())}u(!1)}catch(t){console.error("Error al cargar empresas:",t),u(!1)}else u(!1)})()},[l]);const p="ALL"===o?["super_admin"]:(null===(t=s.find(e=>e.companyId===o))||void 0===t?void 0:t.roles)||[],m="ALL"===o?"Todas las empresas":(null===(n=s.find(e=>e.companyId===o))||void 0===n?void 0:n.companyName)||null,h={selectedCompanyId:o,selectedCompanyName:m,userCompanies:s,currentRoles:p,selectCompany:e=>{if("ALL"===e){if(!s.some(e=>e.roles.includes("super_admin")))return void console.error("Solo super_admin puede acceder a todas las empresas")}else{if(!s.some(t=>t.companyId===e))return void console.error("No tienes acceso a esta empresa")}i(e),localStorage.setItem("selectedCompanyId",e);const t=new URL(window.location.href);t.searchParams.set("company",e),window.history.pushState({},"",t.toString()),window.location.reload()},hasRole:e=>Array.isArray(e)?e.some(e=>p.includes(e)):p.includes(e),isLoading:d};return(0,Ka.jsx)(er.Provider,{value:h,children:a})},ar=e=>{let{children:t,allowedRoles:n,fallback:a=null}=e;const{user:r}=Ya(),{hasRole:l,currentRoles:o}=tr();if(!r)return(0,Ka.jsx)(Ka.Fragment,{children:a});if("super_admin"===r.role)return(0,Ka.jsx)(Ka.Fragment,{children:t});if(r.companyRoles&&o.length>0){if(l(n))return(0,Ka.jsx)(Ka.Fragment,{children:t})}else if(n.includes(r.role))return(0,Ka.jsx)(Ka.Fragment,{children:t});return(0,Ka.jsx)(Ka.Fragment,{children:a})},rr=()=>{const{user:e}=Ya(),t=ge(),[n,a]=(0,r.useState)({totalContracts:0,totalTemplates:0,totalCompanies:0,pendingRequests:0}),[l,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await Qa.get("/dashboard/stats");a({totalContracts:e.data.totalContracts||0,totalTemplates:e.data.totalTemplates||0,totalCompanies:e.data.totalCompanies||0,pendingRequests:e.data.pendingRequests||0})}catch(e){console.error("Error fetching dashboard data:",e),a({totalContracts:0,totalTemplates:0,totalCompanies:0,pendingRequests:0})}finally{o(!1)}};if(l)return(0,Ka.jsx)("div",{className:"loading",children:"Cargando dashboard..."});return(0,Ka.jsxs)("div",{className:"dashboard",children:[(0,Ka.jsx)("h1",{children:(()=>{switch(null===e||void 0===e?void 0:e.role){case"super_admin":return"\ud83d\udd27 Panel de Super Administraci\xf3n";case"admin":return"\ud83d\udc51 Panel de Administraci\xf3n";case"lawyer":return"\u2696\ufe0f Panel de Abogado";case"requester":return"\ud83d\udc64 Panel de Usuario";default:return"Dashboard"}})()}),(0,Ka.jsxs)("div",{className:"user-info",children:[(0,Ka.jsxs)("p",{children:["Bienvenido, ",(0,Ka.jsx)("strong",{children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)})]}),(0,Ka.jsx)("span",{className:"role-badge",children:null===e||void 0===e?void 0:e.role}),(null===e||void 0===e?void 0:e.company)&&(0,Ka.jsxs)("div",{className:"company-info",children:[(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",e.company.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"RUC:"})," ",e.company.tax_id]})]})]}),(0,Ka.jsxs)("div",{className:"stats-grid",children:[(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Contratos"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.totalContracts})]}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Plantillas"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.totalTemplates})]})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Empresas"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.totalCompanies})]})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Solicitudes Pendientes"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.pendingRequests})]})})]}),(0,Ka.jsxs)("div",{className:"quick-actions",children:[(0,Ka.jsx)("h2",{children:"Acciones R\xe1pidas"}),(0,Ka.jsxs)("div",{className:"action-buttons",children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/contracts"),children:"Ver Contratos"}),(0,Ka.jsxs)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/contract-generator"),children:"Crear Contrato"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/templates"),children:"Nueva Plantilla"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/companies"),children:"Agregar Empresa"})]}),(0,Ka.jsxs)(ar,{allowedRoles:["super_admin","admin"],children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/users"),children:"Administrar Usuarios"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/system-config"),children:"Configuraci\xf3n Sistema"})]}),(0,Ka.jsxs)(ar,{allowedRoles:["super_admin"],children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/suppliers"),children:"Gesti\xf3n Completa"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/super-admin"),children:"Super Administraci\xf3n"})]})]})]})]})},lr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[h,f]=(0,r.useState)({title:"",company:"",status:"borrador",description:"",template_id:""}),[g,v]=(0,r.useState)(""),[y,x]=(0,r.useState)([]),[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[C,_]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[E,T]=(0,r.useState)(""),[P,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{L()},[]);const L=async()=>{try{const e=await Qa.get("/contracts");t(e.data)}catch(e){console.error("Error fetching contracts:",e)}finally{a(!1)}},A=async e=>{try{const t=await Qa.get("/documents/download/word/".concat(e),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","contrato_".concat(e,".docx")),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(n)}catch(t){console.error("Error downloading Word document:",t),alert("Error al descargar el documento Word")}},z=(()=>{let t=[...e];if(g.trim()){const e=g.toLowerCase();t=t.filter(t=>{var n,a;return(null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.contract_number)||void 0===a?void 0:a.toLowerCase().includes(e))})}if(y.length>0&&(t=t.filter(e=>y.includes(e.status))),C.trim()){const e=C.toLowerCase();t=t.filter(t=>{var n,a;return(null===(n=t.company_name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.company)||void 0===a?void 0:a.toLowerCase().includes(e))})}if(S.trim()){const e=S.toLowerCase();t=t.filter(t=>{var n,a;return null===(n=t.template)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.toLowerCase().includes(e)})}if(E.trim()){const e=E.toLowerCase();t=t.filter(t=>{var n,a;return(null===(n=t.content)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.title)||void 0===a?void 0:a.toLowerCase().includes(e))})}if(b){const e=new Date(b);t=t.filter(t=>new Date(t.createdAt)>=e)}if(N){const e=new Date(N);e.setHours(23,59,59,999),t=t.filter(t=>new Date(t.createdAt)<=e)}return t})(),O=[g.trim(),y.length>0,b,N,C.trim(),S.trim(),E.trim()].filter(Boolean).length;return n?(0,Ka.jsx)("div",{className:"loading",children:"Cargando contratos..."}):(0,Ka.jsxs)("div",{className:"contracts",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Contratos"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>o(!0),children:"Nuevo Contrato"})]}),(0,Ka.jsxs)("div",{className:"filters-container",children:[(0,Ka.jsxs)("div",{className:"filters-header",children:[(0,Ka.jsxs)("button",{className:"btn-toggle-filters",onClick:()=>R(!P),children:[P?"\u25bc":"\u25b6"," Filtros",O>0&&(0,Ka.jsx)("span",{className:"filter-badge",children:O})]}),O>0&&(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:()=>{v(""),x([]),j(""),w(""),_(""),k(""),T("")},children:"Limpiar Filtros"}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",z.length," de ",e.length," contratos"]})]}),P&&(0,Ka.jsxs)("div",{className:"filters-content",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo o n\xfamero de contrato...",value:g,onChange:e=>v(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por empresa...",value:C,onChange:e=>_(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Plantilla:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre de plantilla...",value:S,onChange:e=>k(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Tercero:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre o identificaci\xf3n del tercero...",value:E,onChange:e=>T(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsx)("div",{className:"status-checkboxes",children:["borrador","revision","aprobado","firmado","cancelado"].map(e=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:y.includes(e),onChange:()=>(e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e)}),(0,Ka.jsx)("span",{className:"status-label ".concat(e),children:e})]},e))})]}),(0,Ka.jsxs)("div",{className:"filter-group-row",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha desde:"}),(0,Ka.jsx)("input",{type:"date",value:b,onChange:e=>j(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha hasta:"}),(0,Ka.jsx)("input",{type:"date",value:N,onChange:e=>w(e.target.value),className:"filter-input"})]})]})]})]}),(0,Ka.jsx)("div",{className:"contracts-list",children:0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay contratos"}),(0,Ka.jsx)("p",{children:"Crea tu primer contrato para comenzar"})]}):0===z.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No se encontraron contratos"}),(0,Ka.jsx)("p",{children:"Intenta ajustar los filtros para ver m\xe1s resultados"})]}):z.map(e=>(0,Ka.jsxs)("div",{className:"contract-card",children:[(0,Ka.jsx)("h3",{children:e.title||e.contract_number||"Contrato"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",e.company_name||e.company]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Estado:"})," ",(0,Ka.jsx)("span",{className:"status ".concat(e.status),children:e.status})]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Creado:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,Ka.jsxs)("div",{className:"contract-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{m(e),s(!0)})(e),children:"Ver"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{m(e),d(!0)})(e),children:"Editar"}),e.file_path&&(0,Ka.jsx)("button",{className:"btn-download-word",onClick:()=>A(e._id||e.id||""),title:"Descargar contrato Word con formato preservado",children:"\ud83d\udcc4 Descargar Word"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este contrato?"))try{await Qa.delete("/contracts/".concat(e)),await L(),alert("Contrato eliminado exitosamente")}catch(t){console.error("Error deleting contract:",t),alert("Error al eliminar el contrato")}})(e._id||e.id||""),children:"Eliminar"})]})]},e._id||e.id))}),l&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nuevo Contrato"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"T\xedtulo del Contrato:"}),(0,Ka.jsx)("input",{type:"text",value:h.title,onChange:e=>f(u(u({},h),{},{title:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:h.company,onChange:e=>f(u(u({},h),{},{company:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsxs)("select",{value:h.status,onChange:e=>f(u(u({},h),{},{status:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"borrador",children:"Borrador"}),(0,Ka.jsx)("option",{value:"revision",children:"En Revisi\xf3n"}),(0,Ka.jsx)("option",{value:"aprobado",children:"Aprobado"}),(0,Ka.jsx)("option",{value:"firmado",children:"Firmado"}),(0,Ka.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{value:h.description,onChange:e=>f(u(u({},h),{},{description:e.target.value})),rows:4,placeholder:"Describe el contrato...",required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>o(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/contracts",h),await L(),o(!1),f({title:"",company:"",status:"borrador",description:"",template_id:""})}catch(e){console.error("Error creating contract:",e)}},disabled:!h.title||!h.company,children:"Crear Contrato"})]})]})}),i&&p&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Detalles del Contrato"}),(0,Ka.jsxs)("div",{className:"contract-details",children:[(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"N\xfamero:"})," ",p.contract_number||"N/A"]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"T\xedtulo:"})," ",p.title||"Sin t\xedtulo"]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",p.company_name||p.company]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Estado:"})," ",(0,Ka.jsx)("span",{className:"status ".concat(p.status),children:p.status})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Creado:"})," ",new Date(p.createdAt).toLocaleDateString()]}),(p.file_path||p.pdf_path)&&(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Documentos:"}),(0,Ka.jsx)("div",{className:"document-links",children:p.file_path&&(0,Ka.jsx)("button",{className:"btn-download-word",onClick:()=>A(p._id||p.id||""),children:"\ud83d\udcc4 Descargar Word"})})]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>s(!1),children:"Cerrar"})})]})}),c&&p&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Contrato"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"T\xedtulo del Contrato:"}),(0,Ka.jsx)("input",{type:"text",value:p.title,onChange:e=>m(u(u({},p),{},{title:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:p.company_name||p.company,onChange:e=>m(u(u({},p),{},{company_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsxs)("select",{value:p.status,onChange:e=>m(u(u({},p),{},{status:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"borrador",children:"Borrador"}),(0,Ka.jsx)("option",{value:"revision",children:"En Revisi\xf3n"}),(0,Ka.jsx)("option",{value:"aprobado",children:"Aprobado"}),(0,Ka.jsx)("option",{value:"firmado",children:"Firmado"}),(0,Ka.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.put("/contracts/".concat(p._id||p.id),{title:p.title,company:p.company_name||p.company,status:p.status}),await L(),d(!1),alert("Contrato actualizado exitosamente")}catch(e){console.error("Error updating contract:",e),alert("Error al actualizar el contrato")}},disabled:!p.title||!(p.company_name||p.company),children:"Guardar Cambios"})]})]})})]})},or=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)({}),[i,s]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)(""),[b,j]=(0,r.useState)(!1),N=e=>{console.log("\ud83d\udd04 setAllFieldsFilled llamado con:",e),j(e)};console.log("\ud83d\udd04 ContractGenerator render - allFieldsFilled:",b),(0,r.useEffect)(()=>{(async()=>{try{const e=await Qa.get("/templates");t(e.data)}catch(e){console.error("Error fetching templates:",e),x("Error al cargar las plantillas")}})()},[]),(0,r.useEffect)(()=>{if(console.log("\ud83d\udd04 useEffect ejecutado - Validaci\xf3n"),console.log("  - selectedTemplate:",!!n),console.log("  - selectedTemplate name:",null===n||void 0===n?void 0:n.name),console.log("  - contractData keys:",Object.keys(l)),console.log("  - contractData values:",Object.values(l)),n){const e=new Map;n.fields.forEach(t=>{t.required&&!e.has(t.field_name)&&e.set(t.field_name,t)});const t=Array.from(e.values());console.log("  - Required fields count (unique):",t.length),console.log("  - Required field names:",t.map(e=>e.field_name));const a=t.map(e=>{const t=l[e.field_name],n=t&&""!==t.trim();return console.log("    - ".concat(e.field_name,': "').concat(t,'" \u2192 ').concat(n?"LLENO":"VAC\xcdO")),n}).every(e=>e);console.log("  - Todos llenos:",a),console.log("  - Llamando setAllFieldsFilled con:",a),N(a)}else console.log("  - No hay plantilla seleccionada"),console.log("  - Llamando setAllFieldsFilled con: false"),N(!1)},[l,n]),(0,r.useEffect)(()=>{if(console.log("\ud83d\udd04 useEffect adicional - Forzar validaci\xf3n"),n&&Object.keys(l).length>0){const e=new Map;n.fields.forEach(t=>{t.required&&!e.has(t.field_name)&&e.set(t.field_name,t)});const t=Array.from(e.values()).every(e=>{const t=l[e.field_name];return t&&""!==t.trim()});console.log("\ud83d\udd04 Validaci\xf3n forzada - Todos llenos:",t),b!==t&&(console.log("\ud83d\udd04 Estado cambi\xf3, actualizando..."),N(t))}});const w=(e,t)=>{const a=u({},l);if(a[e]=t,console.log("\ud83d\udcdd CAMPO ACTUALIZADO:",e,"\u2192",'"'.concat(t,'"')),n){const r=n.fields.find(t=>t.field_name===e);if(r){n.fields.filter(e=>e.can_repeat&&e.repeat_source&&e.repeat_source===r.field_name).forEach(e=>{const n=e.field_name;a[n]=t,console.log("\ud83d\udd04 VARIABLE REPETIDA ACTUALIZADA:",n,"\u2192",'"'.concat(t,'"'))})}}o(a)},C=()=>b,_=()=>{if(!n)return[];const e=[],t=new Set;return n.fields.forEach(n=>{if(n.can_repeat&&n.repeat_source){const a=n.field_name;t.has(a)||(t.add(a),e.push(n))}}),e};return(0,Ka.jsxs)("div",{className:"contract-generator",children:[(0,Ka.jsxs)("div",{className:"generator-header",children:[(0,Ka.jsx)("h2",{children:"Generador de Contratos"}),(0,Ka.jsx)("p",{children:"Selecciona una plantilla y completa los datos para generar tu contrato"})]}),y&&(0,Ka.jsx)("div",{className:"error-message",children:y}),(0,Ka.jsxs)("div",{className:"template-selection",children:[(0,Ka.jsx)("h3",{children:"1. Seleccionar Plantilla"}),(0,Ka.jsx)("div",{className:"templates-grid",children:e.map(e=>(0,Ka.jsxs)("div",{className:"template-card ".concat((null===n||void 0===n?void 0:n._id)===e._id?"selected":""),onClick:()=>(e=>{a(e),o({}),s(""),d(""),m(""),f(""),x("");const t={},n=new Set;e.fields.forEach(e=>{const a=e.field_name;n.has(a)||(n.add(a),t[a]="")}),console.log("\ud83d\udcdd Inicializando datos de plantilla:"),console.log("  - Total fields in template:",e.fields.length),console.log("  - Unique field names:",n.size),console.log("  - Field names:",Array.from(n)),o(t)})(e),children:[(0,Ka.jsx)("h4",{children:e.name}),(0,Ka.jsx)("p",{className:"template-category",children:e.category}),(0,Ka.jsx)("p",{className:"template-description",children:e.description}),(0,Ka.jsxs)("div",{className:"template-stats",children:[(0,Ka.jsxs)("span",{children:[e.fields.length," campos"]}),e.fields.filter(e=>e.can_repeat).length>0&&(0,Ka.jsxs)("span",{className:"repeat-info",children:[e.fields.filter(e=>e.can_repeat).length," variables reutilizables"]})]})]},e._id))})]}),n&&(0,Ka.jsxs)("div",{className:"contract-form",children:[(0,Ka.jsx)("h3",{children:"2. Completar Informaci\xf3n"}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n Principal"}),(0,Ka.jsx)("div",{className:"form-grid",children:(()=>{if(!n)return[];const e=[],t=new Set;return n.fields.forEach(n=>{const a=n.field_name;t.has(a)||(t.add(a),e.push(n))}),console.log("\ud83d\udd0d getUniqueFields:"),console.log("  - Total fields in template:",n.fields.length),console.log("  - Unique fields returned:",e.length),e})().map((e,t)=>{var n;const a=e.field_name;return(0,Ka.jsxs)("div",{className:"form-field",children:[(0,Ka.jsxs)("label",{htmlFor:a,children:[e.field_label,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),"textarea"===e.field_type?(0,Ka.jsx)("textarea",{id:a,value:l[a]||"",onChange:e=>w(a,e.target.value),className:"form-input",rows:3,required:e.required}):"select"===e.field_type?(0,Ka.jsxs)("select",{id:a,value:l[a]||"",onChange:e=>w(a,e.target.value),className:"form-input",required:e.required,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar..."}),null===(n=e.field_options)||void 0===n?void 0:n.map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))]}):(0,Ka.jsx)("input",{type:"date"===e.field_type?"date":"email"===e.field_type?"email":"text",id:a,value:l[a]||"",onChange:e=>w(a,e.target.value),className:"form-input",required:e.required}),e.repeat_count>1&&(0,Ka.jsxs)("div",{className:"repeat-indicator",children:["\ud83d\udccb Se usar\xe1 en ",e.repeat_count," ubicaciones"]})]},"".concat(e.field_name,"-").concat(t))})})]}),_().length>0&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Variables Reutilizadas"}),(0,Ka.jsx)("p",{className:"section-description",children:"Estas variables se llenan autom\xe1ticamente bas\xe1ndose en la informaci\xf3n principal"}),(0,Ka.jsx)("div",{className:"repeated-variables",children:_().map((e,t)=>{const a=e.field_name,r=n.fields.find(t=>t.field_name===String(e.repeat_source));return(0,Ka.jsxs)("div",{className:"repeated-variable",children:[(0,Ka.jsxs)("div",{className:"variable-info",children:[(0,Ka.jsx)("strong",{children:e.field_label}),(0,Ka.jsxs)("span",{className:"source-info",children:["\u2190 Copia de: ",null===r||void 0===r?void 0:r.field_label]})]}),(0,Ka.jsx)("div",{className:"variable-value",children:l[a]||"Se llenar\xe1 autom\xe1ticamente"})]},"".concat(e.field_name,"-").concat(t))})})]}),(0,Ka.jsxs)("div",{className:"form-actions",children:[(0,Ka.jsx)("button",{onClick:async()=>{if(n){if(!C()){const e=n.fields.filter(e=>e.required).filter(e=>{const t=l[e.field_name];return!t||""===t.trim()});return void x("Por favor completa todos los campos requeridos. Faltan: ".concat(e.map(e=>e.field_label).join(", ")))}v(!0),x("");try{const e={};n.fields.forEach(t=>{const n=t.field_name;e[n]=l[n]||""}),console.log("\ud83d\udce4 Enviando datos completos:",{templateId:n._id,dataFields:Object.keys(e).length,data:e}),console.log("\ud83d\udd0d DEBUG: Informaci\xf3n de la plantilla:"),console.log("  - Template ID:",n._id),console.log("  - Template Name:",n.name),console.log("  - Total fields:",n.fields.length);const t=n.fields.filter(e=>e.required);console.log("  - Required fields:",t.length),t.forEach((e,t)=>{console.log("    ".concat(t+1,". ").concat(e.field_label," (").concat(e.field_name,")"))}),console.log("\ud83d\udd0d DEBUG: Datos que se enviar\xe1n:"),Object.keys(e).forEach(t=>{const n=e[t],a=!n||""===n.trim();console.log("  - ".concat(t,': "').concat(n,'" ').concat(a?"(VAC\xcdO)":"(LLENO)"))});const a=t.filter(t=>!e[t.field_name]||""===e[t.field_name].trim());a.length>0?(console.log("\u274c CAMPOS FALTANTES:"),a.forEach(e=>{console.log("  - ".concat(e.field_label," (").concat(e.field_name,")"))})):console.log("\u2705 Todos los campos requeridos est\xe1n llenos");const r=await Qa.post("/contract-generator/generate",{templateId:n._id,data:e});s(r.data.contract),d(r.data.contractId),m(r.data.contract_number),f(r.data.word_file),console.log("\u2705 Contrato generado exitosamente:"),console.log("  - ID:",r.data.contractId),console.log("  - N\xfamero:",r.data.contract_number),console.log("  - Word file:",r.data.word_file)}catch(c){var e,t,a,r,o,i;console.error("\u274c Error generating contract:",c),console.error("\u274c Error response:",null===(e=c.response)||void 0===e?void 0:e.data),console.error("\u274c Error status:",null===(t=c.response)||void 0===t?void 0:t.status),null!==(a=c.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.missingFields&&console.error("\u274c Missing fields:",c.response.data.missingFields),x((null===(o=c.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||"Error al generar el contrato")}finally{v(!1)}}},disabled:g||!C(),className:"generate-button",children:g?"Generando...":"Generar Contrato"}),!C()&&(0,Ka.jsx)("p",{className:"validation-message",children:"\u26a0\ufe0f Completa todos los campos requeridos para generar el contrato"}),(0,Ka.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"10px"},children:["DEBUG: allFieldsFilled = ",b.toString()]})]})]}),i&&(0,Ka.jsxs)("div",{className:"generated-contract",children:[(0,Ka.jsx)("h3",{children:"3. Contrato Generado"}),p&&(0,Ka.jsxs)("div",{className:"contract-info",children:[(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"N\xfamero de Contrato:"})," ",p]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"ID:"})," ",c]})]}),(0,Ka.jsx)("div",{className:"contract-content",children:(0,Ka.jsx)("pre",{children:i})}),(0,Ka.jsxs)("div",{className:"contract-actions",children:[(0,Ka.jsx)("button",{onClick:()=>navigator.clipboard.writeText(i),className:"copy-button",children:"Copiar Contrato"}),h&&(0,Ka.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=await Qa.get("/contracts/download/".concat(encodeURIComponent(e)),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=a,r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(a)}catch(y){console.error("Error downloading file:",y),x("Error al descargar el archivo")}})(h,"contrato-".concat(p||(null===n||void 0===n?void 0:n.name)||"generado",".docx")),className:"download-button word-button",children:"\ud83d\udcc4 Descargar Word"}),(0,Ka.jsx)("button",{onClick:()=>{const e=new Blob([i],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="contrato-".concat(p||(null===n||void 0===n?void 0:n.name)||"generado",".txt"),a.click()},className:"download-button",children:"\ud83d\udcdd Descargar TXT"})]})]})]})},ir=e=>{let{onTemplateCreated:t}=e;const[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)([]),[h,f]=(0,r.useState)({}),[g,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)(""),b=(0,r.useRef)(null);return(0,Ka.jsxs)("div",{className:"word-template-upload",children:[(0,Ka.jsxs)("div",{className:"upload-section",children:[(0,Ka.jsx)("h2",{children:"Crear Plantilla desde Word"}),(0,Ka.jsxs)("p",{className:"upload-description",children:["Sube un archivo Word con marcadores ","{{variable}}"," y se crear\xe1 autom\xe1ticamente una plantilla."]}),(0,Ka.jsxs)("div",{className:"file-upload-area",children:[(0,Ka.jsx)("input",{ref:b,type:"file",accept:".docx",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(n.name.toLowerCase().endsWith(".docx")?(a(n),o(n.name.replace(".docx",""))):alert("Por favor selecciona un archivo Word (.docx)"))},className:"file-input",id:"word-file"}),(0,Ka.jsx)("label",{htmlFor:"word-file",className:"file-label",children:n?n.name:"Seleccionar archivo Word (.docx)"})]}),c&&(0,Ka.jsxs)("div",{className:"processing",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Procesando archivo Word y creando plantilla..."})]}),n&&!c&&(0,Ka.jsxs)("div",{className:"template-form",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"template-name",children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{id:"template-name",type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"Ej: Contrato de Servicios",required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"template-description",children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{id:"template-description",value:i,onChange:e=>s(e.target.value),placeholder:"Descripci\xf3n de la plantilla...",rows:3})]}),(0,Ka.jsx)("div",{className:"submit-section",children:(0,Ka.jsx)("button",{onClick:()=>(async e=>{if(l.trim()){d(!0);try{const t=new FormData;t.append("wordFile",e),t.append("name",l),t.append("description",i),console.log("\ud83d\ude80 Enviando archivo para detectar variables..."),console.log("\ud83d\udcdd Datos enviados:"),console.log("  - Name:",l),console.log("  - Description:",i),console.log("  - File:",e.name);const n=await Qa.post("/templates/detect-variables",t,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 Respuesta recibida:",n.data),n.data.variables&&n.data.variables.length>0){console.log("\ud83c\udf89 VARIABLES DETECTADAS EXITOSAMENTE:"),console.log("  - Variables count:",n.data.variables.length),console.log("  - Message:",n.data.message),console.log("  - Variables:",n.data.variables),console.log("  - Requires field names:",n.data.requiresFieldNames),m(n.data.variables),x(n.data.previewHtml||""),v(!0);const e={};n.data.variables.forEach(t=>{e[t.field_name]=t.field_label}),f(e)}else console.log("\u26a0\ufe0f No se detectaron variables"),console.log("  - Response data:",n.data),alert("No se detectaron variables en el documento. Aseg\xfarate de usar marcadores {{variable}}")}catch(a){var t,n;console.error("Error processing Word file:",a),alert("Error al procesar el archivo Word: "+(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||0)}finally{d(!1)}}else alert("Por favor ingresa el nombre de la plantilla")})(n),className:"btn-submit",disabled:c||!l.trim(),children:c?"Procesando...":"Crear Plantilla"})})]}),g&&(0,Ka.jsxs)("div",{className:"name-assignment-form",children:[(0,Ka.jsx)("h3",{children:"Asignar Nombres Descriptivos a las Variables"}),(0,Ka.jsx)("p",{className:"assignment-description",children:"Asigna nombres descriptivos a cada variable detectada. Estos nombres aparecer\xe1n en el formulario de generaci\xf3n de contratos."}),(0,Ka.jsx)("div",{className:"variables-list",children:p.map((e,t)=>(0,Ka.jsxs)("div",{className:"variable-item",children:[(0,Ka.jsxs)("div",{className:"variable-info",children:[(0,Ka.jsxs)("strong",{children:["Variable ",t+1,":"]}),(0,Ka.jsxs)("code",{children:["{","{",e.original_marker,"}","}"]}),(0,Ka.jsxs)("span",{className:"variable-label",children:["(aparece ",e.repeat_count," veces)"]})]}),(0,Ka.jsxs)("div",{className:"name-assignment",children:[(0,Ka.jsx)("label",{htmlFor:"descriptive-name-".concat(e.field_name,"-").concat(t),children:"Nombre Descriptivo:"}),(0,Ka.jsx)("input",{id:"descriptive-name-".concat(e.field_name,"-").concat(t),type:"text",value:h[e.field_name]||"",onChange:t=>f(n=>u(u({},n),{},{[e.field_name]:t.target.value})),placeholder:"Ej: ".concat(e.field_label),required:!0})]})]},"".concat(e.field_name,"-").concat(t)))}),(0,Ka.jsx)("div",{className:"submit-section",children:(0,Ka.jsx)("button",{onClick:async()=>{if(l.trim()){d(!0);try{const e=p.map(e=>u(u({},e),{},{descriptive_name:h[e.field_name]||e.field_label}));console.log("\ud83c\udfd7\ufe0f CREANDO PLANTILLA CON NOMBRES DESCRIPTIVOS:"),console.log("  - Name:",l),console.log("  - Variables:",e);const n=await Qa.post("/templates/create-template-with-names",{name:l,description:i,variables:e,html:y});console.log("\u2705 PLANTILLA CREADA EXITOSAMENTE:"),console.log("  - Template ID:",n.data.templateId),console.log("  - Template name:",n.data.template.name),console.log("  - Fields:",n.data.template.fields),alert("\u2705 Plantilla creada exitosamente!\n\nNombre: ".concat(n.data.template.name,"\nVariables detectadas: ").concat(n.data.template.fields,"\nID: ").concat(n.data.templateId)),a(null),o(""),s(""),m([]),f({}),v(!1),x(""),b.current&&(b.current.value=""),t&&t(n.data.templateId)}catch(r){var e,n;console.error("Error creating template:",r),alert("Error al crear la plantilla: "+(null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||0)}finally{d(!1)}}else alert("Por favor ingresa el nombre de la plantilla")},className:"btn-submit",disabled:c,children:c?"Creando Plantilla...":"Crear Plantilla con Nombres Asignados"})})]})]}),(0,Ka.jsxs)("div",{className:"instructions",children:[(0,Ka.jsx)("h3",{children:"Instrucciones:"}),(0,Ka.jsxs)("ol",{children:[(0,Ka.jsxs)("li",{children:["Prepara tu documento Word con marcadores como: ",(0,Ka.jsx)("code",{children:"{{nombre_empresa}}"}),", ",(0,Ka.jsx)("code",{children:"{{fecha_contrato}}"}),", etc."]}),(0,Ka.jsx)("li",{children:"Selecciona el archivo Word (.docx)"}),(0,Ka.jsx)("li",{children:"Ingresa el nombre y descripci\xf3n de la plantilla"}),(0,Ka.jsx)("li",{children:'Haz clic en "Crear Plantilla"'}),(0,Ka.jsx)("li",{children:"El sistema detectar\xe1 autom\xe1ticamente las variables y crear\xe1 la plantilla"})]})]})]})},sr=e=>{let{onTemplateCreated:t}=e;const[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)([]),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,x]=(0,r.useState)(!1),b=(e,t,n)=>{const a=[...i];a[e]=u(u({},a[e]),{},{[t]:n}),s(a)},j=(e,t,n)=>{const a=[...i];a[e]=u(u({},a[e]),{},{[t]:n}),s(a)};return(0,Ka.jsxs)("div",{className:"word-template-upload",children:[(0,Ka.jsx)("h3",{children:"\ud83d\udcc4 Cargar Plantilla desde Word (Con Formato Preservado)"}),(0,Ka.jsxs)("div",{className:"upload-section",children:[(0,Ka.jsx)("input",{type:"file",accept:".docx,.doc",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&a(n)},disabled:l}),n&&(0,Ka.jsxs)("div",{className:"file-info",children:[(0,Ka.jsxs)("p",{children:["\ud83d\udcc1 Archivo seleccionado: ",n.name]}),(0,Ka.jsx)("button",{onClick:async()=>{if(n){o(!0);try{var e,t,a,r,l;const o=new FormData;o.append("file",n),console.log("\ud83d\udcc4 Procesando archivo Word con formato preservado...");const i=await Qa.post("/templates/process-word-with-format",o,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 Respuesta recibida:",i.data),console.log("\ud83d\udcc4 HTML completo recibido:",null===(e=i.data.formattedHtml)||void 0===e?void 0:e.length,"caracteres"),console.log("\ud83d\udcc4 Vista previa recibida:",null===(t=i.data.previewHtml)||void 0===t?void 0:t.length,"caracteres"),console.log("\ud83d\udcc4 Primeros 500 caracteres del HTML completo:",null===(a=i.data.formattedHtml)||void 0===a?void 0:a.substring(0,500)),console.log("\ud83d\udcc4 \xdaltimos 500 caracteres del HTML completo:",null===(r=i.data.formattedHtml)||void 0===r?void 0:r.substring(Math.max(0,((null===(l=i.data.formattedHtml)||void 0===l?void 0:l.length)||0)-500))),i.data.variables&&i.data.variables.length>0){s(i.data.variables),d(i.data.formattedHtml),m(i.data.previewHtml),x(!0);const e=i.data.variables.map((e,t)=>u(u({},e),{},{descriptive_name:e.original_marker||"Variable ".concat(t+1),type:"text",required:!0}));s(e)}else alert("No se detectaron variables en el documento")}catch(i){console.error("Error procesando archivo Word:",i),alert("Error al procesar el archivo Word")}finally{o(!1)}}},disabled:l,className:"btn btn-primary",children:l?"Procesando...":"Procesar con Formato Completo"})]})]}),y&&(0,Ka.jsxs)("div",{className:"variable-form",children:[(0,Ka.jsx)("h4",{children:"\ud83d\udcdd Configurar Variables de la Plantilla"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Ej: Contrato de Servicios",className:"form-control"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n (opcional):"}),(0,Ka.jsx)("textarea",{value:g,onChange:e=>v(e.target.value),placeholder:"Descripci\xf3n de la plantilla...",className:"form-control",rows:3})]}),(0,Ka.jsxs)("h5",{children:["\ud83d\udd27 Variables Detectadas (",i.length,"):"]}),i.map((e,t)=>(0,Ka.jsxs)("div",{className:"variable-item",children:[(0,Ka.jsxs)("div",{className:"variable-header",children:[(0,Ka.jsxs)("strong",{children:["Variable ",t+1,":"]})," ",e.original_marker]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsxs)("select",{value:e.type,onChange:e=>b(t,"type",e.target.value),className:"form-control",children:[(0,Ka.jsx)("option",{value:"text",children:"Texto"}),(0,Ka.jsx)("option",{value:"number",children:"N\xfamero"}),(0,Ka.jsx)("option",{value:"date",children:"Fecha"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"textarea",children:"Texto Largo"})]})]}),(0,Ka.jsx)("div",{className:"form-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.required||!1,onChange:e=>j(t,"required",e.target.checked)}),"Requerido"]})})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.is_repeated||!1,onChange:e=>j(t,"is_repeated",e.target.checked)}),"Variable repetida"]}),e.is_repeated&&(0,Ka.jsxs)("div",{className:"form-group",style:{marginTop:"10px"},children:[(0,Ka.jsx)("label",{children:"Copiar informaci\xf3n de la variable n\xfamero:"}),(0,Ka.jsxs)("select",{value:e.repeat_source||"",onChange:e=>b(t,"repeat_source",e.target.value),className:"form-control",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar variable..."}),i.map((e,n)=>n!==t?(0,Ka.jsxs)("option",{value:n+1,children:["#",n+1," - ",e.original_marker||e.descriptive_name]},n):null)]})]})]})]},t)),(0,Ka.jsxs)("div",{className:"preview-section",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc41\ufe0f Vista Previa del Formato:"}),(0,Ka.jsx)("div",{className:"html-preview",dangerouslySetInnerHTML:{__html:c||p},style:{border:"1px solid #ddd",padding:"15px",borderRadius:"5px",backgroundColor:"#f9f9f9",maxHeight:"800px",overflow:"auto",minHeight:"400px"}})]}),(0,Ka.jsx)("div",{className:"form-actions",children:(0,Ka.jsx)("button",{onClick:async()=>{if(h.trim()){o(!0);try{console.log("\ud83c\udfd7\ufe0f Creando plantilla con formato preservado...");const e=i.map(e=>u(u({},e),{},{descriptive_name:e.original_marker||e.descriptive_name||"Variable ".concat(i.indexOf(e)+1)})),n=await Qa.post("/templates/create-template-with-names",{name:h,description:g,variables:e,html:p,formattedHtml:c});console.log("\u2705 Plantilla creada:",n.data),alert("Plantilla creada exitosamente con formato preservado"),t(n.data.template),a(null),s([]),d(""),m(""),f(""),v(""),x(!1)}catch(e){console.error("Error creando plantilla:",e),alert("Error al crear la plantilla")}finally{o(!1)}}else alert("Por favor ingresa un nombre para la plantilla")},disabled:l||!h.trim(),className:"btn btn-success",children:l?"Creando...":"Crear Plantilla con Formato Preservado"})})]})]})},cr=e=>{var t;let{onContractGenerated:n}=e;const[a,l]=(0,r.useState)([]),[o,i]=(0,r.useState)(null),[s,c]=(0,r.useState)({}),[d,p]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[]);const f=async()=>{try{const e=await Qa.get("/templates");l(e.data)}catch(e){console.error("Error fetching templates:",e)}finally{p(!1)}},g=(e,t)=>{c(n=>u(u({},n),{},{[e]:t}))},v=e=>{var t;const n=s[e.name]||"";switch(e.type){case"text":case"email":return(0,Ka.jsx)("input",{type:e.type,value:n,onChange:t=>g(e.name,t.target.value),placeholder:e.description||e.name,required:e.required,className:"form-input"});case"number":return(0,Ka.jsx)("input",{type:"number",value:n,onChange:t=>g(e.name,t.target.value),placeholder:e.description||e.name,required:e.required,className:"form-input"});case"date":return(0,Ka.jsx)("input",{type:"date",value:n,onChange:t=>g(e.name,t.target.value),required:e.required,className:"form-input"});case"select":return(0,Ka.jsxs)("select",{value:n,onChange:t=>g(e.name,t.target.value),required:e.required,className:"form-input",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar..."}),null===(t=e.options)||void 0===t?void 0:t.map((e,t)=>(0,Ka.jsx)("option",{value:e,children:e},t))]});default:return(0,Ka.jsx)("input",{type:"text",value:n,onChange:t=>g(e.name,t.target.value),placeholder:e.description||e.name,required:e.required,className:"form-input"})}};return d?(0,Ka.jsx)("div",{className:"loading",children:"Cargando plantillas..."}):(0,Ka.jsxs)("div",{className:"word-contract-generator",children:[(0,Ka.jsxs)("div",{className:"generator-header",children:[(0,Ka.jsx)("h2",{children:"Generador de Contratos desde Word"}),(0,Ka.jsx)("p",{children:"Selecciona una plantilla y completa los campos para generar tu contrato"})]}),(0,Ka.jsxs)("div",{className:"generator-content",children:[(0,Ka.jsxs)("div",{className:"templates-section",children:[(0,Ka.jsx)("h3",{children:"Plantillas Disponibles"}),0===a.length?(0,Ka.jsx)("div",{className:"no-templates",children:(0,Ka.jsx)("p",{children:"No hay plantillas disponibles"})}):(0,Ka.jsx)("div",{className:"templates-grid",children:a.map(e=>{var t;return(0,Ka.jsxs)("div",{className:"template-card ".concat((null===o||void 0===o?void 0:o._id)===e._id?"selected":""),onClick:()=>(e=>{i(e),c({})})(e),children:[(0,Ka.jsx)("h4",{children:e.name}),(0,Ka.jsx)("p",{children:e.description}),(0,Ka.jsxs)("div",{className:"template-info",children:[(0,Ka.jsxs)("span",{className:"field-count",children:[(null===(t=e.fields)||void 0===t?void 0:t.length)||0," campos"]}),(0,Ka.jsx)("span",{className:"template-type",children:"Word"})]})]},e._id)})})]}),o&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsxs)("div",{className:"form-header",children:[(0,Ka.jsx)("h3",{children:"Completar Informaci\xf3n"}),(0,Ka.jsxs)("p",{children:["Plantilla: ",o.name]})]}),(0,Ka.jsx)("div",{className:"form-fields",children:null===(t=o.fields)||void 0===t?void 0:t.map((e,t)=>(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{className:"field-label",children:[e.name,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),e.description&&(0,Ka.jsx)("p",{className:"field-description",children:e.description}),v(e)]},t))}),(0,Ka.jsx)("div",{className:"form-actions",children:(0,Ka.jsx)("button",{onClick:async()=>{if(o){h(!0);try{const e=await Qa.post("/templates/generate-word-contract",{templateId:o._id,formData:s},{responseType:"blob"}),t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="".concat(o.name,"_generado.docx"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a);const l=await Qa.post("/contracts",{title:"".concat(o.name," - ").concat((new Date).toLocaleDateString()),company:"Empresa del Usuario",status:"borrador",description:"Contrato generado desde plantilla: ".concat(o.name),template_id:o._id});n&&n(l.data.id),alert("Contrato generado exitosamente")}catch(e){console.error("Error generating contract:",e),alert("Error al generar el contrato")}finally{h(!1)}}},disabled:m,className:"btn-generate",children:m?"Generando...":"Generar Contrato"})})]})]})]})},dr=e=>{var t,n;let{templateId:a,onClose:l}=e;const[o,i]=(0,r.useState)(null),[s,c]=(0,r.useState)([]),[d,p]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{v()},[a]);const v=async()=>{try{p(!0);const e=await Qa.get("/templates/template-details/".concat(a));i(e.data.template),c(e.data.variables),g(e.data.variables)}catch(e){console.error("Error fetching template details:",e)}finally{p(!1)}},y=(e,t,n)=>{const a=[...f];a[e]=u(u({},a[e]),{},{[t]:n}),g(a)};return d?(0,Ka.jsx)("div",{className:"template-variables-overlay",children:(0,Ka.jsx)("div",{className:"template-variables-modal",children:(0,Ka.jsx)("div",{className:"loading",children:"Cargando detalles de la plantilla..."})})}):(0,Ka.jsx)("div",{className:"template-variables-overlay",children:(0,Ka.jsxs)("div",{className:"template-variables-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsxs)("h2",{children:["Variables de la Plantilla: ",null===o||void 0===o?void 0:o.name]}),(0,Ka.jsx)("button",{className:"close-button",onClick:l,children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"template-info",children:(0,Ka.jsxs)("div",{className:"info-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n de la Plantilla"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Categor\xeda:"})," ",null===o||void 0===o?void 0:o.category]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Descripci\xf3n:"})," ",(null===o||void 0===o?void 0:o.description)||"Sin descripci\xf3n"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Creado por:"})," ",null===o||void 0===o||null===(t=o.created_by)||void 0===t?void 0:t.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",(null===o||void 0===o||null===(n=o.company)||void 0===n?void 0:n.name)||"Sin empresa"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Total de variables:"})," ",s.length]})]})}),(0,Ka.jsxs)("div",{className:"variables-section",children:[(0,Ka.jsxs)("div",{className:"section-header",children:[(0,Ka.jsx)("h3",{children:"Variables Detectadas"}),(0,Ka.jsx)("div",{className:"section-actions",children:m?(0,Ka.jsxs)("div",{className:"edit-actions",children:[(0,Ka.jsx)("button",{className:"btn-save",onClick:async()=>{try{await Qa.put("/templates/template-variables/".concat(a),{variables:f}),c(f),h(!1),alert("Variables actualizadas correctamente")}catch(e){console.error("Error updating variables:",e),alert("Error al actualizar las variables")}},children:"Guardar Cambios"}),(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>{g(s),h(!1)},children:"Cancelar"})]}):(0,Ka.jsx)("button",{className:"btn-edit",onClick:()=>h(!0),children:"Editar Variables"})})]}),(0,Ka.jsx)("div",{className:"variables-list",children:(m?f:s).map((e,t)=>{var n;return(0,Ka.jsxs)("div",{className:"variable-card",children:[(0,Ka.jsxs)("div",{className:"variable-header",children:[(0,Ka.jsxs)("span",{className:"variable-number",children:["#",e.number]}),(0,Ka.jsx)("span",{className:"variable-marker",children:e.original_marker}),e.repeat_count>1&&(0,Ka.jsxs)("span",{className:"repeat-count",children:["(aparece ",e.repeat_count," veces)"]}),f.some((n,a)=>a!==t&&n.repeat_source===e.number)&&(0,Ka.jsx)("span",{className:"source-indicator",children:"\ud83d\udccb Variable origen"})]}),(0,Ka.jsxs)("div",{className:"variable-details",children:[(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Informaci\xf3n de Campo:"}),m?(0,Ka.jsx)("input",{type:"text",value:e.field_name,onChange:e=>y(t,"field_name",e.target.value),className:"field-input"}):(0,Ka.jsx)("span",{className:"field-value",children:e.field_name})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Nombre de Variable:"}),m?(0,Ka.jsx)("input",{type:"text",value:e.field_label,onChange:e=>y(t,"field_label",e.target.value),className:"field-input"}):(0,Ka.jsx)("span",{className:"field-value",children:e.field_label})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),m?(0,Ka.jsxs)("select",{value:e.field_type,onChange:e=>y(t,"field_type",e.target.value),className:"field-select",children:[(0,Ka.jsx)("option",{value:"text",children:"Texto"}),(0,Ka.jsx)("option",{value:"number",children:"N\xfamero"}),(0,Ka.jsx)("option",{value:"date",children:"Fecha"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"textarea",children:"\xc1rea de texto"}),(0,Ka.jsx)("option",{value:"select",children:"Selecci\xf3n"})]}):(0,Ka.jsx)("span",{className:"field-value",children:e.field_type})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),m?(0,Ka.jsx)("textarea",{value:e.description,onChange:e=>y(t,"description",e.target.value),className:"field-textarea",rows:2}):(0,Ka.jsx)("span",{className:"field-value",children:e.description})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Requerido:"}),m?(0,Ka.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>y(t,"required",e.target.checked),className:"field-checkbox"}):(0,Ka.jsx)("span",{className:"field-value",children:e.required?"S\xed":"No"})]}),m&&(0,Ka.jsxs)("div",{className:"repeat-section",children:[(0,Ka.jsx)("div",{className:"detail-row",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.can_repeat,onChange:()=>(e=>{const t=[...f];t[e]=u(u({},t[e]),{},{can_repeat:!t[e].can_repeat,repeat_source:t[e].can_repeat?t[e].repeat_source:null}),g(t)})(t),className:"field-checkbox"}),"Puede repetir informaci\xf3n"]})}),e.can_repeat&&(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Repetir informaci\xf3n de la variable:"}),(0,Ka.jsxs)("select",{value:e.repeat_source||"",onChange:e=>((e,t)=>{const n=parseInt(t)-1,a=[...f];if(t&&n>=0&&n<f.length&&n!==e){const t=f[n];a[e]=u(u({},a[e]),{},{field_name:t.field_name,field_label:t.field_label,field_type:t.field_type,description:t.description,repeat_source:n+1})}else a[e]=u(u({},a[e]),{},""===t?{repeat_source:null}:{repeat_source:t?parseInt(t):null});g(a)})(t,e.target.value),className:"field-select",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar variable origen..."}),f.map((e,n)=>n!==t&&(0,Ka.jsxs)("option",{value:n+1,children:["#",n+1," - ",e.field_label," (","{","{",e.original_marker,"}","}",")"]},n))]}),e.repeat_source&&(0,Ka.jsx)("div",{className:"repeat-info",children:(0,Ka.jsxs)("small",{children:["Esta variable copiar\xe1 la informaci\xf3n de: ",(0,Ka.jsxs)("strong",{children:["#",e.repeat_source," - ",null===(n=f[e.repeat_source-1])||void 0===n?void 0:n.field_label]})]})})]})]})]})]},t)})})]})]})})},ur=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)({name:"",type:"",description:"",content:""}),[g,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[C,_]=(0,r.useState)(null),[S,k]=(0,r.useState)({name:"",type:"",description:"",content:""});(0,r.useEffect)(()=>{E()},[]);const E=async()=>{try{const e=await Qa.get("/templates");t(e.data)}catch(e){console.error("Error fetching templates:",e)}finally{a(!1)}};return n?(0,Ka.jsx)("div",{className:"loading",children:"Cargando plantillas..."}):(0,Ka.jsxs)("div",{className:"templates",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Plantillas de Contratos"}),(0,Ka.jsxs)("div",{className:"header-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>s(!0),children:"Subir desde Word"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!0),children:"Subir Word (Con Formato)"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>m(!0),children:"Generar Contrato"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>o(!0),children:"Nueva Plantilla"})]})]}),(0,Ka.jsx)("div",{className:"templates-list",children:0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay plantillas"}),(0,Ka.jsx)("p",{children:"Crea tu primera plantilla para comenzar"})]}):e.map(e=>(0,Ka.jsxs)("div",{className:"template-card",children:[(0,Ka.jsx)("h3",{children:e.name}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Tipo:"})," ",e.type]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Descripci\xf3n:"})," ",e.description]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Creado:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,Ka.jsxs)("div",{className:"template-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{_(e),v(!0)})(e),children:"Ver"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{_(e),k({name:e.name,type:e.type,description:e.description,content:e.content||""}),x(!0)})(e),children:"Editar"}),(0,Ka.jsx)("button",{className:"btn-info",onClick:()=>(e=>{_(e),w(!0)})(e),children:"Variables"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>(e=>{_(e),j(!0)})(e),children:"Usar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta plantilla?"))try{await Qa.delete("/templates/".concat(e)),await E()}catch(t){console.error("Error deleting template:",t)}})(e._id||e.id),children:"Eliminar"})]})]},e._id||e.id))}),l&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nueva Plantilla"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:h.name,onChange:e=>f(u(u({},h),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsxs)("select",{value:h.type,onChange:e=>f(u(u({},h),{},{type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar tipo"}),(0,Ka.jsx)("option",{value:"contrato",children:"Contrato"}),(0,Ka.jsx)("option",{value:"acuerdo",children:"Acuerdo"}),(0,Ka.jsx)("option",{value:"convenio",children:"Convenio"}),(0,Ka.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{value:h.description,onChange:e=>f(u(u({},h),{},{description:e.target.value})),rows:3,required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contenido de la Plantilla:"}),(0,Ka.jsx)("textarea",{value:h.content,onChange:e=>f(u(u({},h),{},{content:e.target.value})),rows:10,placeholder:"Escribe el contenido de la plantilla aqu\xed...",required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>o(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/templates",h),await E(),o(!1),f({name:"",type:"",description:"",content:""})}catch(e){console.error("Error creating template:",e)}},disabled:!h.name||!h.type||!h.content,children:"Crear Plantilla"})]})]})}),g&&C&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsxs)("h3",{children:["Ver Plantilla: ",C.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre:"}),(0,Ka.jsx)("p",{children:C.name})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsx)("p",{children:C.type})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("p",{children:C.description})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contenido:"}),(0,Ka.jsx)("div",{className:"template-content-preview",style:{border:"1px solid #ddd",padding:"1rem",borderRadius:"4px",backgroundColor:"#f9f9f9",maxHeight:"400px",overflowY:"auto",fontFamily:"Times New Roman, serif",lineHeight:"1.6",color:"#333"},dangerouslySetInnerHTML:{__html:(e=>{if(!e)return"<p>Sin contenido</p>";return e.replace(/\{\{([^}]+)\}\}/g,'<span class="variable">{{$1}}</span>')})(C.content||"")}})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>v(!1),children:"Cerrar"})})]})}),y&&C&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsxs)("h3",{children:["Editar Plantilla: ",C.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:S.name,onChange:e=>k(u(u({},S),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsxs)("select",{value:S.type,onChange:e=>k(u(u({},S),{},{type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar tipo"}),(0,Ka.jsx)("option",{value:"contrato",children:"Contrato"}),(0,Ka.jsx)("option",{value:"acuerdo",children:"Acuerdo"}),(0,Ka.jsx)("option",{value:"convenio",children:"Convenio"}),(0,Ka.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{value:S.description,onChange:e=>k(u(u({},S),{},{description:e.target.value})),rows:3,required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contenido de la Plantilla:"}),(0,Ka.jsx)("textarea",{value:S.content,onChange:e=>k(u(u({},S),{},{content:e.target.value})),rows:10,placeholder:"Escribe el contenido de la plantilla aqu\xed...",required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>x(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(C)try{await Qa.put("/templates/".concat(C.id),S),await E(),x(!1),_(null)}catch(e){console.error("Error updating template:",e)}},disabled:!S.name||!S.type||!S.content,children:"Actualizar Plantilla"})]})]})}),b&&C&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsxs)("h3",{children:["Usar Plantilla: ",C.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Plantilla seleccionada:"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:C.name})," - ",C.type]}),(0,Ka.jsx)("p",{children:C.description})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"\xbfQu\xe9 quieres hacer con esta plantilla?"}),(0,Ka.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>{alert("Funcionalidad de crear contrato desde plantilla - En desarrollo"),j(!1)},children:"Crear Contrato"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{const e=new Blob([C.content||""],{type:"text/plain"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="".concat(C.name,".txt"),n.click(),URL.revokeObjectURL(t),j(!1)},children:"Descargar Plantilla"})]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>j(!1),children:"Cancelar"})})]})}),i&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal large-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:"Subir Plantilla desde Word"}),(0,Ka.jsx)("button",{className:"btn-close",onClick:()=>s(!1),children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-content",children:(0,Ka.jsx)(ir,{onTemplateCreated:e=>{s(!1),E()}})})]})}),c&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal large-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:"Subir Plantilla desde Word (Con Formato Preservado)"}),(0,Ka.jsx)("button",{className:"btn-close",onClick:()=>d(!1),children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-content",children:(0,Ka.jsx)(sr,{onTemplateCreated:e=>{d(!1),E()}})})]})}),p&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal large-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:"Generar Contrato desde Word"}),(0,Ka.jsx)("button",{className:"btn-close",onClick:()=>m(!1),children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-content",children:(0,Ka.jsx)(cr,{onContractGenerated:e=>{m(!1),alert("Contrato generado exitosamente")}})})]})}),N&&C&&(0,Ka.jsx)(dr,{templateId:C._id||C.id,onClose:()=>{w(!1),_(null)}})]})},pr=e=>{let{isOpen:t,onClose:n,detectedVariables:a,thirdPartyTypeCode:l,onConfigApplied:o}=e;const[i,s]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)({}),[x,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[_,S]=(0,r.useState)(""),[k,E]=(0,r.useState)("\ud83d\udcc4"),[T,P]=(0,r.useState)("NIT"),R={identification:"\ud83c\udd94 Identificaci\xf3n",personal:"\ud83d\udc64 Informaci\xf3n Personal",business:"\ud83c\udfe2 Informaci\xf3n Empresarial",legal:"\u2696\ufe0f Representaci\xf3n Legal",contact:"\ud83d\udcde Contacto",address:"\ud83d\udccd Direcci\xf3n",employment:"\ud83d\udcbc Informaci\xf3n Laboral",financial:"\ud83d\udcb0 Informaci\xf3n Financiera",dates:"\ud83d\udcc5 Fechas",other:"\ud83d\udccb Otros"};(0,r.useEffect)(()=>{t&&(L(),A())},[t,a,l]);const L=async()=>{try{const e=await Qa.get("/third-party-types");d(e.data);const t=e.data.find(e=>e.code===l);t&&p(t._id)}catch(e){console.error("Error al cargar tipos de terceros:",e)}},A=async()=>{if(a&&0!==a.length){g(!0);try{const e=a.map(e=>({field_name:e.field_name||e.marker,original_marker:e.marker}));console.log("\ud83d\udd0d Analizando variables:",e);const t=await Qa.post("/third-party-types/suggest-from-template",{fields:e,third_party_type:l});console.log("\u2705 Sugerencias recibidas:",t.data),s(t.data.suggested),y(t.data.categories||{})}catch(e){console.error("Error al analizar variables:",e),alert("Error al analizar las variables de la plantilla")}finally{g(!1)}}};if(!t)return null;const z=i.filter(e=>!e.excluded).length,O=i.filter(e=>e.required&&!e.excluded).length,D=i.filter(e=>e.excluded).length;return(0,Ka.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Ka.jsxs)("div",{className:"modal-content third-party-config-modal",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h2",{children:"\ud83d\udd27 Configurar Tipo de Tercero"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-body",children:f?(0,Ka.jsxs)("div",{className:"analyzing-section",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Analizando variables de la plantilla..."})]}):(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"config-header",children:[(0,Ka.jsxs)("p",{className:"config-description",children:["Se detectaron ",(0,Ka.jsxs)("strong",{children:[a.length," variables"]})," en tu plantilla. Configura qu\xe9 campos ser\xe1n obligatorios o excluidos para el tipo de tercero seleccionado."]}),(0,Ka.jsxs)("div",{className:"config-stats",children:[(0,Ka.jsxs)("div",{className:"stat",children:[(0,Ka.jsx)("span",{className:"stat-label",children:"Incluidos:"}),(0,Ka.jsx)("span",{className:"stat-value",children:z})]}),(0,Ka.jsxs)("div",{className:"stat",children:[(0,Ka.jsx)("span",{className:"stat-label",children:"Requeridos:"}),(0,Ka.jsx)("span",{className:"stat-value required",children:O})]}),(0,Ka.jsxs)("div",{className:"stat",children:[(0,Ka.jsx)("span",{className:"stat-label",children:"Excluidos:"}),(0,Ka.jsx)("span",{className:"stat-value excluded",children:D})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero:"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"12px"},children:[(0,Ka.jsx)("button",{type:"button",onClick:()=>b(!1),style:{flex:1,padding:"8px 12px",backgroundColor:x?"#e5e7eb":"#3b82f6",color:x?"#6b7280":"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Usar Existente"}),(0,Ka.jsx)("button",{type:"button",onClick:()=>b(!0),style:{flex:1,padding:"8px 12px",backgroundColor:x?"#10b981":"#e5e7eb",color:x?"white":"#6b7280",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"+ Crear Nuevo"})]}),x?(0,Ka.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsxs)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:["Nombre del Tipo ",(0,Ka.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:j,onChange:e=>{N(e.target.value),C(e.target.value.toLowerCase().replace(/[^a-z0-9]/g,"_"))},placeholder:"Ej: Proveedor de Servicios",className:"form-select",style:{padding:"10px 12px"}})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsxs)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:["C\xf3digo ",(0,Ka.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:w,onChange:e=>C(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"Ej: proveedor_servicios",className:"form-select",style:{padding:"10px 12px",fontFamily:"monospace"}})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Descripci\xf3n"}),(0,Ka.jsx)("input",{type:"text",value:_,onChange:e=>S(e.target.value),placeholder:"Descripci\xf3n del tipo de tercero",className:"form-select",style:{padding:"10px 12px"}})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Icono (Emoji)"}),(0,Ka.jsx)("input",{type:"text",value:k,onChange:e=>E(e.target.value),placeholder:"\ud83d\udcc4",className:"form-select",style:{padding:"10px 12px",fontSize:"20px"},maxLength:2})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsxs)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:["Tipo de Identificaci\xf3n por Defecto ",(0,Ka.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Ka.jsxs)("select",{value:T,onChange:e=>P(e.target.value),className:"form-select",style:{padding:"10px 12px"},children:[(0,Ka.jsx)("option",{value:"NIT",children:"NIT (Empresa)"}),(0,Ka.jsx)("option",{value:"NIT (PH)",children:"NIT (Propiedad Horizontal)"}),(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"}),(0,Ka.jsx)("option",{value:"RUT",children:"RUT"}),(0,Ka.jsx)("option",{value:"Otro",children:"Otro"})]}),(0,Ka.jsx)("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"Este tipo de identificaci\xf3n se usar\xe1 por defecto al crear terceros de este tipo"})]})]}):(0,Ka.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"form-select",children:[(0,Ka.jsx)("option",{value:"",children:"Selecciona un tipo..."}),c.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id))]})]})]}),(0,Ka.jsx)("div",{className:"fields-by-category",children:Object.entries(v).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("div",{className:"category-section",children:[(0,Ka.jsx)("h3",{className:"category-title",children:R[t]||t}),(0,Ka.jsx)("div",{className:"fields-list",children:n.map((e,t)=>{const n=i.findIndex(t=>t.name===e.name),a=i[n];return(0,Ka.jsxs)("div",{className:"field-item ".concat(a.excluded?"excluded":""," ").concat("required"===a.recommended?"recommended-required":""," ").concat("excluded"===a.recommended?"recommended-excluded":""),children:[(0,Ka.jsxs)("div",{className:"field-info",children:[(0,Ka.jsxs)("div",{className:"field-header",children:[(0,Ka.jsx)("span",{className:"field-label",children:e.label}),(0,Ka.jsx)("span",{className:"field-type-badge",children:e.field_type})]}),(0,Ka.jsxs)("div",{className:"field-details",children:[(0,Ka.jsx)("span",{className:"field-marker",children:"{{"+e.original_marker+"}}"}),a.recommended&&(0,Ka.jsx)("span",{className:"recommendation-badge ".concat(a.recommended),children:"required"===a.recommended?"\u2b50 Recomendado como obligatorio":"\ud83d\udeab Recomendado excluir"})]})]}),(0,Ka.jsxs)("div",{className:"field-actions",children:[(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:a.required,onChange:()=>(e=>{const t=[...i];t[e].required=!t[e].required,s(t)})(n),disabled:a.excluded}),(0,Ka.jsx)("span",{children:"Requerido"})]}),(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:a.excluded,onChange:()=>(e=>{const t=[...i];t[e].excluded=!t[e].excluded,t[e].excluded&&(t[e].required=!1),s(t)})(n)}),(0,Ka.jsx)("span",{children:"Excluir"})]})]})]},e.name)})})]},t)})})]})}),(0,Ka.jsxs)("div",{className:"modal-footer",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:n,disabled:m,children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-apply",onClick:async()=>{h(!0);try{let e=u;if(x){if(!j.trim()||!w.trim())return alert("Por favor ingresa el nombre y c\xf3digo del nuevo tipo de tercero"),void h(!1);console.log("\ud83c\udd95 Creando nuevo tipo de tercero...");e=(await Qa.post("/third-party-types",{code:w.toLowerCase().trim(),label:j.trim(),description:_.trim()||"Tipo de tercero: ".concat(j),icon:k||"\ud83d\udcc4",default_identification_types:[T],fields:[]})).data.type._id,console.log("\u2705 Nuevo tipo creado:",e)}if(!e)return alert("Por favor selecciona o crea un tipo de tercero"),void h(!1);const t=await Qa.put("/third-party-types/".concat(e,"/apply-suggested-fields"),{fields:i});console.log("\u2705 Configuraci\xf3n aplicada:",t.data),alert("Configuraci\xf3n ".concat(x?"creada":"actualizada"," exitosamente!\n\n")+"Campos agregados: ".concat(t.data.fieldsAdded,"\n")+"Campos excluidos: ".concat(t.data.fieldsExcluded)),o&&o(e),n()}catch(a){var e,t;console.error("Error al aplicar configuraci\xf3n:",a),alert("Error al aplicar la configuraci\xf3n: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error desconocido"))}finally{h(!1)}},disabled:m||f||!x&&!u,children:m?x?"Creando...":"Aplicando...":"Aplicar Configuraci\xf3n"})]})]})})},mr=e=>{let{onTemplateCreated:t,onContractGenerated:n}=e;const[a,l]=(0,r.useState)(null),[o,i]=(0,r.useState)(""),[s,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("otro"),[p,m]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[g,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)("upload"),[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(!1),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{const e="?t=".concat(Date.now()),t=(await Qa.get("/templates/third-party-types".concat(e))).data||[];console.log("\ud83d\udd0d [DEBUG] Tipos de terceros recibidos (UnifiedWordTemplateUpload):",t.length),console.log("\ud83d\udccb [DEBUG] C\xf3digos:",t.map(e=>e.value||e.code).join(", ")),console.log("\u2705 [DEBUG] Tiene Propiedad Horizontal (ph):",t.some(e=>"ph"===(e.value||e.code))),console.log("\u2705 [DEBUG] Tiene Contador PH (contador_ph):",t.some(e=>"contador_ph"===(e.value||e.code))),m(t)}catch(e){console.error("Error cargando tipos de terceros:",e)}})()},[]);const _=async e=>{if(o.trim()){v(!0),x("variables");try{const t=new FormData;t.append("wordFile",e),t.append("name",o),t.append("description",s),t.append("thirdPartyType",d),console.log("\ud83d\ude80 Enviando archivo para detectar variables..."),console.log("\ud83c\udff7\ufe0f  Tipo de tercero:",d);const n=await Qa.post("/templates/process-word-with-format",t,{headers:{"Content-Type":"multipart/form-data"}});console.log("\u2705 Variables detectadas:",n.data.variables),console.log("\ud83d\udccb Detalle de variables:"),n.data.variables.forEach((e,t)=>{console.log("  ".concat(t+1,'. marker="').concat(e.marker,'", field_name="').concat(e.field_name,'", field_label="').concat(e.field_label,'"'))}),f(n.data.variables),j(n.data.previewHtml)}catch(a){var t,n;console.error("Error procesando archivo:",a),alert("Error al procesar el archivo: "+(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||0)}finally{v(!1)}}else alert("Por favor ingresa el nombre de la plantilla")},S=()=>{l(null),i(""),c(""),u("otro"),f([]),x("upload"),C.current&&(C.current.value="")},k=()=>{w(!1),alert("Plantilla creada exitosamente. Ahora puedes generar contratos desde esta plantilla."),S()};return(0,Ka.jsxs)("div",{className:"unified-word-template-upload",children:[(0,Ka.jsxs)("div",{className:"process-header",children:[(0,Ka.jsx)("h2",{children:"\ud83d\udcdd Crear Plantilla"}),(0,Ka.jsx)("p",{children:"Sube un archivo Word y gu\xe1rdalo como plantilla para generar contratos despu\xe9s"}),(0,Ka.jsxs)("div",{className:"step-indicator",children:[(0,Ka.jsx)("div",{className:"step ".concat("upload"===y?"active":""),children:"1"}),(0,Ka.jsx)("div",{className:"step ".concat("variables"===y?"active":""),children:"2"})]}),(0,Ka.jsx)("h3",{children:(()=>{switch(y){case"upload":return"1. Subir Archivo Word";case"variables":return"2. Variables Detectadas";default:return"Crear Plantilla"}})()})]}),"upload"===y&&(0,Ka.jsxs)("div",{className:"upload-section",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Ej: NDA, Contrato de Servicios...",className:"form-input"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n (opcional):"}),(0,Ka.jsx)("textarea",{value:s,onChange:e=>c(e.target.value),placeholder:"Descripci\xf3n de la plantilla...",className:"form-textarea"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero Involucrado:"}),(0,Ka.jsx)("select",{value:d,onChange:e=>u(e.target.value),className:"form-select",children:p.map(e=>(0,Ka.jsxs)("option",{value:e.value,children:[e.icon," ",e.label," - ",e.description]},e.value))}),(0,Ka.jsx)("small",{className:"form-hint",children:"Selecciona el tipo de tercero para adaptar las variables detectadas"})]}),(0,Ka.jsxs)("div",{className:"file-upload-area",children:[(0,Ka.jsx)("input",{ref:C,type:"file",accept:".docx",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(n.name.endsWith(".docx")?(l(n),i(n.name.replace(".docx","")),await _(n)):alert("Por favor selecciona un archivo Word (.docx)"))},className:"file-input",id:"word-file"}),(0,Ka.jsx)("label",{htmlFor:"word-file",className:"file-label",children:a?a.name:"Seleccionar archivo Word (.docx)"})]})]}),"variables"===y&&(0,Ka.jsxs)("div",{className:"variables-section",children:[(0,Ka.jsxs)("div",{className:"variables-header",children:[(0,Ka.jsxs)("h3",{children:["Variables Detectadas (",h.length,")"]}),(0,Ka.jsx)("p",{children:"Estas son las variables que se encontraron en tu documento Word"})]}),(0,Ka.jsx)("div",{className:"variables-list",children:h.map((e,t)=>(0,Ka.jsxs)("div",{className:"variable-item",children:[(0,Ka.jsxs)("div",{className:"variable-info",children:[(0,Ka.jsx)("span",{className:"variable-marker",children:"{{".concat(e.marker,"}}")}),(0,Ka.jsx)("span",{className:"variable-label",children:e.field_label}),e.is_repeated&&(0,Ka.jsxs)("span",{className:"duplicate-badge",children:["Duplicada de #",e.repeat_source]})]}),(0,Ka.jsxs)("div",{className:"variable-details",children:[(0,Ka.jsx)("span",{className:"variable-type",children:e.field_type}),e.required&&(0,Ka.jsx)("span",{className:"required-badge",children:"Requerido"})]})]},t))}),(0,Ka.jsxs)("div",{className:"preview-section",children:[(0,Ka.jsx)("h4",{children:"Vista Previa del Documento:"}),(0,Ka.jsx)("div",{className:"preview-content",dangerouslySetInnerHTML:{__html:b}})]}),(0,Ka.jsx)("button",{onClick:async()=>{if(a&&o.trim()){v(!0);try{const e=new FormData;e.append("wordFile",a),console.log("\ud83d\udce4 Subiendo archivo Word...");const n=await Qa.post("/templates/upload-word",e,{headers:{"Content-Type":"multipart/form-data"}}),{filePath:r,content:l}=n.data,i={name:o,description:s,third_party_type:d,content:l||"",fields:h,wordFilePath:r,wordFileOriginalName:a.name};console.log("\ud83d\udcdd Creando plantilla...");const c=await Qa.post("/templates",i);console.log("\u2705 Plantilla creada exitosamente"),h.length>0?(console.log("\ud83d\udd27 Mostrando modal de configuraci\xf3n de campos..."),w(!0)):(alert("Plantilla creada exitosamente. Ahora puedes generar contratos desde esta plantilla."),S()),t&&t(c.data.id)}catch(r){var e,n;console.error("Error al crear plantilla:",r),alert("Error al crear la plantilla: "+((null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Error desconocido"))}finally{v(!1)}}else alert("Por favor ingresa un nombre para la plantilla")},className:"btn-continue",disabled:g,children:g?"Creando Plantilla...":"Crear Plantilla"})]}),g&&(0,Ka.jsxs)("div",{className:"processing",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Procesando archivo Word..."})]}),(0,Ka.jsx)(pr,{isOpen:N,onClose:k,detectedVariables:h,thirdPartyTypeCode:d,onConfigApplied:k})]})},hr=()=>{const[e,t]=(0,r.useState)("create"),[n,a]=(0,r.useState)([]),[l,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[y,x]=(0,r.useState)({}),[b,j]=(0,r.useState)([]),[N,w]=(0,r.useState)(""),[C,_]=(0,r.useState)(!1),[S,k]=(0,r.useState)(!1),[E,T]=(0,r.useState)(!1),[P,R]=(0,r.useState)([]),[L,A]=(0,r.useState)(!1),[z,O]=(0,r.useState)([]),[D,F]=(0,r.useState)([]),[I,q]=(0,r.useState)(""),[M,U]=(0,r.useState)([]),[B,H]=(0,r.useState)({}),[V,W]=(0,r.useState)(!1),[$,G]=(0,r.useState)({code:"",label:"",description:"",icon:"\ud83d\udcc4"}),[Q,K]=(0,r.useState)({identification_type:"NIT",identification_number:"",legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",email:"",phone:"",address:"",city:"",country:"Colombia"}),[J,Y]=(0,r.useState)(""),[X,Z]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),[ne,ae]=(0,r.useState)([]),[re,le]=(0,r.useState)(""),[oe,ie]=(0,r.useState)(""),[se,ce]=(0,r.useState)(!1),[de,ue]=(0,r.useState)(""),[pe,me]=(0,r.useState)([]),[he,fe]=(0,r.useState)(""),[ge,ve]=(0,r.useState)(""),[ye,xe]=(0,r.useState)(!1),[be,je]=(0,r.useState)(!1),[Ne,we]=(0,r.useState)(null),[Ce,_e]=(0,r.useState)({name:"",description:"",category:""}),Se=async()=>{s(!0);try{const e=await Qa.get("/templates");a(e.data)}catch(e){console.error("Error fetching templates:",e)}finally{s(!1)}},ke=async()=>{d(!0);try{const e=await Qa.get("/contracts");o(e.data)}catch(e){console.error("Error fetching contracts:",e)}finally{d(!1)}},Ee=async e=>{try{const t=await Qa.get("/templates/".concat(e._id,"/download-word"),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","".concat(e.name,".docx")),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(n)}catch(t){console.error("Error downloading template Word:",t),alert("Error al descargar el archivo Word de la plantilla")}},Te=async(e,t)=>{const n=prompt("Nombre para la copia de la plantilla:","Copia de ".concat(t));if(n&&""!==n.trim()){s(!0);try{const t=await Qa.post("/templates/".concat(e,"/copy"),{newName:n.trim()});alert("Plantilla copiada exitosamente: ".concat(t.data.template.name)),Se()}catch(l){var a,r;console.error("Error copying template:",l),alert("Error al copiar la plantilla: "+((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error desconocido"))}finally{s(!1)}}},Pe=()=>{je(!1),we(null),_e({name:"",description:"",category:""})},Re=async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n&&p)if(n.name.toLowerCase().endsWith(".docx"))if(window.confirm('\xbfEst\xe1s seguro de que quieres reemplazar el archivo Word de la plantilla "'.concat(p.name,'"? Las variables existentes se mantendr\xe1n.'))){s(!0);try{const e=new FormData;e.append("wordFile",n),await Qa.post("/templates/".concat(p._id,"/replace-word"),e,{headers:{"Content-Type":"multipart/form-data"}}),alert("Archivo Word reemplazado exitosamente"),Se()}catch(l){var a,r;console.error("Error replacing Word file:",l),alert("Error al reemplazar el archivo Word: "+((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error desconocido"))}finally{s(!1),m(null)}}else m(null);else alert("Por favor selecciona un archivo Word (.docx)")},Le=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),Ae=e=>Le(e).toLowerCase().replace(/[_\s]+/g,"").replace(/de/g,"").replace(/del/g,"").replace(/la/g,"").replace(/el/g,""),ze=e=>{const t=new Set,n=[];return e.forEach(e=>{const a=Ae(e.field_name);t.has(a)||(t.add(a),n.push(e))}),n},Oe=async()=>{try{const e="?t=".concat(Date.now()),t=await Qa.get("/third-party-types".concat(e));console.log("\ud83d\udccb Tipos de terceros cargados:",t.data.length),console.log("\ud83d\udccb [DEBUG] C\xf3digos:",t.data.map(e=>e.code).join(", ")),console.log("\u2705 [DEBUG] Tiene Propiedad Horizontal (ph):",t.data.some(e=>"ph"===e.code)),console.log("\u2705 [DEBUG] Tiene Contador PH (contador_ph):",t.data.some(e=>"contador_ph"===e.code)),F(t.data)}catch(e){console.error("Error cargando tipos de terceros:",e)}},De=async e=>{if("__CREATE_NEW__"===e)return W(!0),q(""),void U([]);if(q(e),H({}),e)try{var t;const n=await Qa.get("/third-party-types/".concat(e));console.log("\ud83d\udcdd Campos del tipo de tercero:",n.data.fields),U(n.data.fields||[]);const a={};null===(t=n.data.fields)||void 0===t||t.forEach(e=>{a[e.name]=""}),H(a)}catch(n){console.error("Error cargando campos del tipo de tercero:",n),alert("Error al cargar la configuraci\xf3n del tipo de tercero")}else U([])},Fe=e=>{var t;if(w(e),!e||!g)return;const n=b.find(t=>t._id===e);if(!n)return;const a={razon_social:n.legal_name,razonsocial:n.legal_name,legal_name:n.legal_name,nombre_de_la_propiedad_horizontal:n.legal_name,"nombre de la propiedad horizontal":n.legal_name,nombredelapropiedadhorizontal:n.legal_name,propiedad_horizontal:n.legal_name,propiedadhorizontal:n.legal_name,razon_social_abreviada:n.legal_name_short,"razon social abreviada":n.legal_name_short,razonsocialabreviada:n.legal_name_short,legal_name_short:n.legal_name_short,nit:n.identification_number,numero_del_nit:n.identification_number,"numero del nit":n.identification_number,numerodelnit:n.identification_number,numero_nit:n.identification_number,numeronit:n.identification_number,identification_number:n.identification_number,nombre_representante_legal:n.legal_representative_name,"nombre representante legal":n.legal_representative_name,nombrerepresentantelegal:n.legal_representative_name,nombrederepresentantelegal:n.legal_representative_name,nombre_del_representante_legal:n.legal_representative_name,representante_legal:n.legal_representative_name,representantelegal:n.legal_representative_name,legal_representative_name:n.legal_representative_name,cedula:n.legal_representative_id_number,cedula_representante:n.legal_representative_id_number,legal_representative_id_number:n.legal_representative_id_number,correo_electronico:n.email||"","correo electronico":n.email||"",correoelectronico:n.email||"",correo:n.email||"",email:n.email||"","e-mail":n.email||"",e_mail:n.email||"",telefono:n.phone||"",phone:n.phone||"",direccion:n.address||"",address:n.address||"",ciudad:n.city||"",city:n.city||"",ciudad_de_domicilio:n.city||"",fecha:(new Date).toLocaleDateString("es-ES")},r=n;r.custom_fields&&"object"===typeof r.custom_fields&&(console.log("\ud83d\udd0d Campos personalizados del tercero:",r.custom_fields),Object.entries(r.custom_fields).forEach(e=>{let[t,n]=e;const r=Le(t);[t,r,t.toLowerCase(),r.toLowerCase(),t.replace(/_/g," "),r.replace(/_/g," "),t.replace(/ /g,"_"),r.replace(/ /g,"_"),Ae(t),t.replace(/-/g,"_"),r.replace(/-/g,"_"),t.replace(/_/g,""),r.replace(/_/g,""),t.replace(/ /g,""),r.replace(/ /g,""),t.toLowerCase().replace(/[^a-z0-9]/g,""),r.toLowerCase().replace(/[^a-z0-9]/g,"")].forEach(e=>{a[e]=n}),console.log('   \ud83d\udccc Custom field mapeado: "'.concat(t,'" -> "').concat(n,'" (incluye sin acentos: "').concat(r,'")'))})),console.log("\ud83d\udccb Mapping completo:",a);const l={};null===(t=g.fields)||void 0===t||t.forEach(e=>{const t=e.field_name,n=Le(t),r=[t,n,t.toLowerCase(),n.toLowerCase(),t.replace(/_/g," "),n.replace(/_/g," "),t.replace(/ /g,"_"),n.replace(/ /g,"_"),Ae(t),t.replace(/-/g,"_"),n.replace(/-/g,"_"),t.replace(/_/g,""),n.replace(/_/g,""),t.replace(/ /g,""),n.replace(/ /g,""),t.toLowerCase().replace(/[^a-z0-9]/g,""),n.toLowerCase().replace(/[^a-z0-9]/g,"")];let o=null;for(const l of r)if(void 0!==a[l]&&null!==a[l]&&""!==a[l]){o=a[l],console.log('\u2705 Campo "'.concat(t,'" coincide con variaci\xf3n "').concat(l,'" -> "').concat(o,'"'));break}if(!o){const e=Ae(t),n=Object.keys(a).find(t=>Ae(t)===e);n&&a[n]&&(o=a[n],console.log('\u2705 Campo "'.concat(t,'" llenado con: "').concat(o,'"')))}o?l[t]=o:(l[t]="",console.log('\u26a0\ufe0f  Campo "'.concat(t,'" no encontrado en mapping')))}),console.log("\ud83d\udcdd Datos del contrato actualizados:",l),x(l)},Ie=()=>{A(!1)},qe=(()=>{let e=[...l];if(J.trim()){const t=J.toLowerCase();e=e.filter(e=>{var n;return null===(n=e.contract_number)||void 0===n?void 0:n.toLowerCase().includes(t)})}if(X.trim()){const t=X.toLowerCase();e=e.filter(e=>{var n,a;return null===(n=e.template)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.toLowerCase().includes(t)})}if(ee.trim()){const t=ee.toLowerCase();e=e.filter(e=>{var n,a,r,l,o;return(null===(n=e.content)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(l=e.company_name)||void 0===l?void 0:l.toLowerCase().includes(t))||(null===(o=e.contract_number)||void 0===o?void 0:o.toLowerCase().includes(t))})}if(ne.length>0&&(e=e.filter(e=>ne.includes(e.status))),re){const t=new Date(re);e=e.filter(e=>new Date(e.createdAt)>=t)}if(oe){const t=new Date(oe);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.createdAt)<=t)}return e})(),Me=[J.trim(),X.trim(),ee.trim(),ne.length>0,re,oe].filter(Boolean).length,Ue=()=>{ue(""),me([]),fe(""),ve("")},Be=(()=>{let e=[...n];if(de.trim()){const t=de.toLowerCase();e=e.filter(e=>{var n,a;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(t))})}if(pe.length>0&&(e=e.filter(e=>pe.includes(e.category))),he){const t=new Date(he);e=e.filter(e=>new Date(e.createdAt)>=t)}if(ge){const t=new Date(ge);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.createdAt)<=t)}return e})(),He=[de.trim(),pe.length>0,he,ge].filter(Boolean).length;return(0,r.useEffect)(()=>{"templates"===e&&0===n.length?Se():"contracts"===e&&0===l.length&&ke()},[e]),(0,Ka.jsxs)("div",{className:"unified-templates",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"\ud83d\ude80 Gesti\xf3n de Contratos"}),(0,Ka.jsx)("p",{children:"Crea plantillas, genera contratos y administra todo desde un solo lugar"})]}),(0,Ka.jsxs)("div",{className:"tabs-navigation",children:[(0,Ka.jsx)("button",{className:"tab-button ".concat("create"===e?"active":""),onClick:()=>t("create"),children:"\u2728 Crear Contrato"}),(0,Ka.jsx)("button",{className:"tab-button ".concat("templates"===e?"active":""),onClick:()=>t("templates"),children:"\ud83d\udccb Plantillas"}),(0,Ka.jsx)("button",{className:"tab-button ".concat("contracts"===e?"active":""),onClick:()=>t("contracts"),children:"\ud83d\udcc4 Contratos Generados"})]}),(0,Ka.jsxs)("div",{className:"tab-content",children:["create"===e&&(0,Ka.jsx)("div",{className:"create-tab",children:(0,Ka.jsx)(mr,{onTemplateCreated:e=>{console.log("Plantilla creada:",e),Se()},onContractGenerated:e=>{console.log("Contrato generado:",e),Se(),ke()}})}),"templates"===e&&(0,Ka.jsxs)("div",{className:"templates-tab",children:[(0,Ka.jsxs)("div",{className:"tab-header",children:[(0,Ka.jsx)("h2",{children:"Plantillas Creadas"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>t("create"),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:"\u2728 Nueva Plantilla"}),(0,Ka.jsx)("button",{className:"btn-refresh",onClick:Se,disabled:i,children:"\ud83d\udd04 Actualizar"})]})]}),(0,Ka.jsxs)("div",{className:"filters-container",children:[(0,Ka.jsxs)("div",{className:"filters-header",children:[(0,Ka.jsxs)("button",{className:"btn-toggle-filters",onClick:()=>xe(!ye),children:[ye?"\u25bc":"\u25b6"," Filtros",He>0&&(0,Ka.jsx)("span",{className:"filter-badge",children:He})]}),He>0&&(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:Ue,children:"Limpiar Filtros"}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",Be.length," de ",n.length," plantillas"]})]}),ye&&(0,Ka.jsxs)("div",{className:"filters-content",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por nombre o descripci\xf3n...",value:de,onChange:e=>ue(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Categor\xeda:"}),(0,Ka.jsx)("div",{className:"status-checkboxes",children:Array.from(new Set(n.map(e=>e.category||"General"))).map(e=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:pe.includes(e),onChange:()=>(e=>{me(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e)}),(0,Ka.jsx)("span",{className:"status-label status-".concat(e.toLowerCase().replace(/\s+/g,"-")),children:e})]},e))})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha de creaci\xf3n:"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Ka.jsx)("input",{type:"date",value:he,onChange:e=>fe(e.target.value),className:"filter-input",placeholder:"Desde"}),(0,Ka.jsx)("span",{children:"hasta"}),(0,Ka.jsx)("input",{type:"date",value:ge,onChange:e=>ve(e.target.value),className:"filter-input",placeholder:"Hasta"})]})]})]})]}),i?(0,Ka.jsx)("div",{className:"loading",children:"Cargando plantillas..."}):0===n.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay plantillas"}),(0,Ka.jsx)("p",{children:'Ve al tab "Crear Contrato" para crear tu primera plantilla'})]}):0===Be.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No se encontraron plantillas"}),(0,Ka.jsx)("p",{children:"No hay plantillas que coincidan con los filtros aplicados"}),(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:Ue,children:"Limpiar Filtros"})]}):(0,Ka.jsx)("div",{className:"templates-view",children:(0,Ka.jsx)("div",{className:"templates-table-container",children:(0,Ka.jsxs)("table",{className:"templates-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"Nombre"}),(0,Ka.jsx)("th",{className:"hide-mobile",children:"Descripci\xf3n"}),(0,Ka.jsx)("th",{children:"Categor\xeda"}),(0,Ka.jsx)("th",{className:"hide-tablet",children:"Variables"}),(0,Ka.jsx)("th",{className:"hide-tablet",children:"Fecha"}),(0,Ka.jsx)("th",{className:"hide-mobile-tablet",children:"Hora"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:Be.map(e=>{var t,n;const a=new Date(e.createdAt);return(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("td",{className:"template-name",children:(0,Ka.jsxs)("div",{className:"name-wrapper",children:[(0,Ka.jsx)("span",{className:"name-text",children:e.name}),(0,Ka.jsxs)("span",{className:"mobile-meta",children:[(0,Ka.jsxs)("span",{className:"meta-item",children:[(null===(t=e.fields)||void 0===t?void 0:t.length)||0," vars"]}),(0,Ka.jsx)("span",{className:"meta-item",children:a.toLocaleDateString("es-ES")})]})]})}),(0,Ka.jsx)("td",{className:"template-description hide-mobile",children:e.description||"Sin descripci\xf3n"}),(0,Ka.jsx)("td",{children:(0,Ka.jsx)("span",{className:"item-badge",children:e.category||"General"})}),(0,Ka.jsx)("td",{className:"template-variables hide-tablet",children:(null===(n=e.fields)||void 0===n?void 0:n.length)||0}),(0,Ka.jsx)("td",{className:"template-date hide-tablet",children:a.toLocaleDateString("es-ES")}),(0,Ka.jsx)("td",{className:"template-time hide-mobile-tablet",children:a.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}),(0,Ka.jsx)("td",{className:"template-actions",children:(0,Ka.jsxs)("div",{className:"actions-buttons",children:[(0,Ka.jsx)("button",{className:"btn-action btn-generate",onClick:()=>(async e=>{var t;v(e),f(!0);const n={};null===(t=e.fields)||void 0===t||t.forEach(e=>{n[e.field_name]=""}),x(n);try{const e=await Qa.get("/suppliers");j(e.data.suppliers||[]),await Oe()}catch(a){console.error("Error fetching suppliers:",a)}})(e),title:"Generar Contrato",children:"\ud83d\ude80"}),(0,Ka.jsx)("button",{className:"btn-action btn-edit",onClick:()=>(e=>{we(e),_e({name:e.name,description:e.description||"",category:e.category||""}),je(!0)})(e),title:"Editar",children:"\u270f\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-action btn-copy hide-mobile",onClick:()=>Te(e._id,e.name),title:"Copiar",children:"\ud83d\udccb"}),(0,Ka.jsx)("button",{className:"btn-action btn-replace hide-mobile",onClick:()=>{var t;m(e),null===(t=document.getElementById("replace-word-".concat(e._id)))||void 0===t||t.click()},title:"Reemplazar",children:"\ud83d\udd04"}),(0,Ka.jsx)("input",{id:"replace-word-".concat(e._id),type:"file",accept:".docx",style:{display:"none"},onChange:Re}),(0,Ka.jsx)("button",{className:"btn-action btn-download hide-mobile",onClick:()=>Ee(e),title:"Descargar",children:"\ud83d\udce5"}),(0,Ka.jsx)("button",{className:"btn-action btn-delete",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta plantilla?"))try{await Qa.delete("/templates/".concat(e)),Se(),alert("Plantilla eliminada exitosamente")}catch(t){console.error("Error deleting template:",t),alert("Error al eliminar la plantilla")}})(e._id),title:"Eliminar",children:"\ud83d\uddd1\ufe0f"}),(0,Ka.jsxs)("div",{className:"mobile-menu-wrapper show-mobile-only",children:[(0,Ka.jsx)("button",{className:"btn-action btn-menu",onClick:e=>{e.stopPropagation();const t=e.currentTarget.nextElementSibling;null===t||void 0===t||t.classList.toggle("show")},title:"M\xe1s acciones",children:"\u22ee"}),(0,Ka.jsxs)("div",{className:"mobile-actions-menu",children:[(0,Ka.jsx)("button",{onClick:()=>Te(e._id,e.name),children:"\ud83d\udccb Copiar"}),(0,Ka.jsx)("button",{onClick:()=>{var t;m(e),null===(t=document.getElementById("replace-word-".concat(e._id)))||void 0===t||t.click()},children:"\ud83d\udd04 Reemplazar"}),(0,Ka.jsx)("button",{onClick:()=>Ee(e),children:"\ud83d\udce5 Descargar"})]})]})]})})]},e._id)})})]})})})]}),"contracts"===e&&(0,Ka.jsxs)("div",{className:"contracts-tab",children:[(0,Ka.jsxs)("div",{className:"tab-header",children:[(0,Ka.jsx)("h2",{children:"Contratos Generados"}),(0,Ka.jsx)("button",{className:"btn-refresh",onClick:ke,disabled:c,children:"\ud83d\udd04 Actualizar"})]}),(0,Ka.jsxs)("div",{className:"filters-container",children:[(0,Ka.jsxs)("div",{className:"filters-header",children:[(0,Ka.jsxs)("button",{className:"btn-toggle-filters",onClick:()=>ce(!se),children:[se?"\u25bc":"\u25b6"," Filtros",Me>0&&(0,Ka.jsx)("span",{className:"filter-badge",children:Me})]}),Me>0&&(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:()=>{Y(""),Z(""),te(""),ae([]),le(""),ie("")},children:"Limpiar Filtros"}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",qe.length," de ",l.length," contratos"]})]}),se&&(0,Ka.jsxs)("div",{className:"filters-content",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por n\xfamero de contrato...",value:J,onChange:e=>Y(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Plantilla:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre de plantilla...",value:X,onChange:e=>Z(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Tercero:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre o identificaci\xf3n del tercero...",value:ee,onChange:e=>te(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsx)("div",{className:"status-checkboxes",children:["borrador","revision","aprobado","firmado","cancelado"].map(e=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:ne.includes(e),onChange:()=>(e=>{ae(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e)}),(0,Ka.jsx)("span",{className:"status-label ".concat(e),children:e})]},e))})]}),(0,Ka.jsxs)("div",{className:"filter-group-row",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha desde:"}),(0,Ka.jsx)("input",{type:"date",value:re,onChange:e=>le(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha hasta:"}),(0,Ka.jsx)("input",{type:"date",value:oe,onChange:e=>ie(e.target.value),className:"filter-input"})]})]})]})]}),c?(0,Ka.jsx)("div",{className:"loading",children:"Cargando contratos..."}):0===l.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay contratos generados"}),(0,Ka.jsx)("p",{children:'Ve al tab "Crear Contrato" para generar tu primer contrato'})]}):0===qe.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No se encontraron contratos"}),(0,Ka.jsx)("p",{children:"Intenta ajustar los filtros para ver m\xe1s resultados"})]}):(0,Ka.jsx)("div",{className:"items-list",children:qe.map(e=>{var t,n;return(0,Ka.jsxs)("div",{className:"item-card",children:[(0,Ka.jsxs)("div",{className:"item-header",children:[(0,Ka.jsx)("h3",{children:e.contract_number}),(0,Ka.jsx)("span",{className:"item-badge status-".concat(e.status),children:e.status})]}),(0,Ka.jsxs)("div",{className:"item-meta",children:[(0,Ka.jsxs)("span",{children:["\ud83d\udccb ",(null===(t=e.template)||void 0===t?void 0:t.name)||"Sin plantilla"]}),(0,Ka.jsxs)("span",{children:["\ud83d\udc64 ",(null===(n=e.generated_by)||void 0===n?void 0:n.name)||"Usuario"]}),(0,Ka.jsxs)("span",{children:["\ud83d\udcc5 ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,Ka.jsx)("div",{className:"item-actions",children:e.file_path&&(0,Ka.jsx)("button",{className:"btn-download",onClick:()=>(async(e,t)=>{try{const n=await Qa.get("/documents/download/word/".concat(e),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(t,".docx")),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(a)}catch(n){console.error("Error downloading contract:",n),alert("Error al descargar el contrato")}})(e._id,e.contract_number),children:"\ud83d\udce5 Descargar Word"})})]},e._id)})})]})]}),h&&g&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>{f(!1),T(!1),R([]),A(!1),O([])},children:(0,Ka.jsxs)("div",{className:"modal-content-generate",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header-generate",children:[(0,Ka.jsx)("h2",{children:"\ud83d\ude80 Generar Contrato"}),(0,Ka.jsxs)("p",{children:["Plantilla: ",(0,Ka.jsx)("strong",{children:g.name})]}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>{f(!1),T(!1),R([]),A(!1),O([])},children:"\u2715"})]}),(0,Ka.jsxs)("div",{className:"modal-body-generate",children:[(0,Ka.jsxs)("div",{className:"supplier-selector",children:[(0,Ka.jsxs)("h3",{children:["Seleccionar Tercero ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("p",{children:"Selecciona el tercero con el cual se generar\xe1 el contrato"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[(0,Ka.jsx)("div",{style:{flex:1},children:(0,Ka.jsxs)("select",{value:N,onChange:e=>Fe(e.target.value),className:"form-input",required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccionar tercero --"}),b.filter(e=>!1!==e.active).map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.legal_name," - ",e.identification_number]},e._id))]})}),(0,Ka.jsx)("button",{type:"button",className:"btn-create-supplier",onClick:async()=>{k(!0),await Oe()},style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"600"},children:"+ Crear Tercero"})]}),(0,Ka.jsx)("button",{type:"button",onClick:async()=>{if(g){T(!0);try{var e,t;const n=(null===(e=g.fields)||void 0===e?void 0:e.map(e=>({field_name:e.field_name,original_marker:e.marker||e.field_name})))||[],a=await Qa.post("/third-party-types/suggest-from-template",{fields:n,third_party_type:g.category||"otro"});R(a.data.suggested||[]);const r=(null===(t=g.fields)||void 0===t?void 0:t.map(e=>({marker:e.marker||e.field_name,field_name:e.field_name,field_label:e.field_label||e.field_name,field_type:e.field_type||"text"})))||[];O(r)}catch(n){console.error("Error al obtener sugerencias:",n),alert("Error al analizar los campos de la plantilla")}}},style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",width:"fit-content"},children:"\ud83d\udca1 Ver campos sugeridos para esta plantilla"}),E&&P.length>0&&(0,Ka.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#E3F2FD",border:"2px solid #2196F3",borderRadius:"6px"},children:[(0,Ka.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#1976D2"},children:"\ud83d\udccb Campos necesarios para el tercero:"}),(0,Ka.jsx)("p",{style:{fontSize:"13px",color:"#555",marginBottom:"10px"},children:"Bas\xe1ndonos en las variables de esta plantilla, el tercero deber\xeda tener los siguientes datos:"}),(0,Ka.jsx)("ul",{style:{margin:"0",paddingLeft:"20px",fontSize:"14px"},children:P.filter(e=>!e.excluded).slice(0,10).map((e,t)=>(0,Ka.jsxs)("li",{style:{marginBottom:"5px"},children:[(0,Ka.jsx)("strong",{children:e.label}),e.required&&(0,Ka.jsx)("span",{style:{color:"#D32F2F",marginLeft:"5px"},children:"*"}),(0,Ka.jsx)("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#666",backgroundColor:"#fff",padding:"2px 6px",borderRadius:"3px"},children:e.field_type})]},t))}),P.filter(e=>!e.excluded).length>10&&(0,Ka.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",marginBottom:"0"},children:["... y ",P.filter(e=>!e.excluded).length-10," campos m\xe1s"]}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,Ka.jsx)("button",{onClick:()=>{A(!0)},style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"\ud83d\udd27 Configurar Tipo de Tercero"}),(0,Ka.jsx)("button",{onClick:()=>T(!1),style:{padding:"5px 12px",backgroundColor:"#fff",color:"#2196F3",border:"1px solid #2196F3",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:"Ocultar sugerencias"})]})]})]}),(0,Ka.jsxs)("div",{className:"contract-fields-modal",children:[(0,Ka.jsx)("h3",{children:"Datos del Contrato"}),ze(g.fields||[]).map((e,t)=>(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{children:[e.field_label||e.field_name,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:y[e.field_name]||"",onChange:t=>((e,t)=>{var n;const a=Ae(e),r=(null===g||void 0===g||null===(n=g.fields)||void 0===n?void 0:n.filter(e=>Ae(e.field_name)===a).map(e=>e.field_name))||[],l={};r.forEach(e=>{l[e]=t}),x(e=>u(u({},e),l))})(e.field_name,t.target.value),placeholder:"Ingresa ".concat((e.field_label||e.field_name).toLowerCase()),className:"form-input",required:e.required})]},t))]})]}),(0,Ka.jsxs)("div",{className:"modal-footer-generate",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>{f(!1),T(!1),R([]),A(!1),O([])},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-generate-final",onClick:async()=>{if(!g)return;if(!N)return void alert("Por favor selecciona un tercero para generar el contrato");const e=ze(g.fields||[]).filter(e=>e.required).filter(e=>{var t;return!(null!==(t=y[e.field_name])&&void 0!==t&&t.trim())});if(e.length>0)alert("Por favor completa los siguientes campos requeridos: ".concat(e.map(e=>e.field_label||e.field_name).join(", ")));else{_(!0);try{const e=await Qa.post("/templates/".concat(g._id,"/generate-contract"),{contractData:y});alert("\xa1Contrato generado exitosamente!\n\nN\xfamero: ".concat(e.data.contract.contract_number)),f(!1),v(null),x({}),w(""),T(!1),R([]),A(!1),O([]),ke()}catch(a){var t,n;console.error("Error generating contract:",a),alert("Error al generar el contrato: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error desconocido"))}finally{_(!1)}}},disabled:C,children:C?"Generando...":"\ud83d\ude80 Generar Contrato"})]})]})}),S&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>k(!1),children:(0,Ka.jsxs)("div",{className:"modal-content-generate",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},children:[(0,Ka.jsxs)("div",{className:"modal-header-generate",children:[(0,Ka.jsx)("h2",{children:"Crear Nuevo Tercero"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>k(!1),children:"\u2715"})]}),(0,Ka.jsx)("div",{className:"modal-body-generate",style:{maxHeight:"60vh",overflowY:"auto"},children:(0,Ka.jsxs)("div",{className:"contract-fields-modal",children:[(0,Ka.jsxs)("div",{className:"field-group",style:{backgroundColor:"#f0f9ff",padding:"15px",borderRadius:"8px",border:"2px solid #3b82f6",marginBottom:"20px"},children:[(0,Ka.jsxs)("label",{style:{fontSize:"16px",fontWeight:"600",color:"#1e40af"},children:["1. Tipo de Tercero ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("p",{style:{fontSize:"13px",color:"#64748b",marginBottom:"10px"},children:"Selecciona el tipo de tercero para cargar los campos correspondientes"}),(0,Ka.jsxs)("select",{value:I,onChange:e=>De(e.target.value),className:"form-input",style:{fontSize:"14px",padding:"12px"},children:[(0,Ka.jsx)("option",{value:"",children:"-- Selecciona un tipo --"}),D.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id)),(0,Ka.jsx)("option",{value:"__CREATE_NEW__",style:{backgroundColor:"#f0fdf4",color:"#16a34a",fontWeight:"600"},children:"+ Crear Nuevo Tipo de Tercero"})]})]}),I&&"__CREATE_NEW__"!==I&&0===M.length&&(0,Ka.jsxs)("div",{style:{backgroundColor:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"8px",padding:"20px",marginBottom:"20px",textAlign:"center"},children:[(0,Ka.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#92400e",marginBottom:"10px"},children:"\u26a0\ufe0f Este tipo de tercero no tiene campos configurados"}),(0,Ka.jsx)("p",{style:{fontSize:"14px",color:"#78350f",marginBottom:"15px"},children:"Para poder crear terceros de este tipo, primero debes configurar los campos desde el m\xf3dulo de Gesti\xf3n de Tipos de Terceros o desde una plantilla Word."}),(0,Ka.jsx)("p",{style:{fontSize:"13px",color:"#78350f",fontStyle:"italic"},children:"\ud83d\udca1 Sugerencia: Sube una plantilla Word con variables y el sistema te ayudar\xe1 a configurar los campos autom\xe1ticamente."})]}),I&&M.length>0&&(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h3",{style:{marginBottom:"15px",color:"#1e293b"},children:"2. Informaci\xf3n del Tercero"}),M.map((e,t)=>(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{children:[e.label,e.required&&(0,Ka.jsx)("span",{className:"required",children:" *"})]}),"text"===e.field_type&&(0,Ka.jsx)("input",{type:"text",value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"email"===e.field_type&&(0,Ka.jsx)("input",{type:"email",value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"phone"===e.field_type&&(0,Ka.jsx)("input",{type:"tel",value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"number"===e.field_type&&(0,Ka.jsx)("input",{type:"number",value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"date"===e.field_type&&(0,Ka.jsx)("input",{type:"date",value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),className:"form-input",required:e.required}),"textarea"===e.field_type&&(0,Ka.jsx)("textarea",{value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",rows:3,required:e.required}),"select"===e.field_type&&e.options&&(0,Ka.jsxs)("select",{value:B[e.name]||"",onChange:t=>H(u(u({},B),{},{[e.name]:t.target.value})),className:"form-input",required:e.required,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccione --"}),e.options.map((e,t)=>(0,Ka.jsx)("option",{value:e,children:e},t))]}),"checkbox"===e.field_type&&(0,Ka.jsx)("div",{style:{marginTop:"5px"},children:(0,Ka.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"normal"},children:[(0,Ka.jsx)("input",{type:"checkbox",checked:B[e.name]||!1,onChange:t=>H(u(u({},B),{},{[e.name]:t.target.checked})),style:{marginRight:"8px",width:"18px",height:"18px"}}),e.label]})})]},e.name||t))]}),!I&&(0,Ka.jsxs)("div",{style:{padding:"30px",textAlign:"center",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"2px dashed #cbd5e1"},children:[(0,Ka.jsx)("div",{style:{fontSize:"48px",marginBottom:"10px"},children:"\ud83d\udccb"}),(0,Ka.jsx)("p",{style:{margin:"0",fontSize:"14px"},children:"Selecciona un tipo de tercero para ver los campos disponibles"})]})]})}),(0,Ka.jsxs)("div",{className:"modal-footer-generate",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>k(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-generate-final",onClick:async()=>{if(!I)return void alert("Por favor selecciona un tipo de tercero");const e=[];if(M.forEach(t=>{if(t.required){const n=B[t.name];n&&("string"!==typeof n||n.trim())||e.push(t.label)}}),e.length>0)alert("Por favor completa los siguientes campos requeridos:\n\n".concat(e.join("\n")));else try{const e=Object.keys(B).some(e=>["numero_del_nit","nit","numero_de_identificacion"].includes(e.toLowerCase().trim())),t={numero_del_nit:"identification_number",nit:"identification_number",numero_de_identificacion:"identification_number",numero_identificacion:"identification_number",cc:"identification_number",tipo_de_identificacion:"identification_type",tipo_identificacion:"identification_type",nombre_de_la_propiedad_horizontal:"legal_name",nombre_propiedad_horizontal:"legal_name",razon_social:"legal_name",nombre_completo:"legal_name",nombre:"legal_name",nombre_empresa:"legal_name",empresa:"legal_name",razon_social_abreviada:"legal_name_short",nombre_abreviado:"legal_name_short",nombre_corto:"legal_name_short",nombre_del_representante_legal:"legal_representative_name",representante_legal:"legal_representative_name",nombre_representante:"legal_representative_name",representante:"legal_representative_name",cedula_representante:"legal_representative_id_number",cedula_del_representante:"legal_representative_id_number",identificacion_representante:"legal_representative_id_number",tipo_id_representante:"legal_representative_id_type",correo:"email",email:"email",correo_electronico:"email",telefono:"phone",celular:"phone",tel:"phone",direccion:"address",dir:"address",ciudad:"city",ciudad_de_domicilio:"city",municipio:"city",pais:"country",country:"country",licenciatario:"licensee_name",nombre_licenciatario:"licensee_name"};e?(t.cedula="legal_representative_id_number",console.log('\ud83d\udccb Campo "cedula" mapeado a representante legal (se detect\xf3 NIT)')):(t.cedula="identification_number",console.log('\ud83d\udccb Campo "cedula" mapeado a identificaci\xf3n del tercero (no se detect\xf3 NIT)'));const n=["identification_type","identification_number","legal_name","legal_name_short","legal_representative_name","legal_representative_id_type","legal_representative_id_number"],a={},r={};Object.entries(B).forEach(e=>{let[l,o]=e;const i=l.toLowerCase().trim(),s=t[i]||l;n.includes(s)||["email","phone","address","city","country","licensee_name"].includes(s)?a[s]=o:r[l]=o});const l=D.find(e=>e._id===I),o=l&&l.default_identification_types&&l.default_identification_types.length>0?l.default_identification_types[0]:"NIT";console.log("\ud83c\udfe2 Usando tipo de identificaci\xf3n para",(null===l||void 0===l?void 0:l.label)||"tipo desconocido",":",o);const i={identification_type:a.identification_type||o,identification_number:a.identification_number||"",legal_name:a.legal_name||"",legal_name_short:a.legal_name_short||a.legal_name||"",legal_representative_name:a.legal_representative_name||"",legal_representative_id_type:a.legal_representative_id_type||"CC",legal_representative_id_number:a.legal_representative_id_number||"",email:a.email||"",phone:a.phone||"",address:a.address||"",city:a.city||"",country:a.country||"Colombia",licensee_name:a.licensee_name||"",third_party_type_id:I,custom_fields:r};console.log("\ud83d\udce4 Creando tercero con datos mapeados:",i),console.log("\ud83d\udd04 Mapeo aplicado:",{camposDinamicos:Object.keys(B),camposMapeados:Object.keys(a),camposPersonalizados:Object.keys(r)});const s=await Qa.post("/suppliers",i);alert("Tercero creado exitosamente");const c=await Qa.get("/suppliers");j(c.data.suppliers||[]);const d=s.data.supplier._id;w(d),Fe(d),k(!1),q(""),U([]),H({})}catch(o){var t,n,a;if(console.error("Error creating supplier:",o),console.error("Error details:",null===(t=o.response)||void 0===t?void 0:t.data),null!==(n=o.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errors&&Array.isArray(o.response.data.errors)){const e=o.response.data.errors.map(e=>"\u2022 ".concat(e.msg," (campo: ").concat(e.path,")")).join("\n");alert("Errores de validaci\xf3n:\n\n"+e)}else{var r,l;alert("Error al crear el tercero: "+((null===(r=o.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.error)||o.message||"Error desconocido"))}}},disabled:!I||0===M.length,style:{backgroundColor:I&&M.length>0?"#4CAF50":"#94a3b8",cursor:I&&M.length>0?"pointer":"not-allowed"},children:"Guardar Tercero"})]})]})}),V&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>W(!1),children:(0,Ka.jsxs)("div",{className:"modal-content-generate",onClick:e=>e.stopPropagation(),style:{maxWidth:"700px"},children:[(0,Ka.jsxs)("div",{className:"modal-header-generate",children:[(0,Ka.jsx)("h2",{children:"Crear Nuevo Tipo de Tercero"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>W(!1),children:"\u2715"})]}),(0,Ka.jsx)("div",{className:"modal-body-generate",style:{maxHeight:"70vh",overflowY:"auto"},children:(0,Ka.jsxs)("div",{className:"contract-fields-modal",children:[(0,Ka.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[(0,Ka.jsx)("h3",{style:{margin:"0 0 15px 0",color:"#334155"},children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{children:["C\xf3digo ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:$.code,onChange:e=>G(u(u({},$),{},{code:e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})),placeholder:"ej: proveedor",className:"form-input",style:{fontFamily:"monospace"}}),(0,Ka.jsx)("small",{style:{fontSize:"12px",color:"#64748b",display:"block",marginTop:"4px"},children:"Solo letras min\xfasculas, n\xfameros y gui\xf3n bajo"})]}),(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsx)("label",{children:"\xcdcono"}),(0,Ka.jsx)("input",{type:"text",value:$.icon,onChange:e=>G(u(u({},$),{},{icon:e.target.value})),placeholder:"\ud83d\udcc4",className:"form-input",style:{fontSize:"24px",textAlign:"center"},maxLength:2}),(0,Ka.jsx)("small",{style:{fontSize:"12px",color:"#64748b",display:"block",marginTop:"4px"},children:"Emoji que representa el tipo"})]})]}),(0,Ka.jsxs)("div",{className:"field-group",style:{marginTop:"20px"},children:[(0,Ka.jsxs)("label",{children:["Nombre ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:$.label,onChange:e=>{G(u(u({},$),{},{label:e.target.value,code:$.code||e.target.value.toLowerCase().replace(/[^a-z0-9]/g,"_")}))},placeholder:"Proveedor",className:"form-input"}),(0,Ka.jsx)("small",{style:{fontSize:"12px",color:"#64748b",display:"block",marginTop:"4px"},children:"Nombre descriptivo del tipo de tercero"})]}),(0,Ka.jsxs)("div",{className:"field-group",style:{marginTop:"20px"},children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:$.description,onChange:e=>G(u(u({},$),{},{description:e.target.value})),placeholder:"Descripci\xf3n del tipo de tercero",className:"form-input",rows:3,style:{resize:"vertical"}})]})]}),(0,Ka.jsxs)("div",{style:{backgroundColor:"#fffbeb",border:"1px solid #fbbf24",borderRadius:"8px",padding:"12px",display:"flex",gap:"10px",alignItems:"flex-start"},children:[(0,Ka.jsx)("span",{style:{fontSize:"20px"},children:"\u2139\ufe0f"}),(0,Ka.jsxs)("div",{style:{fontSize:"13px",color:"#92400e"},children:[(0,Ka.jsx)("strong",{children:"Nota:"})," El tipo se crear\xe1 sin campos inicialmente. Despu\xe9s podr\xe1s configurar los campos desde el modal de configuraci\xf3n de tipos."]})]})]})}),(0,Ka.jsxs)("div",{className:"modal-footer-generate",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>{W(!1),G({code:"",label:"",description:"",icon:"\ud83d\udcc4"})},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-generate-final",onClick:async()=>{if($.code.trim()&&$.label.trim())try{console.log("\ud83c\udd95 Creando nuevo tipo de tercero...");const e=(await Qa.post("/third-party-types",{code:$.code.toLowerCase().trim(),label:$.label.trim(),description:$.description.trim()||"Tipo de tercero: ".concat($.label),icon:$.icon||"\ud83d\udcc4",fields:[]})).data.type;console.log("\u2705 Nuevo tipo creado:",e),await Oe(),q(e._id),await De(e._id),W(!1),G({code:"",label:"",description:"",icon:"\ud83d\udcc4"}),alert("Tipo de tercero creado exitosamente")}catch(n){var e,t;console.error("Error al crear tipo de tercero:",n),alert("Error al crear el tipo de tercero: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error desconocido"))}else alert("El c\xf3digo y el nombre son requeridos")},disabled:!$.code.trim()||!$.label.trim(),style:{backgroundColor:$.code.trim()&&$.label.trim()?"#10b981":"#94a3b8",cursor:$.code.trim()&&$.label.trim()?"pointer":"not-allowed"},children:"Crear Tipo"})]})]})}),L&&g&&(0,Ka.jsx)(pr,{isOpen:L,onClose:Ie,detectedVariables:z,thirdPartyTypeCode:g.category||"otro",onConfigApplied:async e=>{console.log("\ud83c\udfaf Tipo de tercero configurado, abriendo modal de creaci\xf3n con tipo:",e),Ie(),await Oe(),k(!0),await De(e),console.log("\u2705 Modal de creaci\xf3n de tercero abierto con tipo pre-seleccionado")}}),be&&Ne&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:Pe,children:(0,Ka.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h2",{children:"Editar Plantilla"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:Pe,children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla *"}),(0,Ka.jsx)("input",{type:"text",value:Ce.name,onChange:e=>_e(u(u({},Ce),{},{name:e.target.value})),placeholder:"Nombre de la plantilla",className:"form-input"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:Ce.description,onChange:e=>_e(u(u({},Ce),{},{description:e.target.value})),placeholder:"Descripci\xf3n de la plantilla",className:"form-input",rows:3})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Categor\xeda"}),(0,Ka.jsx)("input",{type:"text",value:Ce.category,onChange:e=>_e(u(u({},Ce),{},{category:e.target.value})),placeholder:"Categor\xeda de la plantilla",className:"form-input"})]})]}),(0,Ka.jsxs)("div",{className:"modal-footer",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:Pe,children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(Ne)if(Ce.name.trim())try{await Qa.put("/templates/".concat(Ne._id),{name:Ce.name.trim(),description:Ce.description.trim(),category:Ce.category.trim()}),alert("Plantilla actualizada exitosamente"),Pe(),Se()}catch(n){var e,t;console.error("Error updating template:",n),alert("Error al actualizar la plantilla: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error desconocido"))}else alert("El nombre de la plantilla es requerido")},children:"Guardar Cambios"})]})]})})]})},fr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[y,x]=(0,r.useState)({name:"",tax_id:"",email:"",phone:"",address:""}),[b,j]=(0,r.useState)({name:"",tax_id:"",email:"",phone:"",address:""});(0,r.useEffect)(()=>{N()},[]),(0,r.useEffect)(()=>{if(""===l.trim())a(e);else{const t=e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.tax_id&&e.tax_id.toLowerCase().includes(l.toLowerCase()));a(t)}},[l,e]);const N=async()=>{try{const e=await Qa.get("/companies");t(e.data),a(e.data)}catch(e){console.error("Error fetching companies:",e)}finally{s(!1)}};return i?(0,Ka.jsx)("div",{className:"loading",children:"Cargando empresas..."}):(0,Ka.jsxs)("div",{className:"companies",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Empresas"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>d(!0),children:"Nueva Empresa"})]}),(0,Ka.jsxs)("div",{className:"filter-section",children:[(0,Ka.jsx)("input",{type:"text",className:"search-input",placeholder:"Buscar por nombre o NIT...",value:l,onChange:e=>o(e.target.value)}),(0,Ka.jsxs)("span",{className:"results-count",children:[n.length," ",1===n.length?"empresa":"empresas"]})]}),0===n.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:0===e.length?"No hay empresas":"No se encontraron empresas"}),(0,Ka.jsx)("p",{children:0===e.length?"Agrega tu primera empresa para comenzar":"Intenta con otro t\xe9rmino de b\xfasqueda"})]}):(0,Ka.jsx)("div",{className:"companies-table-container",children:(0,Ka.jsxs)("table",{className:"companies-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"Nombre"}),(0,Ka.jsx)("th",{children:"NIT"}),(0,Ka.jsx)("th",{children:"Email"}),(0,Ka.jsx)("th",{children:"Tel\xe9fono"}),(0,Ka.jsx)("th",{children:"Direcci\xf3n"}),(0,Ka.jsx)("th",{children:"Fecha Registro"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:n.map(e=>(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("td",{className:"company-name",children:e.name}),(0,Ka.jsx)("td",{children:e.tax_id||"N/A"}),(0,Ka.jsx)("td",{children:e.email}),(0,Ka.jsx)("td",{children:e.phone}),(0,Ka.jsx)("td",{className:"company-address",children:e.address}),(0,Ka.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,Ka.jsxs)("td",{className:"actions-cell",children:[(0,Ka.jsx)("button",{className:"btn-icon btn-view",onClick:()=>(e=>{v(e),m(!0)})(e),title:"Ver detalles",children:"\ud83d\udc41\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-icon btn-edit",onClick:()=>(e=>{x({name:e.name,tax_id:e.tax_id||"",email:e.email,phone:e.phone,address:e.address}),v(e),f(!0)})(e),title:"Editar",children:"\u270f\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-icon btn-delete",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar esta empresa?"))try{await Qa.delete("/companies/".concat(e)),await N()}catch(t){console.error("Error deleting company:",t),alert("Error al eliminar la empresa. Puede que tenga contratos o plantillas asociadas.")}})(e._id),title:"Eliminar",children:"\ud83d\uddd1\ufe0f"})]})]},e._id))})]})}),c&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nueva Empresa"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:b.name,onChange:e=>j(u(u({},b),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"NIT:"}),(0,Ka.jsx)("input",{type:"text",value:b.tax_id,onChange:e=>j(u(u({},b),{},{tax_id:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:b.email,onChange:e=>j(u(u({},b),{},{email:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:b.phone,onChange:e=>j(u(u({},b),{},{phone:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:b.address,onChange:e=>j(u(u({},b),{},{address:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/companies",b),await N(),d(!1),j({name:"",tax_id:"",email:"",phone:"",address:""})}catch(e){console.error("Error creating company:",e)}},disabled:!b.name||!b.tax_id||!b.email,children:"Crear Empresa"})]})]})}),p&&g&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Detalles de la Empresa"}),(0,Ka.jsxs)("div",{className:"view-details",children:[(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Nombre:"})," ",g.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"NIT:"})," ",g.tax_id||"N/A"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," ",g.email]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Tel\xe9fono:"})," ",g.phone]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Direcci\xf3n:"})," ",g.address]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Fecha de Registro:"})," ",new Date(g.createdAt).toLocaleDateString()]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>m(!1),children:"Cerrar"})})]})}),h&&g&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Empresa"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:y.name,onChange:e=>x(u(u({},y),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"NIT:"}),(0,Ka.jsx)("input",{type:"text",value:y.tax_id,onChange:e=>x(u(u({},y),{},{tax_id:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:y.email,onChange:e=>x(u(u({},y),{},{email:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:y.phone,onChange:e=>x(u(u({},y),{},{phone:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:y.address,onChange:e=>x(u(u({},y),{},{address:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{f(!1),v(null)},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(g)try{await Qa.put("/companies/".concat(g._id),y),await N(),f(!1),v(null)}catch(e){console.error("Error editing company:",e)}},disabled:!y.name||!y.tax_id||!y.email,children:"Guardar Cambios"})]})]})})]})},gr=()=>{var e;const[t,n]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[o,i]=(0,r.useState)(!0),[s,c]=(0,r.useState)(null),[d,p]=(0,r.useState)(""),[m,h]=(0,r.useState)("requester"),[f,g]=(0,r.useState)({canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1}),[v,y]=(0,r.useState)(""),[x,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[k,E]=(0,r.useState)(null),[T,P]=(0,r.useState)(new Set),[R,L]=(0,r.useState)(""),[A,z]=(0,r.useState)("all"),[O,D]=(0,r.useState)("all"),[F,I]=(0,r.useState)("name"),[q,M]=(0,r.useState)("asc"),[U,B]=(0,r.useState)({email:"",name:"",password:"",role:"requester",companyId:""});(0,r.useEffect)(()=>{H()},[]);const H=async()=>{try{const[e,t]=await Promise.all([Qa.get("/multi-companies/users"),Qa.get("/multi-companies/companies")]);n(e.data),l(t.data)}catch(e){console.error("Error fetching data:",e)}finally{i(!1)}},V=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),W=a.filter(e=>V(e.name).includes(V(v))||V(e.tax_id).includes(V(v))),$=t.filter(e=>{var t;const n=!R||V(e.email).includes(V(R))||V(e.name).includes(V(R)),a="all"===A||e.role===A,r=(null===(t=e.companies)||void 0===t?void 0:t.length)||0;let l=!0;return"none"===O?l=0===r:"one"===O?l=1===r:"multiple"===O&&(l=r>1),n&&a&&l}).sort((e,t)=>{var n,a;let r=0;switch(F){case"name":r=e.name.localeCompare(t.name);break;case"email":r=e.email.localeCompare(t.email);break;case"role":r=e.role.localeCompare(t.role);break;case"companies":r=((null===(n=e.companies)||void 0===n?void 0:n.length)||0)-((null===(a=t.companies)||void 0===a?void 0:a.length)||0);break;default:r=0}return"asc"===q?r:-r});return o?(0,Ka.jsx)("div",{className:"loading",children:"Cargando gesti\xf3n de usuarios..."}):(0,Ka.jsxs)("div",{className:"user-management",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Usuarios y Empresas"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>N(!0),children:"Crear Usuario"})]}),(0,Ka.jsxs)("div",{className:"filters-section",children:[(0,Ka.jsxs)("div",{className:"filters-row",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Email o nombre...",value:R,onChange:e=>L(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:A,onChange:e=>z(e.target.value),className:"filter-select",children:[(0,Ka.jsx)("option",{value:"all",children:"Todos"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"admin",children:"Admin"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Lawyer"}),(0,Ka.jsx)("option",{value:"requester",children:"Requester"})]})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Empresas:"}),(0,Ka.jsxs)("select",{value:O,onChange:e=>D(e.target.value),className:"filter-select",children:[(0,Ka.jsx)("option",{value:"all",children:"Todas"}),(0,Ka.jsx)("option",{value:"none",children:"Sin empresas"}),(0,Ka.jsx)("option",{value:"one",children:"1 empresa"}),(0,Ka.jsx)("option",{value:"multiple",children:"M\xfaltiples"})]})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Ordenar por:"}),(0,Ka.jsxs)("select",{value:F,onChange:e=>I(e.target.value),className:"filter-select",children:[(0,Ka.jsx)("option",{value:"name",children:"Nombre"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"role",children:"Rol"}),(0,Ka.jsx)("option",{value:"companies",children:"N\xb0 Empresas"})]})]}),(0,Ka.jsx)("div",{className:"filter-group",children:(0,Ka.jsx)("button",{onClick:()=>M("asc"===q?"desc":"asc"),className:"btn-sort",title:"asc"===q?"Orden ascendente":"Orden descendente",children:"asc"===q?"\u2191":"\u2193"})}),(0,Ka.jsx)("div",{className:"filter-group",children:(0,Ka.jsx)("button",{onClick:()=>{L(""),z("all"),D("all"),I("name"),M("asc")},className:"btn-clear-filters",children:"Limpiar"})})]}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",$.length," de ",t.length," usuarios"]})]}),(0,Ka.jsx)("div",{className:"users-list",children:$.map(e=>{var t;return(0,Ka.jsxs)("div",{className:"user-row",children:[(0,Ka.jsxs)("div",{className:"user-main-info",children:[(0,Ka.jsxs)("div",{className:"user-email-section",children:[(0,Ka.jsx)("span",{className:"user-email",children:e.email}),(0,Ka.jsx)("span",{className:"user-name-visible",children:e.name})]}),(0,Ka.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role}),(0,Ka.jsxs)("div",{className:"user-actions",children:[(0,Ka.jsx)("button",{className:"btn-view-info",onClick:()=>(e=>{c(e),S(!0)})(e),title:"Ver informaci\xf3n del usuario",children:"\ud83d\udc41\ufe0f"}),(0,Ka.jsxs)("button",{className:"btn-view-companies",onClick:()=>{return t=e._id,void P(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},title:T.has(e._id)?"Ocultar empresas":"Ver empresas",children:[(0,Ka.jsx)("span",{className:"toggle-arrow ".concat(T.has(e._id)?"expanded":""),children:"\u25b6"}),"Empresas (",(null===(t=e.companies)||void 0===t?void 0:t.length)||0,")"]}),(0,Ka.jsx)("button",{className:"btn-small btn-primary",onClick:()=>(e=>{c(e),p(""),h("requester"),g({canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1}),y(""),b(!0)})(e),children:"Asignar"})]})]}),T.has(e._id)&&(0,Ka.jsx)("div",{className:"user-companies-expanded",children:e.companies&&0!==e.companies.length?e.companies.map(t=>(0,Ka.jsxs)("div",{className:"company-row",children:[(0,Ka.jsxs)("div",{className:"company-name",children:[(0,Ka.jsx)("strong",{children:t.company.name}),(0,Ka.jsxs)("span",{className:"tax-id",children:["(",t.company.tax_id,")"]})]}),(0,Ka.jsx)("span",{className:"role-badge-mini ".concat(t.role),children:t.role}),(0,Ka.jsxs)("div",{className:"perms",children:[(0,Ka.jsx)("span",{className:t.permissions.canView?"on":"off",title:"Ver",children:"V"}),(0,Ka.jsx)("span",{className:t.permissions.canEdit?"on":"off",title:"Editar",children:"E"}),(0,Ka.jsx)("span",{className:t.permissions.canDelete?"on":"off",title:"Eliminar",children:"D"}),(0,Ka.jsx)("span",{className:t.permissions.canManageUsers?"on":"off",title:"Gestionar",children:"G"})]}),(0,Ka.jsxs)("div",{className:"actions-mini",children:[(0,Ka.jsx)("button",{onClick:()=>((e,t)=>{c(e),E(t),h(t.role),g(t.permissions),C(!0)})(e,t),title:"Editar",children:"\u270e"}),(0,Ka.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("\xbfEst\xe1 seguro de remover este usuario de la empresa?"))try{await Qa.post("/multi-companies/remove-user-company",{userId:e,companyId:t}),await H()}catch(r){var n,a;console.error("Error removing user:",r),alert((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Error al remover usuario de empresa")}})(e._id,t.company._id),title:"Eliminar",children:"\u2715"})]})]},t._id)):(0,Ka.jsx)("p",{className:"no-companies",children:"Sin empresas asignadas"})})]},e._id)})}),x&&s&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:"Asignar Usuario a Empresa"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Usuario:"})," ",s.name," (",s.email,")"]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Buscar Empresa:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por nombre o NIT/RUC...",value:v,onChange:e=>y(e.target.value),className:"search-input"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Seleccionar Empresa:"}),(0,Ka.jsx)("div",{className:"company-list",children:0===W.length?(0,Ka.jsx)("p",{className:"no-results",children:"No se encontraron empresas"}):(0,Ka.jsxs)("select",{value:d,onChange:e=>p(e.target.value),size:Math.min(W.length,8),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar empresa..."}),W.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.tax_id]},e._id))]})})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol en la Empresa:"}),(0,Ka.jsxs)("select",{value:m,onChange:e=>h(e.target.value),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsxs)("div",{className:"permissions-grid",children:[(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canView,onChange:e=>g(u(u({},f),{},{canView:e.target.checked}))}),"Ver"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canEdit,onChange:e=>g(u(u({},f),{},{canEdit:e.target.checked}))}),"Editar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canDelete,onChange:e=>g(u(u({},f),{},{canDelete:e.target.checked}))}),"Eliminar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canManageUsers,onChange:e=>g(u(u({},f),{},{canManageUsers:e.target.checked}))}),"Gestionar Usuarios"]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{b(!1),c(null),y("")},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(s&&d)try{await Qa.post("/multi-companies/assign-user-company",{userId:s._id,companyId:d,role:m,permissions:f}),await H(),b(!1),c(null),p(""),h("requester"),g({canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1}),y("")}catch(n){var e,t;console.error("Error assigning user:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al asignar usuario a empresa")}},disabled:!d,children:"Asignar"})]})]})}),w&&k&&s&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Permisos"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Usuario:"})," ",s.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",k.company.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol en la Empresa:"}),(0,Ka.jsxs)("select",{value:m,onChange:e=>h(e.target.value),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsxs)("div",{className:"permissions-grid",children:[(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canView,onChange:e=>g(u(u({},f),{},{canView:e.target.checked}))}),"Ver"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canEdit,onChange:e=>g(u(u({},f),{},{canEdit:e.target.checked}))}),"Editar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canDelete,onChange:e=>g(u(u({},f),{},{canDelete:e.target.checked}))}),"Eliminar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canManageUsers,onChange:e=>g(u(u({},f),{},{canManageUsers:e.target.checked}))}),"Gestionar Usuarios"]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{C(!1),E(null),c(null)},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(k&&s)try{await Qa.put("/multi-companies/update-user-company-permissions",{userId:s._id,companyId:k.company._id,role:m,permissions:f}),await H(),C(!1),E(null)}catch(n){var e,t;console.error("Error updating permissions:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al actualizar permisos")}},children:"Actualizar"})]})]})}),j&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nuevo Usuario"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre:"}),(0,Ka.jsx)("input",{type:"text",value:U.name,onChange:e=>B(u(u({},U),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:U.email,onChange:e=>B(u(u({},U),{},{email:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contrase\xf1a:"}),(0,Ka.jsx)("input",{type:"password",value:U.password,onChange:e=>B(u(u({},U),{},{password:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:U.role,onChange:e=>B(u(u({},U),{},{role:e.target.value})),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa (opcional):"}),(0,Ka.jsxs)("select",{value:U.companyId,onChange:e=>B(u(u({},U),{},{companyId:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Sin empresa"}),a.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.tax_id]},e._id))]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>N(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/super-admin/create-user",U),await H(),N(!1),B({email:"",name:"",password:"",role:"requester",companyId:""})}catch(n){var e,t;console.error("Error creating user:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al crear usuario")}},disabled:!U.name||!U.email||!U.password,children:"Crear Usuario"})]})]})}),_&&s&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n del Usuario"}),(0,Ka.jsxs)("div",{className:"user-info-details",children:[(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Nombre Completo:"}),(0,Ka.jsx)("span",{className:"info-value",children:s.name})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Email:"}),(0,Ka.jsx)("span",{className:"info-value",children:s.email})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Rol del Sistema:"}),(0,Ka.jsx)("span",{className:"role-badge ".concat(s.role),children:s.role})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Estado:"}),(0,Ka.jsx)("span",{className:"status-badge ".concat(s.active?"active":"inactive"),children:s.active?"Activo":"Inactivo"})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Empresas Asignadas:"}),(0,Ka.jsx)("span",{className:"info-value",children:(null===(e=s.companies)||void 0===e?void 0:e.length)||0})]}),s.companies&&s.companies.length>0&&(0,Ka.jsxs)("div",{className:"info-section",children:[(0,Ka.jsx)("h4",{children:"Empresas y Roles:"}),(0,Ka.jsx)("div",{className:"companies-info-list",children:s.companies.map(e=>(0,Ka.jsxs)("div",{className:"company-info-item",children:[(0,Ka.jsxs)("div",{className:"company-info-header",children:[(0,Ka.jsx)("strong",{children:e.company.name}),(0,Ka.jsx)("span",{className:"role-badge-mini ".concat(e.role),children:e.role})]}),(0,Ka.jsxs)("div",{className:"company-info-details",children:[(0,Ka.jsxs)("span",{className:"tax-id",children:["NIT/RUC: ",e.company.tax_id]}),(0,Ka.jsxs)("div",{className:"perms",children:[(0,Ka.jsx)("span",{className:e.permissions.canView?"on":"off",title:"Ver",children:"V"}),(0,Ka.jsx)("span",{className:e.permissions.canEdit?"on":"off",title:"Editar",children:"E"}),(0,Ka.jsx)("span",{className:e.permissions.canDelete?"on":"off",title:"Eliminar",children:"D"}),(0,Ka.jsx)("span",{className:e.permissions.canManageUsers?"on":"off",title:"Gestionar",children:"G"})]})]})]},e._id))})]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{S(!1),c(null)},children:"Cerrar"})})]})})]})},vr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[g,v]=(0,r.useState)({companyId:"",userId:"",role:"requester",permissions:{canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1,canManageContracts:!1,canManageTemplates:!1}});(0,r.useEffect)(()=>{y()},[]);const y=async()=>{try{const[e,n,r]=await Promise.all([Qa.get("/company-users/companies"),Qa.get("/company-users/users"),Qa.get("/company-users/relations")]);t(e.data),a(n.data),o(r.data)}catch(e){console.error("Error fetching data:",e)}finally{s(!1)}};return i?(0,Ka.jsx)("div",{className:"loading",children:"Cargando relaciones empresa-usuario..."}):(0,Ka.jsxs)("div",{className:"company-user-management",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Relaciones Empresa-Usuario"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>d(!0),children:"Asignar Usuario a Empresa"})]}),(0,Ka.jsx)("div",{className:"relations-list",children:0===l.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay relaciones"}),(0,Ka.jsx)("p",{children:"Asigna usuarios a empresas para comenzar"})]}):l.map(e=>(0,Ka.jsxs)("div",{className:"relation-card",children:[(0,Ka.jsxs)("div",{className:"relation-info",children:[(0,Ka.jsx)("h3",{children:e.user.name}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," ",e.user.email]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",e.company.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Rol:"})," ",(0,Ka.jsx)("span",{className:"role-badge role-".concat(e.role),children:e.role})]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Asignado:"})," ",new Date(e.assignedAt).toLocaleDateString()]})]}),(0,Ka.jsxs)("div",{className:"permissions-info",children:[(0,Ka.jsx)("h4",{children:"Permisos:"}),(0,Ka.jsx)("div",{className:"permissions-grid",children:Object.entries(e.permissions).map(e=>{let[t,n]=e;return(0,Ka.jsx)("span",{className:"permission ".concat(n?"granted":"denied"),children:t.replace("can","").replace(/([A-Z])/g," $1").trim()},t)})})]}),(0,Ka.jsxs)("div",{className:"relation-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{f(e),m(!0)})(e),children:"Editar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres remover esta relaci\xf3n?"))try{await Qa.delete("/company-users/remove/".concat(e)),await y()}catch(t){console.error("Error removing relation:",t)}})(e._id),children:"Remover"})]})]},e._id))}),c&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Asignar Usuario a Empresa"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsxs)("select",{value:g.companyId,onChange:e=>v(u(u({},g),{},{companyId:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar empresa"}),e.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.tax_id]},e._id))]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Usuario:"}),(0,Ka.jsxs)("select",{value:g.userId,onChange:e=>v(u(u({},g),{},{userId:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar usuario"}),n.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.email]},e._id))]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:g.role,onChange:e=>v(u(u({},g),{},{role:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"requester",children:"Solicitante"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsx)("div",{className:"permissions-grid",children:Object.entries(g.permissions).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("label",{className:"permission-checkbox",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:n,onChange:e=>v(u(u({},g),{},{permissions:u(u({},g.permissions),{},{[t]:e.target.checked})}))}),t.replace("can","").replace(/([A-Z])/g," $1").trim()]},t)})})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/company-users/assign",g),await y(),d(!1),v({companyId:"",userId:"",role:"requester",permissions:{canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1,canManageContracts:!1,canManageTemplates:!1}})}catch(e){console.error("Error assigning user:",e)}},disabled:!g.companyId||!g.userId,children:"Asignar"})]})]})}),p&&h&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Relaci\xf3n"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Usuario:"}),(0,Ka.jsxs)("p",{children:[h.user.name," - ",h.user.email]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("p",{children:h.company.name})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:h.role,onChange:e=>f(u(u({},h),{},{role:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"requester",children:"Solicitante"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsx)("div",{className:"permissions-grid",children:Object.entries(h.permissions).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("label",{className:"permission-checkbox",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:n,onChange:e=>((e,t)=>{h&&f(u(u({},h),{},{permissions:u(u({},h.permissions),{},{[e]:t})}))})(t,e.target.checked)}),t.replace("can","").replace(/([A-Z])/g," $1").trim()]},t)})})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(h)try{await Qa.put("/company-users/update-permissions/".concat(h._id),{role:h.role,permissions:h.permissions}),await y(),m(!1),f(null)}catch(e){console.error("Error updating relation:",e)}},children:"Actualizar"})]})]})})]})},yr={Colombia:["Bogot\xe1","Medell\xedn","Cali","Barranquilla","Cartagena","C\xfacuta","Bucaramanga","Pereira","Santa Marta","Ibagu\xe9","Pasto","Manizales","Neiva","Villavicencio","Armenia","Valledupar","Monter\xeda","Popay\xe1n","Sincelejo","Tunja"],"Estados Unidos":["Nueva York","Los \xc1ngeles","Chicago","Houston","Phoenix","Filadelfia","San Antonio","San Diego","Dallas","San Jos\xe9","Austin","Jacksonville","Fort Worth","Columbus","Charlotte"],"M\xe9xico":["Ciudad de M\xe9xico","Guadalajara","Monterrey","Puebla","Tijuana","Le\xf3n","Ju\xe1rez","Zapopan","M\xe9rida","San Luis Potos\xed","Aguascalientes","Hermosillo","Saltillo","Mexicali","Culiac\xe1n"],"Espa\xf1a":["Madrid","Barcelona","Valencia","Sevilla","Zaragoza","M\xe1laga","Murcia","Palma","Las Palmas","Bilbao","Alicante","C\xf3rdoba","Valladolid","Vigo","Gij\xf3n"],Argentina:["Buenos Aires","C\xf3rdoba","Rosario","Mendoza","La Plata","San Miguel de Tucum\xe1n","Mar del Plata","Salta","Santa Fe","San Juan","Resistencia","Santiago del Estero","Corrientes","Posadas","Bah\xeda Blanca"],Chile:["Santiago","Valpara\xedso","Concepci\xf3n","La Serena","Antofagasta","Temuco","Rancagua","Talca","Arica","Chill\xe1n","Iquique","Los \xc1ngeles","Puerto Montt","Coquimbo","Osorno"],"Per\xfa":["Lima","Arequipa","Trujillo","Chiclayo","Piura","Iquitos","Cusco","Huancayo","Chimbote","Tacna","Juliaca","Ica","Sullana","Ayacucho","Cajamarca"],Ecuador:["Quito","Guayaquil","Cuenca","Santo Domingo","Machala","Dur\xe1n","Manta","Portoviejo","Loja","Ambato","Esmeraldas","Quevedo","Riobamba","Milagro","Ibarra"],Brasil:["S\xe3o Paulo","R\xedo de Janeiro","Brasilia","Salvador","Fortaleza","Belo Horizonte","Manaos","Curitiba","Recife","Porto Alegre","Bel\xe9m","Goi\xe2nia","Guarulhos","Campinas","S\xe3o Lu\xeds"],Venezuela:["Caracas","Maracaibo","Valencia","Barquisimeto","Maracay","Ciudad Guayana","Barcelona","Matur\xedn","Puerto La Cruz","Petare","Turmero","Ciudad Bol\xedvar","M\xe9rida","Santa Teresa","Valera"],"Panam\xe1":["Ciudad de Panam\xe1","San Miguelito","Tocumen","David","Arraij\xe1n","Col\xf3n","Las Cumbres","La Chorrera","Pacora","Santiago","Chitr\xe9","Penonom\xe9","Changuinola","Aguadulce","Bocas del Toro"],"Costa Rica":["San Jos\xe9","Lim\xf3n","San Francisco","Alajuela","Heredia","Cartago","Puntarenas","Liberia","Para\xedso","Curridabat","San Vicente","San Isidro","Desamparados","Purral","San Felipe"]},xr=()=>{var e,t;const[n,a]=(0,r.useState)([]),[l,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[c,d]=(0,r.useState)("all"),[p,m]=(0,r.useState)(!0),[h,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)(null),[b,j]=(0,r.useState)([]),[N,w]=(0,r.useState)({identification_type:"NIT",identification_number:"",legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:"",email:"",phone:"",address:"",city:"",country:"Colombia",third_party_type:"",custom_fields:{}});(0,r.useEffect)(()=>{_(),C()},[]),(0,r.useEffect)(()=>{let e=n;if("all"!==c&&(e=e.filter(e=>{var t;return(null===(t=e.third_party_type)||void 0===t?void 0:t.code)===c})),""!==i.trim()){const t=i.toLowerCase();e=e.filter(e=>e.legal_name.toLowerCase().includes(t)||e.identification_number.toLowerCase().includes(t)||e.email&&e.email.toLowerCase().includes(t))}o(e)},[i,c,n]);const C=async()=>{try{const e="?t=".concat(Date.now()),t=(await Qa.get("/suppliers/types".concat(e))).data.types||[];console.log("\ud83d\udd0d [DEBUG] Tipos de terceros recibidos:",t.length),console.log("\ud83d\udccb [DEBUG] C\xf3digos:",t.map(e=>e.code).join(", ")),console.log("\u2705 [DEBUG] Tiene Propiedad Horizontal (ph):",t.some(e=>"ph"===e.code)),console.log("\u2705 [DEBUG] Tiene Contador PH (contador_ph):",t.some(e=>"contador_ph"===e.code)),j(t)}catch(e){console.error("Error fetching third party types:",e)}},_=async()=>{try{const e=(await Qa.get("/suppliers")).data.suppliers||[],t=await Promise.all(e.map(async e=>{try{const t=await Qa.get("/suppliers/".concat(e._id,"/check-references")),{references:n}=t.data;return u(u({},e),{},{canDelete:n.canDelete,hasReferences:n.hasReferences,referenceDetails:n.details})}catch(t){return console.error("Error checking references for supplier ".concat(e._id,":"),t),u(u({},e),{},{canDelete:!1,hasReferences:!1})}}));a(t)}catch(e){console.error("Error fetching suppliers:",e)}finally{m(!1)}},S=async e=>{try{await Qa.patch("/suppliers/".concat(e._id,"/toggle-status")),await _()}catch(a){var t,n;console.error("Error toggling supplier status:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al cambiar estado del proveedor")}},k=e=>{const t=yr[e]||[];w(u(u({},N),{},{country:e,city:t.length>0?t[0]:""}))},E=()=>{w({identification_type:"NIT",identification_number:"",legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:"",email:"",phone:"",address:"",city:"",country:"Colombia",third_party_type:"",custom_fields:{}})},T=()=>N.identification_type&&N.identification_number&&N.legal_name&&N.legal_name_short&&N.legal_representative_name&&N.legal_representative_id_type&&N.legal_representative_id_number;return p?(0,Ka.jsx)("div",{className:"loading",children:"Cargando terceros..."}):(0,Ka.jsxs)("div",{className:"suppliers",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Terceros"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>f(!0),children:"Nuevo Tercero"})]}),(0,Ka.jsxs)("div",{className:"filter-section",children:[(0,Ka.jsxs)("select",{className:"filter-select",value:c,onChange:e=>d(e.target.value),children:[(0,Ka.jsx)("option",{value:"all",children:"Todos los tipos"}),b.map(e=>(0,Ka.jsxs)("option",{value:e.code,children:[e.icon," ",e.label]},e._id))]}),(0,Ka.jsx)("input",{type:"text",className:"search-input",placeholder:"Buscar por raz\xf3n social, n\xfamero ID o email...",value:i,onChange:e=>s(e.target.value)}),(0,Ka.jsxs)("span",{className:"results-count",children:[l.length," ",1===l.length?"tercero":"terceros"]})]}),(0,Ka.jsx)("div",{className:"suppliers-list",children:0===l.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:0===n.length?"No hay terceros":"No se encontraron terceros"}),(0,Ka.jsx)("p",{children:0===n.length?"Agrega tu primer tercero para comenzar":"Intenta con otro t\xe9rmino de b\xfasqueda"})]}):(0,Ka.jsxs)("table",{className:"suppliers-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"Estado"}),(0,Ka.jsx)("th",{children:"Tipo"}),(0,Ka.jsx)("th",{children:"Raz\xf3n Social"}),(0,Ka.jsx)("th",{children:"Tipo ID"}),(0,Ka.jsx)("th",{children:"N\xfamero ID"}),(0,Ka.jsx)("th",{children:"Representante Legal"}),(0,Ka.jsx)("th",{children:"Contacto"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:l.map(e=>{var t,n;return(0,Ka.jsxs)("tr",{className:e.active?"":"inactive",children:[(0,Ka.jsx)("td",{children:(0,Ka.jsx)("span",{className:"status-badge ".concat(e.active?"active":"inactive"),children:e.active?"Activo":"Inactivo"})}),(0,Ka.jsx)("td",{children:e.third_party_type?(0,Ka.jsxs)("span",{title:e.third_party_type.description,children:[e.third_party_type.icon," ",e.third_party_type.label]}):(0,Ka.jsx)("span",{style:{color:"#95a5a6"},children:"-"})}),(0,Ka.jsx)("td",{children:(0,Ka.jsxs)("div",{className:"supplier-name",children:[(0,Ka.jsx)("strong",{children:e.legal_name}),(0,Ka.jsx)("small",{children:e.legal_name_short})]})}),(0,Ka.jsx)("td",{children:e.identification_type}),(0,Ka.jsx)("td",{children:e.identification_number}),(0,Ka.jsx)("td",{children:(0,Ka.jsxs)("div",{className:"representative-info",children:[(0,Ka.jsx)("div",{children:e.legal_representative_name}),(0,Ka.jsxs)("small",{children:[e.legal_representative_id_type,": ",e.legal_representative_id_number]})]})}),(0,Ka.jsx)("td",{children:(0,Ka.jsxs)("div",{className:"contact-info",children:[e.email&&(0,Ka.jsx)("div",{children:e.email}),e.phone&&(0,Ka.jsx)("small",{children:e.phone})]})}),(0,Ka.jsx)("td",{children:(0,Ka.jsxs)("div",{className:"supplier-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{var t;x(e);const n=e.country||"Colombia";w({identification_type:e.identification_type,identification_number:e.identification_number,legal_name:e.legal_name,legal_name_short:e.legal_name_short,full_name:e.legal_name,legal_representative_name:e.legal_representative_name,legal_representative_id_type:e.legal_representative_id_type,legal_representative_id_number:e.legal_representative_id_number,licensee_name:e.licensee_name||"",email:e.email||"",phone:e.phone||"",address:e.address||"",city:e.city||"",country:n,third_party_type:(null===(t=e.third_party_type)||void 0===t?void 0:t._id)||"",custom_fields:e.custom_fields||{}}),v(!0)})(e),title:"Editar",children:"Editar"}),e.canDelete?(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsx)("button",{className:"btn-".concat(e.active?"warning":"success"),onClick:()=>S(e),title:e.active?"Desactivar":"Activar",children:e.active?"Desactivar":"Activar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{try{const t=await Qa.get("/suppliers/".concat(e._id,"/check-references")),{references:n}=t.data;if(!n.canDelete){const e="No se puede eliminar este tercero porque tiene:\n"+"- ".concat(n.details.contracts," contrato(s) asociado(s)\n")+"- ".concat(n.details.templates," plantilla(s) del mismo tipo\n\n")+"Desact\xedvalo en lugar de eliminarlo para mantener la integridad de los datos.";return void alert(e)}if(!window.confirm('\xbfEst\xe1 seguro de eliminar el tercero "'.concat(e.legal_name,'"?\n\nEsta acci\xf3n no se puede deshacer.')))return;await Qa.delete("/suppliers/".concat(e._id)),await _()}catch(l){var t,n,a,r;console.error("Error deleting supplier:",l),null!==(t=l.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.suggestion?alert("".concat(l.response.data.error,"\n\n").concat(l.response.data.suggestion)):alert((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error al eliminar tercero")}})(e),title:"Eliminar permanentemente",children:"Eliminar"})]}):(0,Ka.jsx)("button",{className:"btn-".concat(e.active?"warning":"success"),onClick:()=>S(e),title:e.hasReferences?"Este tercero tiene ".concat((null===(t=e.referenceDetails)||void 0===t?void 0:t.contracts)||0," contrato(s) y ").concat((null===(n=e.referenceDetails)||void 0===n?void 0:n.templates)||0," plantilla(s). Solo se puede desactivar."):e.active?"Desactivar":"Activar",children:e.active?"Desactivar":"Activar"})]})})]},e._id)})})]})}),h&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:"Crear Nuevo Tercero"}),(0,Ka.jsxs)("div",{className:"modal-content",children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n del Tercero"}),b.length>0&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero:"}),(0,Ka.jsxs)("select",{value:N.third_party_type,onChange:e=>{var t;const n=e.target.value,a=b.find(e=>e._id===n),r=(null===a||void 0===a||null===(t=a.default_identification_types)||void 0===t?void 0:t[0])||N.identification_type;w(u(u({},N),{},{third_party_type:n,identification_type:r}))},children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione un tipo (opcional)"}),b.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id))]}),N.third_party_type&&(0,Ka.jsx)("small",{style:{display:"block",marginTop:"0.5rem",color:"#7f8c8d"},children:null===(e=b.find(e=>e._id===N.third_party_type))||void 0===e?void 0:e.description})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsxs)("select",{value:N.identification_type,onChange:e=>w(u(u({},N),{},{identification_type:e.target.value,legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:""})),required:!0,disabled:!!N.third_party_type,style:{backgroundColor:N.third_party_type?"#f8f9fa":"white",cursor:N.third_party_type?"not-allowed":"pointer"},children:[(0,Ka.jsx)("option",{value:"NIT",children:"NIT (Empresa)"}),(0,Ka.jsx)("option",{value:"NIT (PH)",children:"NIT (PH)"}),(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]}),N.third_party_type&&(0,Ka.jsx)("small",{style:{display:"block",marginTop:"0.25rem",color:"#7f8c8d",fontSize:"0.85rem"},children:"Tipo establecido autom\xe1ticamente seg\xfan el tipo de tercero"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:N.identification_number,onChange:e=>w(u(u({},N),{},{identification_number:e.target.value})),required:!0})]})]}),("NIT"===N.identification_type||"NIT (PH)"===N.identification_type)&&(0,Ka.jsx)(Ka.Fragment,{children:"NIT (PH)"===N.identification_type?(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Propiedad Horizontal: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_name,onChange:e=>w(u(u({},N),{},{legal_name:e.target.value,legal_name_short:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Licenciatario:"}),(0,Ka.jsx)("input",{type:"text",value:N.licensee_name,onChange:e=>w(u(u({},N),{},{licensee_name:e.target.value}))})]})]}):(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n Social: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_name,onChange:e=>w(u(u({},N),{},{legal_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n Social Abreviada:"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_name_short,onChange:e=>w(u(u({},N),{},{legal_name_short:e.target.value}))})]})]})}),"NIT"!==N.identification_type&&"NIT (PH)"!==N.identification_type&&(0,Ka.jsx)("div",{className:"form-row",children:(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre Completo: *"}),(0,Ka.jsx)("input",{type:"text",value:N.full_name,onChange:e=>w(u(u({},N),{},{full_name:e.target.value})),required:!0,placeholder:"Ej: Juan P\xe9rez Garc\xeda"})]})})]}),("NIT"===N.identification_type||"NIT (PH)"===N.identification_type)&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Representante Legal"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Representante Legal: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_representative_name,onChange:e=>w(u(u({},N),{},{legal_representative_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsxs)("select",{value:N.legal_representative_id_type,onChange:e=>w(u(u({},N),{},{legal_representative_id_type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_representative_id_number,onChange:e=>w(u(u({},N),{},{legal_representative_id_number:e.target.value})),required:!0})]})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n de Contacto (Opcional)"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:N.email,onChange:e=>w(u(u({},N),{},{email:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:N.phone,onChange:e=>w(u(u({},N),{},{phone:e.target.value}))})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:N.address,onChange:e=>w(u(u({},N),{},{address:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Pa\xeds:"}),(0,Ka.jsx)("select",{value:N.country,onChange:e=>k(e.target.value),children:Object.keys(yr).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Ciudad:"}),(0,Ka.jsxs)("select",{value:N.city,onChange:e=>w(u(u({},N),{},{city:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione una ciudad"}),(yr[N.country||"Colombia"]||[]).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))]})]})]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{f(!1),E()},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{const e="NIT"===N.identification_type||"NIT (PH)"===N.identification_type;if(e){if(!N.legal_name.trim())return void alert("La raz\xf3n social es requerida");if(!N.legal_representative_name.trim())return void alert("El nombre del representante legal es requerido")}else if(!N.full_name.trim())return void alert("El nombre completo es requerido");try{const t=u(u({},N),{},e?{full_name:void 0}:{legal_name:N.full_name,legal_name_short:N.full_name,legal_representative_name:void 0,legal_representative_id_type:void 0,legal_representative_id_number:void 0});await Qa.post("/suppliers",t),await _(),f(!1),E()}catch(a){var t,n;console.error("Error creating supplier:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al crear proveedor")}},disabled:!T(),children:"Crear Tercero"})]})]})}),g&&y&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:"Editar Tercero"}),(0,Ka.jsxs)("div",{className:"modal-content",children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n del Tercero"}),b.length>0&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero:"}),(0,Ka.jsxs)("select",{value:N.third_party_type,onChange:e=>{var t;const n=e.target.value,a=b.find(e=>e._id===n),r=(null===a||void 0===a||null===(t=a.default_identification_types)||void 0===t?void 0:t[0])||N.identification_type;w(u(u({},N),{},{third_party_type:n,identification_type:r}))},children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione un tipo (opcional)"}),b.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id))]}),N.third_party_type&&(0,Ka.jsx)("small",{style:{display:"block",marginTop:"0.5rem",color:"#7f8c8d"},children:null===(t=b.find(e=>e._id===N.third_party_type))||void 0===t?void 0:t.description})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsxs)("select",{value:N.identification_type,onChange:e=>w(u(u({},N),{},{identification_type:e.target.value,legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:""})),required:!0,disabled:!!N.third_party_type,style:{backgroundColor:N.third_party_type?"#f8f9fa":"white",cursor:N.third_party_type?"not-allowed":"pointer"},children:[(0,Ka.jsx)("option",{value:"NIT",children:"NIT (Empresa)"}),(0,Ka.jsx)("option",{value:"NIT (PH)",children:"NIT (PH)"}),(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]}),N.third_party_type&&(0,Ka.jsx)("small",{style:{display:"block",marginTop:"0.25rem",color:"#7f8c8d",fontSize:"0.85rem"},children:"Tipo establecido autom\xe1ticamente seg\xfan el tipo de tercero"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:N.identification_number,onChange:e=>w(u(u({},N),{},{identification_number:e.target.value})),required:!0})]})]}),("NIT"===N.identification_type||"NIT (PH)"===N.identification_type)&&(0,Ka.jsx)(Ka.Fragment,{children:"NIT (PH)"===N.identification_type?(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Propiedad Horizontal: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_name,onChange:e=>w(u(u({},N),{},{legal_name:e.target.value,legal_name_short:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Licenciatario:"}),(0,Ka.jsx)("input",{type:"text",value:N.licensee_name,onChange:e=>w(u(u({},N),{},{licensee_name:e.target.value}))})]})]}):(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n Social: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_name,onChange:e=>w(u(u({},N),{},{legal_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n Social Abreviada:"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_name_short,onChange:e=>w(u(u({},N),{},{legal_name_short:e.target.value}))})]})]})}),"NIT"!==N.identification_type&&"NIT (PH)"!==N.identification_type&&(0,Ka.jsx)("div",{className:"form-row",children:(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre Completo: *"}),(0,Ka.jsx)("input",{type:"text",value:N.full_name,onChange:e=>w(u(u({},N),{},{full_name:e.target.value})),required:!0,placeholder:"Ej: Juan P\xe9rez Garc\xeda"})]})})]}),("NIT"===N.identification_type||"NIT (PH)"===N.identification_type)&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Representante Legal"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Representante Legal: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_representative_name,onChange:e=>w(u(u({},N),{},{legal_representative_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsxs)("select",{value:N.legal_representative_id_type,onChange:e=>w(u(u({},N),{},{legal_representative_id_type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:N.legal_representative_id_number,onChange:e=>w(u(u({},N),{},{legal_representative_id_number:e.target.value})),required:!0})]})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n de Contacto (Opcional)"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:N.email,onChange:e=>w(u(u({},N),{},{email:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:N.phone,onChange:e=>w(u(u({},N),{},{phone:e.target.value}))})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:N.address,onChange:e=>w(u(u({},N),{},{address:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Pa\xeds:"}),(0,Ka.jsx)("select",{value:N.country,onChange:e=>k(e.target.value),children:Object.keys(yr).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Ciudad:"}),(0,Ka.jsxs)("select",{value:N.city,onChange:e=>w(u(u({},N),{},{city:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione una ciudad"}),(yr[N.country||"Colombia"]||[]).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))]})]})]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{v(!1),x(null),E()},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(!y)return;const e="NIT"===N.identification_type||"NIT (PH)"===N.identification_type;if(e){if(!N.legal_name.trim())return void alert("La raz\xf3n social es requerida");if(!N.legal_representative_name.trim())return void alert("El nombre del representante legal es requerido")}else if(!N.full_name.trim())return void alert("El nombre completo es requerido");try{const t=u(u({},N),{},e?{full_name:void 0}:{legal_name:N.full_name,legal_name_short:N.full_name,legal_representative_name:void 0,legal_representative_id_type:void 0,legal_representative_id_number:void 0});await Qa.put("/suppliers/".concat(y._id),t),await _(),v(!1),x(null),E()}catch(a){var t,n;console.error("Error updating supplier:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al actualizar proveedor")}},disabled:!T(),children:"Actualizar Tercero"})]})]})})]})},br=()=>{const{user:e}=Ya(),[t,n]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[o,i]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),[d,p]=(0,r.useState)([]),[m,h]=(0,r.useState)({code:"",label:"",description:"",icon:"\ud83d\udcc4",fields:[]}),[f,g]=(0,r.useState)({name:"",label:"",field_type:"text",options:[],required:!1,display_order:0,placeholder:""});(0,r.useEffect)(()=>{v(),y()},[]);const v=async()=>{try{const e=await Qa.get("/third-party-types");n(e.data)}catch(e){console.error("Error fetching third party types:",e)}finally{l(!1)}},y=async()=>{try{const e=await Qa.get("/third-party-types/config/field-options");p(e.data.field_types)}catch(e){console.error("Error fetching field options:",e)}},x=(e,t)=>{const n=[...m.fields],a="up"===t?e-1:e+1;a<0||a>=n.length||([n[e],n[a]]=[n[a],n[e]],n.forEach((e,t)=>e.display_order=t),h(u(u({},m),{},{fields:n})))};return a?(0,Ka.jsx)("div",{className:"loading",children:"Cargando tipos de terceros..."}):(0,Ka.jsxs)("div",{className:"third-party-type-management",children:[(0,Ka.jsxs)("div",{className:"header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Tipos de Terceros"}),(0,Ka.jsx)("p",{children:"Configura qu\xe9 informaci\xf3n se solicita para cada tipo de tercero"}),(0,Ka.jsx)("button",{onClick:()=>{c(null),h({code:"",label:"",description:"",icon:"\ud83d\udcc4",fields:[]}),i(!0)},className:"btn-create",children:"\u2795 Crear Nuevo Tipo"})]}),(0,Ka.jsx)("div",{className:"types-grid",children:t.map(e=>(0,Ka.jsxs)("div",{className:"type-card",children:[(0,Ka.jsxs)("div",{className:"type-header",children:[(0,Ka.jsxs)("div",{className:"type-title",children:[(0,Ka.jsx)("span",{className:"type-icon",children:e.icon}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h3",{children:e.label}),(0,Ka.jsx)("span",{className:"type-code",children:e.code})]})]}),e.is_system&&(0,Ka.jsx)("span",{className:"system-badge",children:"Sistema"})]}),(0,Ka.jsx)("p",{className:"type-description",children:e.description}),(0,Ka.jsx)("div",{className:"type-stats",children:(0,Ka.jsxs)("span",{children:[e.fields.length," campos configurados"]})}),(0,Ka.jsxs)("div",{className:"type-actions",children:[(0,Ka.jsx)("button",{onClick:()=>(e=>{c(e),h({code:e.code,label:e.label,description:e.description,icon:e.icon,fields:e.fields}),i(!0)})(e),className:"btn-edit",children:"\u270f\ufe0f Editar"}),!e.is_system&&(0,Ka.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de eliminar este tipo de tercero?"))try{await Qa.delete("/third-party-types/".concat(e)),alert("Tipo de tercero eliminado exitosamente"),await v()}catch(a){var t,n;console.error("Error deleting third party type:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al eliminar tipo de tercero")}})(e._id),className:"btn-delete",children:"\ud83d\uddd1\ufe0f Eliminar"})]})]},e._id))}),o&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>i(!1),children:(0,Ka.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h2",{children:s?"Editar Tipo de Tercero":"Crear Nuevo Tipo de Tercero"}),(0,Ka.jsx)("button",{onClick:()=>i(!1),className:"btn-close",children:"\u2716"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"C\xf3digo *"}),(0,Ka.jsx)("input",{type:"text",value:m.code,onChange:e=>h(u(u({},m),{},{code:e.target.value.toLowerCase()})),placeholder:"ej: proveedor",disabled:!!s})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"\xcdcono"}),(0,Ka.jsx)("input",{type:"text",value:m.icon,onChange:e=>h(u(u({},m),{},{icon:e.target.value})),placeholder:"\ud83d\udce6"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre *"}),(0,Ka.jsx)("input",{type:"text",value:m.label,onChange:e=>h(u(u({},m),{},{label:e.target.value})),placeholder:"Proveedor"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:m.description,onChange:e=>h(u(u({},m),{},{description:e.target.value})),placeholder:"Descripci\xf3n del tipo de tercero",rows:2})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsxs)("h3",{children:["Campos Personalizados (",m.fields.length,")"]}),(0,Ka.jsxs)("div",{className:"add-field-section",children:[(0,Ka.jsx)("h4",{children:"Agregar Campo"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del campo *"}),(0,Ka.jsx)("input",{type:"text",value:f.name,onChange:e=>g(u(u({},f),{},{name:e.target.value.toLowerCase().replace(/\s/g,"_")})),placeholder:"nombre_campo"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Etiqueta *"}),(0,Ka.jsx)("input",{type:"text",value:f.label,onChange:e=>g(u(u({},f),{},{label:e.target.value})),placeholder:"Etiqueta visible"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de campo *"}),(0,Ka.jsx)("select",{value:f.field_type,onChange:e=>g(u(u({},f),{},{field_type:e.target.value})),children:d.map(e=>(0,Ka.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Placeholder"}),(0,Ka.jsx)("input",{type:"text",value:f.placeholder,onChange:e=>g(u(u({},f),{},{placeholder:e.target.value}))})]})]}),(0,Ka.jsx)("div",{className:"form-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.required,onChange:e=>g(u(u({},f),{},{required:e.target.checked}))}),"Campo obligatorio"]})}),(0,Ka.jsx)("button",{onClick:()=>{f.name&&f.label?(h(u(u({},m),{},{fields:[...m.fields,u(u({},f),{},{display_order:m.fields.length})]})),g({name:"",label:"",field_type:"text",options:[],required:!1,display_order:0,placeholder:""})):alert("El nombre y etiqueta del campo son requeridos")},className:"btn-add-field",children:"\u2795 Agregar Campo"})]}),(0,Ka.jsx)("div",{className:"fields-list",children:m.fields.map((e,t)=>(0,Ka.jsxs)("div",{className:"field-item",children:[(0,Ka.jsxs)("div",{className:"field-info",children:[(0,Ka.jsx)("strong",{children:e.label}),(0,Ka.jsxs)("span",{className:"field-details",children:[e.name," \u2022 ",e.field_type,e.required&&" \u2022 Requerido"]})]}),(0,Ka.jsxs)("div",{className:"field-actions",children:[(0,Ka.jsx)("button",{onClick:()=>x(t,"up"),disabled:0===t,className:"btn-icon",children:"\u2b06\ufe0f"}),(0,Ka.jsx)("button",{onClick:()=>x(t,"down"),disabled:t===m.fields.length-1,className:"btn-icon",children:"\u2b07\ufe0f"}),(0,Ka.jsx)("button",{onClick:()=>(e=>{const t=m.fields.filter((t,n)=>n!==e);h(u(u({},m),{},{fields:t}))})(t),className:"btn-icon-delete",children:"\ud83d\uddd1\ufe0f"})]})]},t))})]})]}),(0,Ka.jsxs)("div",{className:"modal-footer",children:[(0,Ka.jsx)("button",{onClick:()=>i(!1),className:"btn-cancel",children:"Cancelar"}),(0,Ka.jsx)("button",{onClick:async()=>{try{s?(await Qa.put("/third-party-types/".concat(s._id),m),alert("Tipo de tercero actualizado exitosamente")):(await Qa.post("/third-party-types",m),alert("Tipo de tercero creado exitosamente")),await v(),i(!1)}catch(n){var e,t;console.error("Error saving third party type:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al guardar tipo de tercero")}},className:"btn-save",children:s?"Actualizar":"Crear"})]})]})})]})},jr=()=>{const[e,t]=(0,r.useState)("terceros");return(0,Ka.jsxs)("div",{className:"third-party-management-container",children:[(0,Ka.jsxs)("div",{className:"tabs-header",children:[(0,Ka.jsx)("button",{className:"tab-button ".concat("terceros"===e?"active":""),onClick:()=>t("terceros"),children:"\ud83d\udccb Gesti\xf3n de Terceros"}),(0,Ka.jsx)("button",{className:"tab-button ".concat("tipos"===e?"active":""),onClick:()=>t("tipos"),children:"\u2699\ufe0f Configuraci\xf3n de Tipos"})]}),(0,Ka.jsx)("div",{className:"tab-content",children:"terceros"===e?(0,Ka.jsx)(xr,{}):(0,Ka.jsx)(br,{})})]})},Nr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0),[i,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[p,m]=(0,r.useState)({name:"",description:"",icon:"document",color:"#3B82F6",template:"",requires_approval:!0,auto_assign_lawyer:!1}),[h,f]=(0,r.useState)([]);(0,r.useEffect)(()=>{g(),v()},[]);const g=async()=>{try{const e=await Qa.get("/contract-categories");t(e.data)}catch(e){console.error("Error fetching categories:",e)}finally{o(!1)}},v=async()=>{try{const e=await Qa.get("/templates");a(e.data)}catch(e){console.error("Error fetching templates:",e)}},y=(e,t,n)=>{const a=[...h];a[e]=u(u({},a[e]),{},{[t]:n}),f(a)},x=(e,t)=>{if("up"===t&&0===e||"down"===t&&e===h.length-1)return;const n="up"===t?e-1:e+1,a=[...h];[a[e],a[n]]=[a[n],a[e]],a.forEach((e,t)=>{e.order=t+1}),f(a)};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando categor\xedas..."}):(0,Ka.jsxs)("div",{className:"category-management",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Categor\xedas de Contratos"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>{d(null),m({name:"",description:"",icon:"document",color:"#3B82F6",template:"",requires_approval:!0,auto_assign_lawyer:!1}),f([]),s(!0)},children:"Nueva Categor\xeda"})]}),(0,Ka.jsx)("div",{className:"categories-grid",children:0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay categor\xedas"}),(0,Ka.jsx)("p",{children:"Crea la primera categor\xeda para comenzar"})]}):e.map(e=>(0,Ka.jsxs)("div",{className:"category-card",style:{borderLeftColor:e.color},children:[(0,Ka.jsxs)("div",{className:"category-header",children:[(0,Ka.jsx)("div",{className:"category-icon",style:{backgroundColor:e.color+"20",color:e.color},children:"\ud83d\udccb"}),(0,Ka.jsx)("h3",{children:e.name})]}),(0,Ka.jsx)("p",{className:"category-description",children:e.description}),(0,Ka.jsxs)("div",{className:"category-meta",children:[(0,Ka.jsxs)("span",{className:"badge",children:[e.questionnaire.length," preguntas"]}),e.requires_approval&&(0,Ka.jsx)("span",{className:"badge badge-warning",children:"Requiere aprobaci\xf3n"}),e.template&&(0,Ka.jsx)("span",{className:"badge badge-info",children:e.template.name})]}),(0,Ka.jsxs)("div",{className:"category-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{var t;d(e),m({name:e.name,description:e.description,icon:e.icon,color:e.color,template:(null===(t=e.template)||void 0===t?void 0:t._id)||"",requires_approval:e.requires_approval,auto_assign_lawyer:e.auto_assign_lawyer}),f([...e.questionnaire]),s(!0)})(e),children:"Editar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea desactivar esta categor\xeda?"))try{await Qa.delete("/contract-categories/".concat(e)),await g()}catch(t){console.error("Error deleting category:",t),alert("Error al eliminar la categor\xeda")}})(e._id),children:"Desactivar"})]})]},e._id))}),i&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:c?"Editar Categor\xeda":"Nueva Categor\xeda"}),(0,Ka.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=u(u({},p),{},{questionnaire:h.sort((e,t)=>e.order-t.order)});c?await Qa.put("/contract-categories/".concat(c._id),e):await Qa.post("/contract-categories",e),await g(),s(!1)}catch(a){var t,n;console.error("Error saving category:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al guardar la categor\xeda")}},children:[(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Categor\xeda *"}),(0,Ka.jsx)("input",{type:"text",value:p.name,onChange:e=>m(u(u({},p),{},{name:e.target.value})),required:!0,placeholder:"Ej: Contrato Laboral, NDA, Contrato Comercial"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Color"}),(0,Ka.jsx)("input",{type:"color",value:p.color,onChange:e=>m(u(u({},p),{},{color:e.target.value}))})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n *"}),(0,Ka.jsx)("textarea",{value:p.description,onChange:e=>m(u(u({},p),{},{description:e.target.value})),required:!0,rows:3,placeholder:"Describe el tipo de contratos de esta categor\xeda"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Plantilla Asociada"}),(0,Ka.jsxs)("select",{value:p.template,onChange:e=>m(u(u({},p),{},{template:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar plantilla..."}),n.map(e=>(0,Ka.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsx)("div",{className:"form-group checkbox-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:p.requires_approval,onChange:e=>m(u(u({},p),{},{requires_approval:e.target.checked}))}),"Requiere aprobaci\xf3n de abogado"]})}),(0,Ka.jsx)("div",{className:"form-group checkbox-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:p.auto_assign_lawyer,onChange:e=>m(u(u({},p),{},{auto_assign_lawyer:e.target.checked}))}),"Auto-asignar abogado disponible"]})})]}),(0,Ka.jsx)("hr",{}),(0,Ka.jsxs)("div",{className:"questionnaire-section",children:[(0,Ka.jsxs)("div",{className:"section-header",children:[(0,Ka.jsx)("h4",{children:"Cuestionario"}),(0,Ka.jsx)("button",{type:"button",className:"btn-secondary btn-sm",onClick:()=>{const e={question:"",field_name:"",type:"text",required:!0,order:h.length+1};f([...h,e])},children:"+ Agregar Pregunta"})]}),h.map((e,t)=>(0,Ka.jsxs)("div",{className:"question-editor",children:[(0,Ka.jsxs)("div",{className:"question-header",children:[(0,Ka.jsxs)("span",{className:"question-number",children:["Pregunta ",t+1]}),(0,Ka.jsxs)("div",{className:"question-controls",children:[(0,Ka.jsx)("button",{type:"button",onClick:()=>x(t,"up"),disabled:0===t,className:"btn-icon",children:"\u2191"}),(0,Ka.jsx)("button",{type:"button",onClick:()=>x(t,"down"),disabled:t===h.length-1,className:"btn-icon",children:"\u2193"}),(0,Ka.jsx)("button",{type:"button",onClick:()=>(e=>{f(h.filter((t,n)=>n!==e))})(t),className:"btn-icon btn-danger",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group flex-2",children:[(0,Ka.jsx)("label",{children:"Pregunta"}),(0,Ka.jsx)("input",{type:"text",value:e.question,onChange:e=>y(t,"question",e.target.value),placeholder:"\xbfCu\xe1l es...?"})]}),(0,Ka.jsxs)("div",{className:"form-group flex-1",children:[(0,Ka.jsx)("label",{children:"Nombre del campo"}),(0,Ka.jsx)("input",{type:"text",value:e.field_name,onChange:e=>y(t,"field_name",e.target.value),placeholder:"nombre_campo"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de campo"}),(0,Ka.jsxs)("select",{value:e.type,onChange:e=>y(t,"type",e.target.value),children:[(0,Ka.jsx)("option",{value:"text",children:"Texto"}),(0,Ka.jsx)("option",{value:"textarea",children:"Texto largo"}),(0,Ka.jsx)("option",{value:"number",children:"N\xfamero"}),(0,Ka.jsx)("option",{value:"date",children:"Fecha"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"phone",children:"Tel\xe9fono"}),(0,Ka.jsx)("option",{value:"select",children:"Selecci\xf3n \xfanica"}),(0,Ka.jsx)("option",{value:"multiselect",children:"Selecci\xf3n m\xfaltiple"}),(0,Ka.jsx)("option",{value:"radio",children:"Radio buttons"}),(0,Ka.jsx)("option",{value:"checkbox",children:"Checkbox"})]})]}),(0,Ka.jsx)("div",{className:"form-group checkbox-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>y(t,"required",e.target.checked)}),"Campo obligatorio"]})})]}),["select","multiselect","radio"].includes(e.type)&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Opciones (una por l\xednea)"}),(0,Ka.jsx)("textarea",{value:(e.options||[]).join("\n"),onChange:e=>y(t,"options",e.target.value.split("\n").filter(e=>e.trim())),rows:3,placeholder:"Opci\xf3n 1\nOpci\xf3n 2\nOpci\xf3n 3"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Texto de ayuda (opcional)"}),(0,Ka.jsx)("input",{type:"text",value:e.help_text||"",onChange:e=>y(t,"help_text",e.target.value),placeholder:"Informaci\xf3n adicional para el usuario"})]})]},t)),0===h.length&&(0,Ka.jsxs)("div",{className:"empty-questionnaire",children:[(0,Ka.jsx)("p",{children:"No hay preguntas en el cuestionario"}),(0,Ka.jsx)("p",{className:"text-muted",children:'Haz clic en "Agregar Pregunta" para comenzar'})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>s(!1),children:"Cancelar"}),(0,Ka.jsxs)("button",{type:"submit",className:"btn-primary",children:[c?"Actualizar":"Crear"," Categor\xeda"]})]})]})]})})]})},wr=e=>{let{questions:t,answers:n,onChange:a,errors:r={},disabled:l=!1}=e;const o=e=>{var t,o,i,s,c;const d=n[e.field_name]||"",p=r[e.field_name],m={disabled:l,required:e.required,placeholder:e.placeholder||""};switch(e.type){case"text":case"email":case"phone":return(0,Ka.jsx)("input",u(u({type:e.type,value:d,onChange:t=>a(e.field_name,t.target.value)},m),{},{className:p?"input-error":""}));case"textarea":return(0,Ka.jsx)("textarea",u(u({value:d,onChange:t=>a(e.field_name,t.target.value),rows:4},m),{},{className:p?"input-error":""}));case"number":return(0,Ka.jsx)("input",u(u({type:"number",value:d,onChange:t=>{const n=t.target.value;a(e.field_name,n?parseInt(n,10):"")},min:null===(t=e.validation)||void 0===t?void 0:t.min,max:null===(o=e.validation)||void 0===o?void 0:o.max,step:"1"},m),{},{className:p?"input-error":""}));case"date":return(0,Ka.jsx)("input",u(u({type:"date",value:d,onChange:t=>a(e.field_name,t.target.value)},m),{},{className:p?"input-error":""}));case"select":return(0,Ka.jsxs)("select",{value:d,onChange:t=>a(e.field_name,t.target.value),disabled:l,required:e.required,className:p?"input-error":"",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar..."}),null===(i=e.options)||void 0===i?void 0:i.map((e,t)=>(0,Ka.jsx)("option",{value:e,children:e},t))]});case"multiselect":return(0,Ka.jsx)("div",{className:"multiselect",children:null===(s=e.options)||void 0===s?void 0:s.map((t,n)=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:Array.isArray(d)&&d.includes(t),onChange:n=>{const r=Array.isArray(d)?[...d]:[];n.target.checked?a(e.field_name,[...r,t]):a(e.field_name,r.filter(e=>e!==t))},disabled:l}),(0,Ka.jsx)("span",{children:t})]},n))});case"radio":return(0,Ka.jsx)("div",{className:"radio-group",children:null===(c=e.options)||void 0===c?void 0:c.map((t,n)=>(0,Ka.jsxs)("label",{className:"radio-label",children:[(0,Ka.jsx)("input",{type:"radio",name:e.field_name,value:t,checked:d===t,onChange:t=>a(e.field_name,t.target.value),disabled:l,required:e.required}),(0,Ka.jsx)("span",{children:t})]},n))});case"checkbox":return(0,Ka.jsxs)("label",{className:"checkbox-label single",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:!!d,onChange:t=>a(e.field_name,t.target.checked),disabled:l,required:e.required}),(0,Ka.jsx)("span",{children:e.placeholder||"Acepto"})]});default:return(0,Ka.jsx)("input",{type:"text",value:d,disabled:!0})}};return(0,Ka.jsx)("div",{className:"dynamic-questionnaire",children:t.map((e,t)=>(0,Ka.jsxs)("div",{className:"question-group",children:[(0,Ka.jsxs)("label",{className:"question-label",children:[e.question,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),e.help_text&&(0,Ka.jsx)("p",{className:"help-text",children:e.help_text}),o(e),r[e.field_name]&&(0,Ka.jsx)("span",{className:"error-message",children:r[e.field_name]})]},e.field_name))})},Cr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[i,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)("medium"),[h,f]=(0,r.useState)({}),[g,v]=(0,r.useState)({});(0,r.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await Qa.get("/contract-categories");t(e.data)}catch(e){console.error("Error fetching categories:",e)}finally{o(!1)}},x=()=>{a(null),f({}),v({})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando categor\xedas..."}):(0,Ka.jsxs)("div",{className:"contract-request-form",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Solicitar Contrato"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Selecciona el tipo de contrato y completa la informaci\xf3n"})]}),n?(0,Ka.jsxs)("div",{className:"request-form-container",children:[(0,Ka.jsxs)("div",{className:"form-header",children:[(0,Ka.jsx)("button",{className:"btn-back",onClick:x,children:"\u2190 Cambiar categor\xeda"}),(0,Ka.jsx)("div",{className:"selected-category",children:(0,Ka.jsx)("div",{className:"category-badge",style:{backgroundColor:n.color},children:n.name})})]}),(0,Ka.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return c&&""!==c.trim()||(e.title="El t\xedtulo es requerido"),!!n&&(n.questionnaire.forEach(t=>{const n=h[t.field_name];var a,r;t.required&&(!n||""===n||Array.isArray(n)&&0===n.length)&&(e[t.field_name]="".concat(t.question," es obligatorio")),n&&"email"===t.type&&!n.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)&&(e[t.field_name]="Email inv\xe1lido"),n&&"number"===t.type&&(void 0!==(null===(a=t.validation)||void 0===a?void 0:a.min)&&Number(n)<t.validation.min&&(e[t.field_name]="Debe ser mayor o igual a ".concat(t.validation.min)),void 0!==(null===(r=t.validation)||void 0===r?void 0:r.max)&&Number(n)>t.validation.max&&(e[t.field_name]="Debe ser menor o igual a ".concat(t.validation.max)))}),v(e),0===Object.keys(e).length)})()){s(!0);try{await Qa.post("/contract-requests-v2",{category_id:n._id,title:c.trim(),questionnaire_answers:h,field_data:h,priority:p});alert("\xa1Solicitud enviada exitosamente! Un abogado la revisar\xe1 pronto."),a(null),d(""),f({}),m("medium"),v({})}catch(l){var t,r;console.error("Error submitting request:",l),alert((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error al enviar la solicitud")}finally{s(!1)}}},children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{children:["T\xedtulo de la Solicitud ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:c,onChange:e=>{if(d(e.target.value),g.title){const e=u({},g);delete e.title,v(e)}},placeholder:"Ej: ".concat(n.name," - Nombre del Cliente"),className:g.title?"input-error":""}),g.title&&(0,Ka.jsx)("span",{className:"error-message",children:g.title}),(0,Ka.jsx)("p",{className:"help-text",children:"Un t\xedtulo descriptivo para identificar esta solicitud"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Prioridad"}),(0,Ka.jsxs)("select",{value:p,onChange:e=>m(e.target.value),children:[(0,Ka.jsx)("option",{value:"low",children:"Baja"}),(0,Ka.jsx)("option",{value:"medium",children:"Media"}),(0,Ka.jsx)("option",{value:"high",children:"Alta"}),(0,Ka.jsx)("option",{value:"urgent",children:"Urgente"})]}),(0,Ka.jsx)("p",{className:"help-text",children:"Indica la urgencia de esta solicitud"})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n Espec\xedfica del Contrato"}),(0,Ka.jsxs)("p",{className:"section-description",children:["Completa la siguiente informaci\xf3n para tu ",n.name]}),(0,Ka.jsx)(wr,{questions:n.questionnaire,answers:h,onChange:(e,t)=>{if(f(u(u({},h),{},{[e]:t})),g[e]){const t=u({},g);delete t[e],v(t)}},errors:g})]}),(0,Ka.jsxs)("div",{className:"form-actions",children:[(0,Ka.jsx)("button",{type:"button",className:"btn-secondary",onClick:x,children:"Cancelar"}),(0,Ka.jsx)("button",{type:"submit",className:"btn-primary",disabled:i,children:i?"Enviando...":"Enviar Solicitud"})]})]})]}):(0,Ka.jsxs)("div",{className:"categories-selection",children:[(0,Ka.jsx)("h2",{children:"Selecciona el tipo de contrato"}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay categor\xedas disponibles"}),(0,Ka.jsx)("p",{children:"Contacta a un administrador para crear categor\xedas de contratos"})]}):(0,Ka.jsx)("div",{className:"categories-grid",children:e.map(e=>(0,Ka.jsxs)("div",{className:"category-option",style:{borderColor:e.color},onClick:()=>(e=>{a(e),f({}),v({}),d("".concat(e.name," - "))})(e),children:[(0,Ka.jsx)("div",{className:"category-icon",style:{backgroundColor:e.color+"20",color:e.color},children:"\ud83d\udccb"}),(0,Ka.jsx)("h3",{children:e.name}),(0,Ka.jsx)("p",{children:e.description}),(0,Ka.jsxs)("div",{className:"category-info",children:[(0,Ka.jsxs)("span",{className:"badge",children:[e.questionnaire.length," preguntas"]}),e.template&&(0,Ka.jsxs)("span",{className:"badge badge-info",children:["Plantilla: ",e.template.name]})]})]},e._id))})]})]})},_r=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)("pending"),[l,o]=(0,r.useState)(!0),[i,s]=(0,r.useState)(null),[c,d]=(0,r.useState)("");(0,r.useEffect)(()=>{u()},[n]);const u=async()=>{try{const e="pending"===n?"/supplier-approvals/pending":"/supplier-approvals/all",a=await Qa.get(e);t(a.data)}catch(e){console.error("Error fetching suppliers:",e)}finally{o(!1)}},p=e=>{const t={pending:{bg:"#fef3c7",color:"#92400e",text:"Pendiente"},approved:{bg:"#d1fae5",color:"#065f46",text:"Aprobado"},rejected:{bg:"#fee2e2",color:"#991b1b",text:"Rechazado"}}[e];return(0,Ka.jsx)("span",{className:"status-badge",style:{background:t.bg,color:t.color},children:t.text})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando terceros..."}):(0,Ka.jsxs)("div",{className:"supplier-approvals",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h1",{children:"Aprobaci\xf3n de Terceros"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Revisa y aprueba terceros creados por usuarios"})]}),(0,Ka.jsxs)("div",{className:"filter-buttons",children:[(0,Ka.jsx)("button",{onClick:()=>a("pending"),className:"pending"===n?"btn-primary":"btn-secondary",children:"Pendientes"}),(0,Ka.jsx)("button",{onClick:()=>a("all"),className:"all"===n?"btn-primary":"btn-secondary",children:"Todos"})]})]}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsxs)("h3",{children:["No hay terceros ","pending"===n?"pendientes":""]}),(0,Ka.jsx)("p",{children:"pending"===n?"Todos los terceros han sido revisados":"No hay terceros registrados"})]}):(0,Ka.jsx)("div",{className:"suppliers-list",children:e.map(e=>(0,Ka.jsxs)("div",{className:"supplier-card","data-status":e.approval_status,children:[(0,Ka.jsxs)("div",{className:"supplier-header",children:[(0,Ka.jsxs)("div",{className:"supplier-info",children:[(0,Ka.jsx)("h3",{children:e.legal_name}),(0,Ka.jsxs)("div",{className:"supplier-meta",children:[(0,Ka.jsxs)("span",{children:[(0,Ka.jsxs)("strong",{children:[e.identification_type,":"]})," ",e.identification_number]}),(0,Ka.jsx)("span",{children:"\u2022"}),(0,Ka.jsxs)("span",{children:[(0,Ka.jsx)("strong",{children:"Representante:"})," ",e.legal_representative_name]})]}),e.email&&(0,Ka.jsxs)("p",{className:"supplier-contact",children:["\ud83d\udce7 ",e.email]}),e.phone&&(0,Ka.jsxs)("p",{className:"supplier-contact",children:["\ud83d\udcde ",e.phone]}),(0,Ka.jsxs)("p",{className:"supplier-created",children:["Creado por ",(0,Ka.jsx)("strong",{children:e.created_by.name})," el ",new Date(e.createdAt).toLocaleDateString()]}),e.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice",children:[(0,Ka.jsx)("strong",{children:"Raz\xf3n del rechazo:"})," ",e.rejection_reason]})]}),(0,Ka.jsx)("div",{className:"supplier-status",children:p(e.approval_status)})]}),"pending"===e.approval_status&&(0,Ka.jsxs)("div",{className:"supplier-actions",children:[(0,Ka.jsx)("button",{className:"btn-approve",onClick:()=>(async e=>{if(window.confirm("\xbfAprobar este tercero?"))try{await Qa.post("/supplier-approvals/".concat(e,"/approve")),alert("Tercero aprobado exitosamente"),u()}catch(a){var t,n;alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al aprobar")}})(e._id),children:"\u2713 Aprobar"}),(0,Ka.jsx)("button",{className:"btn-reject",onClick:()=>s(e._id),children:"\xd7 Rechazar"})]}),i===e._id&&(0,Ka.jsxs)("div",{className:"rejection-form",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n del rechazo:"}),(0,Ka.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:3,placeholder:"Explica por qu\xe9 se rechaza este tercero..."}),(0,Ka.jsxs)("div",{className:"rejection-actions",children:[(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(c.trim())try{await Qa.post("/supplier-approvals/".concat(e,"/reject"),{rejection_reason:c}),alert("Tercero rechazado"),s(null),d(""),u()}catch(a){var t,n;alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al rechazar")}else alert("Debes proporcionar una raz\xf3n del rechazo")})(e._id),children:"Confirmar Rechazo"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{s(null),d("")},children:"Cancelar"})]})]})]},e._id))})]})},Sr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[i,s]=(0,r.useState)(""),[c,d]=(0,r.useState)("");(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=await Qa.get("/contract-requests-v2");t(e.data)}catch(e){console.error("Error fetching requests:",e)}finally{o(!1)}},p=e=>{const t={pending:{bg:"#fef3c7",color:"#92400e",text:"Pendiente"},in_review:{bg:"#dbeafe",color:"#1e40af",text:"En Revisi\xf3n"},approved:{bg:"#d1fae5",color:"#065f46",text:"Aprobado"},rejected:{bg:"#fee2e2",color:"#991b1b",text:"Rechazado"},completed:{bg:"#d1fae5",color:"#065f46",text:"Completado"}}[e];return(0,Ka.jsx)("span",{className:"status-badge",style:{background:t.bg,color:t.color},children:t.text})},m=e=>{const t={low:{bg:"#e5e7eb",color:"#374151",text:"Baja"},medium:{bg:"#fef3c7",color:"#92400e",text:"Media"},high:{bg:"#fed7aa",color:"#9a3412",text:"Alta"},urgent:{bg:"#fecaca",color:"#991b1b",text:"Urgente"}}[e];return(0,Ka.jsx)("span",{className:"priority-badge",style:{background:t.bg,color:t.color},children:t.text})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando solicitudes..."}):(0,Ka.jsxs)("div",{className:"contract-request-approvals",children:[(0,Ka.jsx)("div",{className:"page-header",children:(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h1",{children:"Aprobaci\xf3n de Solicitudes"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Revisa y aprueba solicitudes de contratos"})]})}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay solicitudes"}),(0,Ka.jsx)("p",{children:"Las solicitudes aparecer\xe1n aqu\xed cuando sean creadas"})]}):(0,Ka.jsx)("div",{className:"requests-list",children:e.map(e=>(0,Ka.jsx)("div",{className:"request-card","data-status":e.status,children:(0,Ka.jsxs)("div",{className:"request-header",children:[(0,Ka.jsxs)("div",{className:"request-info",children:[(0,Ka.jsx)("h3",{children:e.title}),(0,Ka.jsxs)("div",{className:"request-badges",children:[(0,Ka.jsx)("span",{className:"category-badge",style:{background:e.category.color+"20",color:e.category.color},children:e.category.name}),m(e.priority),p(e.status)]}),(0,Ka.jsxs)("p",{className:"request-meta",children:["Solicitado por ",(0,Ka.jsx)("strong",{children:e.requester.name})," \u2022"," ",new Date(e.createdAt).toLocaleDateString()]}),e.assigned_lawyer&&(0,Ka.jsxs)("p",{className:"request-assigned",children:["Asignado a: ",(0,Ka.jsx)("strong",{children:e.assigned_lawyer.name})]})]}),(0,Ka.jsxs)("div",{className:"request-actions",children:["pending"===e.status&&(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{await Qa.post("/contract-requests-v2/".concat(e,"/assign"),{}),alert("Solicitud asignada a ti"),u()}catch(a){var t,n;alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al asignar")}})(e._id),children:"Asignarme"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>a(e),children:"Ver Detalles"})]})]})},e._id))}),n&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>a(null),children:(0,Ka.jsxs)("div",{className:"modal modal-large",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:n.title}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>a(null),children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"request-detail-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"detail-grid",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Categor\xeda:"}),(0,Ka.jsx)("span",{children:n.category.name})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Prioridad:"}),m(n.priority)]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Estado:"}),p(n.status)]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Solicitante:"}),(0,Ka.jsx)("span",{children:n.requester.name})]})]})]}),(0,Ka.jsxs)("div",{className:"request-detail-section",children:[(0,Ka.jsx)("h4",{children:"Respuestas del Cuestionario"}),(0,Ka.jsx)("div",{className:"questionnaire-answers",children:n.category.questionnaire.map(e=>{const t=n.questionnaire_answers[e.field_name];return(0,Ka.jsxs)("div",{className:"answer-row",children:[(0,Ka.jsxs)("label",{children:[e.question,":"]}),(0,Ka.jsx)("span",{children:Array.isArray(t)?t.join(", "):"boolean"===typeof t?t?"S\xed":"No":t||"N/A"})]},e.field_name)})})]}),n.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice",children:[(0,Ka.jsx)("strong",{children:"Raz\xf3n del rechazo:"})," ",n.rejection_reason]}),("in_review"===n.status||"pending"===n.status)&&(0,Ka.jsxs)("div",{className:"approval-section",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Notas Legales (opcional):"}),(0,Ka.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:3,placeholder:"Agrega notas o comentarios legales..."})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n del Rechazo (si aplica):"}),(0,Ka.jsx)("textarea",{value:i,onChange:e=>s(e.target.value),rows:3,placeholder:"Explica por qu\xe9 se rechaza esta solicitud..."})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-approve",onClick:()=>(async e=>{if(window.confirm("\xbfAprobar y generar contrato autom\xe1ticamente?"))try{await Qa.post("/contract-requests-v2/".concat(e,"/approve"),{legal_notes:c}),alert("\xa1Contrato generado exitosamente!"),a(null),d(""),u()}catch(r){var t,n;alert((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al aprobar")}})(n._id),children:"\u2713 Aprobar y Generar Contrato"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(i.trim())try{await Qa.post("/contract-requests-v2/".concat(e,"/reject"),{rejection_reason:i}),alert("Solicitud rechazada"),a(null),s(""),u()}catch(r){var t,n;alert((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al rechazar")}else alert("Proporciona una raz\xf3n del rechazo")})(n._id),disabled:!i.trim(),children:"\xd7 Rechazar Solicitud"})]})]}),("completed"===n.status||"approved"===n.status)&&(0,Ka.jsx)("div",{className:"success-notice",children:"\u2713 Esta solicitud ya fue aprobada y el contrato fue generado"}),"rejected"===n.status&&(0,Ka.jsx)("div",{className:"rejection-notice",children:"Esta solicitud fue rechazada"})]}),(0,Ka.jsx)("div",{className:"modal-footer",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>a(null),children:"Cerrar"})})]})})]})},kr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[i,s]=(0,r.useState)("all");(0,r.useEffect)(()=>{c()},[i]);const c=async()=>{try{const e="all"!==i?{status:i}:{},n=await Qa.get("/contract-requests-v2",{params:e});t(n.data)}catch(e){console.error("Error fetching requests:",e)}finally{o(!1)}},d=e=>{const t={pending:{bg:"#fef3c7",color:"#92400e",text:"Pendiente",icon:"\u23f3"},in_review:{bg:"#dbeafe",color:"#1e40af",text:"En Revisi\xf3n",icon:"\ud83d\udc41\ufe0f"},approved:{bg:"#d1fae5",color:"#065f46",text:"Aprobado",icon:"\u2705"},rejected:{bg:"#fee2e2",color:"#991b1b",text:"Rechazado",icon:"\u274c"},completed:{bg:"#d1fae5",color:"#065f46",text:"Completado",icon:"\ud83c\udf89"}}[e];return(0,Ka.jsxs)("span",{className:"status-badge",style:{background:t.bg,color:t.color},children:[t.icon," ",t.text]})},u=e=>{const t={low:{bg:"#e5e7eb",color:"#374151",text:"Baja"},medium:{bg:"#fef3c7",color:"#92400e",text:"Media"},high:{bg:"#fed7aa",color:"#9a3412",text:"Alta"},urgent:{bg:"#fecaca",color:"#991b1b",text:"Urgente"}}[e];return(0,Ka.jsx)("span",{className:"priority-badge",style:{background:t.bg,color:t.color},children:t.text})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando mis solicitudes..."}):(0,Ka.jsxs)("div",{className:"my-contract-requests",children:[(0,Ka.jsx)("div",{className:"page-header",children:(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h1",{children:"Mis Solicitudes de Contratos"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Revisa el estado de tus solicitudes"})]})}),(0,Ka.jsxs)("div",{className:"filter-bar",children:[(0,Ka.jsxs)("button",{className:"all"===i?"filter-btn active":"filter-btn",onClick:()=>s("all"),children:["Todas (",e.length,")"]}),(0,Ka.jsx)("button",{className:"pending"===i?"filter-btn active":"filter-btn",onClick:()=>s("pending"),children:"\u23f3 Pendientes"}),(0,Ka.jsx)("button",{className:"in_review"===i?"filter-btn active":"filter-btn",onClick:()=>s("in_review"),children:"\ud83d\udc41\ufe0f En Revisi\xf3n"}),(0,Ka.jsx)("button",{className:"approved"===i?"filter-btn active":"filter-btn",onClick:()=>s("approved"),children:"\u2705 Aprobadas"}),(0,Ka.jsx)("button",{className:"rejected"===i?"filter-btn active":"filter-btn",onClick:()=>s("rejected"),children:"\u274c Rechazadas"})]}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay solicitudes"}),(0,Ka.jsx)("p",{children:"all"===i?"A\xfan no has creado ninguna solicitud de contrato":'No tienes solicitudes con estado "'.concat(i,'"')})]}):(0,Ka.jsx)("div",{className:"requests-grid",children:e.map(e=>{return(0,Ka.jsxs)("div",{className:"request-card","data-status":e.status,children:[(0,Ka.jsxs)("div",{className:"card-header",children:[(0,Ka.jsx)("div",{className:"category-badge",style:{backgroundColor:e.category.color+"20",color:e.category.color},children:e.category.name}),d(e.status)]}),(0,Ka.jsx)("h3",{className:"request-title",children:e.title}),(0,Ka.jsxs)("div",{className:"request-meta",children:[(0,Ka.jsxs)("div",{className:"meta-item",children:[(0,Ka.jsx)("span",{className:"meta-label",children:"Prioridad:"}),u(e.priority)]}),(0,Ka.jsxs)("div",{className:"meta-item",children:[(0,Ka.jsx)("span",{className:"meta-label",children:"Fecha:"}),(0,Ka.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),e.assigned_lawyer&&(0,Ka.jsxs)("div",{className:"meta-item",children:[(0,Ka.jsx)("span",{className:"meta-label",children:"Asignado a:"}),(0,Ka.jsx)("span",{children:e.assigned_lawyer.name})]})]}),(0,Ka.jsx)("div",{className:"status-description",children:(0,Ka.jsx)("p",{children:(t=e.status,{pending:"Tu solicitud est\xe1 en la cola esperando ser asignada a un abogado",in_review:"Un abogado est\xe1 revisando tu solicitud",approved:"Tu solicitud fue aprobada y el contrato ha sido generado",rejected:"Tu solicitud fue rechazada",completed:"El proceso est\xe1 completo"}[t])})}),e.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice",children:[(0,Ka.jsx)("strong",{children:"Raz\xf3n del rechazo:"}),(0,Ka.jsx)("p",{children:e.rejection_reason})]}),e.generated_contract&&(0,Ka.jsxs)("div",{className:"contract-notice",children:[(0,Ka.jsx)("strong",{children:"\u2705 Contrato generado:"}),(0,Ka.jsxs)("p",{children:["N\xfamero: ",e.generated_contract.contract_number]})]}),(0,Ka.jsx)("div",{className:"card-actions",children:(0,Ka.jsx)("button",{className:"btn-view",onClick:()=>a(e),children:"Ver Detalles"})})]},e._id);var t})}),n&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>a(null),children:(0,Ka.jsxs)("div",{className:"modal modal-large",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h3",{children:n.title}),(0,Ka.jsx)("div",{style:{marginTop:"0.5rem"},children:d(n.status)})]}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>a(null),children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"detail-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"detail-grid",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Categor\xeda:"}),(0,Ka.jsx)("span",{children:n.category.name})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Prioridad:"}),u(n.priority)]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Fecha de solicitud:"}),(0,Ka.jsx)("span",{children:new Date(n.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),n.assigned_lawyer&&(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Abogado asignado:"}),(0,Ka.jsx)("span",{children:n.assigned_lawyer.name})]})]})]}),(0,Ka.jsxs)("div",{className:"detail-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n Proporcionada"}),(0,Ka.jsx)("div",{className:"answers-list",children:Object.entries(n.questionnaire_answers).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("div",{className:"answer-item",children:[(0,Ka.jsxs)("label",{children:[t.replace(/_/g," "),":"]}),(0,Ka.jsx)("span",{children:Array.isArray(n)?n.join(", "):"boolean"===typeof n?n?"S\xed":"No":n||"N/A"})]},t)})})]}),n.legal_notes&&(0,Ka.jsxs)("div",{className:"detail-section",children:[(0,Ka.jsx)("h4",{children:"Notas Legales"}),(0,Ka.jsx)("div",{className:"legal-notes",children:(0,Ka.jsx)("p",{children:n.legal_notes})})]}),n.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice-detail",children:[(0,Ka.jsx)("h4",{children:"Raz\xf3n del Rechazo"}),(0,Ka.jsx)("p",{children:n.rejection_reason})]}),n.generated_contract&&(0,Ka.jsxs)("div",{className:"contract-notice-detail",children:[(0,Ka.jsx)("h4",{children:"\u2705 Contrato Generado"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"N\xfamero de contrato:"})," ",n.generated_contract.contract_number]}),(0,Ka.jsx)("p",{className:"help-text",children:"El contrato ha sido generado y est\xe1 disponible en la secci\xf3n de Contratos"})]})]}),(0,Ka.jsx)("div",{className:"modal-footer",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>a(null),children:"Cerrar"})})]})})]})},Er=()=>{const{selectedCompanyId:e,selectedCompanyName:t,userCompanies:n,selectCompany:a,currentRoles:l}=tr(),[o,i]=(0,r.useState)(!1),s=l.includes("super_admin");return n.length<=1&&!s?(0,Ka.jsx)("div",{className:"company-switcher-single",children:(0,Ka.jsx)("span",{className:"menu-icon",children:"\u2630"})}):(0,Ka.jsxs)("div",{className:"company-switcher",children:[(0,Ka.jsx)("button",{className:"company-switcher-button",onClick:()=>i(!o),"aria-expanded":o,title:"Cambiar empresa",children:(0,Ka.jsx)("span",{className:"menu-icon",children:"\u2630"})}),o&&(0,Ka.jsxs)("div",{className:"company-dropdown",children:[(0,Ka.jsxs)("div",{className:"dropdown-header",children:[(0,Ka.jsxs)("div",{className:"dropdown-header-content",children:[(0,Ka.jsx)("span",{className:"dropdown-title",children:"Empresas"}),(0,Ka.jsx)("span",{className:"dropdown-current",children:t})]}),(0,Ka.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\u2715"})]}),(0,Ka.jsxs)("div",{className:"company-list",children:[l.includes("super_admin")&&(0,Ka.jsxs)("button",{className:"company-item ".concat("ALL"===e?"active":""),onClick:()=>{a("ALL"),i(!1)},children:[(0,Ka.jsxs)("div",{className:"company-item-details",children:[(0,Ka.jsx)("span",{className:"company-item-name",children:"\ud83c\udf10 Todas las empresas"}),(0,Ka.jsx)("span",{className:"company-item-roles",children:"Vista Global"})]}),"ALL"===e&&(0,Ka.jsx)("span",{className:"check-icon",children:"\u2713"})]},"ALL"),n.map(t=>(0,Ka.jsxs)("button",{className:"company-item ".concat(e===t.companyId?"active":""),onClick:()=>{a(t.companyId),i(!1)},children:[(0,Ka.jsxs)("div",{className:"company-item-details",children:[(0,Ka.jsx)("span",{className:"company-item-name",children:t.companyName}),(0,Ka.jsx)("span",{className:"company-item-roles",children:t.roles.join(", ")})]}),e===t.companyId&&(0,Ka.jsx)("span",{className:"check-icon",children:"\u2713"})]},t.companyId))]})]}),o&&(0,Ka.jsx)("div",{className:"company-dropdown-overlay",onClick:()=>i(!1)})]})},Tr=()=>{const{user:e,logout:t}=Ya(),n=me(),[a,l]=(0,r.useState)(!1),o=(0,r.useRef)(null),i=e=>n.pathname===e;(0,r.useEffect)(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const s=["/companies","/user-management","/company-users","/third-parties","/contract-categories","/admin"].some(e=>n.pathname===e);return(0,Ka.jsxs)("nav",{className:"navbar",children:[(0,Ka.jsxs)("div",{className:"navbar-left",children:[(0,Ka.jsx)(Er,{}),(0,Ka.jsx)("div",{className:"navbar-brand",children:(0,Ka.jsx)(vt,{to:"/dashboard",children:"Legal Bot"})})]}),(0,Ka.jsxs)("div",{className:"navbar-links",children:[(0,Ka.jsx)(vt,{to:"/dashboard",className:i("/dashboard")?"active":"",children:"Dashboard"}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsx)(vt,{to:"/unified-templates",className:i("/unified-templates")?"active":"",children:"\ud83d\ude80 Contratos"})}),(0,Ka.jsx)(ar,{allowedRoles:["requester"],children:(0,Ka.jsx)(vt,{to:"/contract-request",className:i("/contract-request")?"active":"",children:"Solicitar Contrato"})}),(0,Ka.jsx)(ar,{allowedRoles:["requester"],children:(0,Ka.jsx)(vt,{to:"/my-requests",className:i("/my-requests")?"active":"",children:"Mis Solicitudes"})}),(0,Ka.jsx)(ar,{allowedRoles:["lawyer","admin","super_admin"],children:(0,Ka.jsx)(vt,{to:"/supplier-approvals",className:i("/supplier-approvals")?"active":"",children:"Aprobar Terceros"})}),(0,Ka.jsx)(ar,{allowedRoles:["lawyer","admin","super_admin"],children:(0,Ka.jsx)(vt,{to:"/contract-approvals",className:i("/contract-approvals")?"active":"",children:"Aprobar Solicitudes"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin"],children:(0,Ka.jsxs)("div",{className:"navbar-dropdown",ref:o,children:[(0,Ka.jsxs)("button",{className:"navbar-dropdown-button ".concat(s?"active":""),onClick:()=>l(!a),children:["Administraci\xf3n",(0,Ka.jsx)("span",{className:"dropdown-arrow ".concat(a?"open":""),children:"\u25bc"})]}),a&&(0,Ka.jsxs)("div",{className:"navbar-dropdown-menu",children:[(0,Ka.jsx)(ar,{allowedRoles:["super_admin"],children:(0,Ka.jsx)(vt,{to:"/companies",className:i("/companies")?"active":"",onClick:()=>l(!1),children:"Empresas"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin"],children:(0,Ka.jsx)(vt,{to:"/user-management",className:i("/user-management")?"active":"",onClick:()=>l(!1),children:"Gesti\xf3n de Usuarios"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin"],children:(0,Ka.jsx)(vt,{to:"/company-users",className:i("/company-users")?"active":"",onClick:()=>l(!1),children:"Relaciones Empresa-Usuario"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin"],children:(0,Ka.jsx)(vt,{to:"/third-parties",className:i("/third-parties")?"active":"",onClick:()=>l(!1),children:"Creaci\xf3n de Terceros"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin"],children:(0,Ka.jsx)(vt,{to:"/contract-categories",className:i("/contract-categories")?"active":"",onClick:()=>l(!1),children:"Categor\xedas de Contratos"})})]})]})})]}),(0,Ka.jsxs)("div",{className:"navbar-user",children:[(0,Ka.jsxs)("span",{children:["Hola, ",(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)]}),(0,Ka.jsx)("button",{onClick:t,className:"logout-btn",children:"Cerrar Sesi\xf3n"})]})]})},Pr=e=>{let{children:t}=e;const{isAuthenticated:n}=Ya();return n?(0,Ka.jsx)(Ka.Fragment,{children:t}):(0,Ka.jsx)(Ae,{to:"/login"})},Rr=()=>{const{isAuthenticated:e}=Ya();return(0,Ka.jsxs)("div",{className:"App",children:[e&&(0,Ka.jsx)(Tr,{}),(0,Ka.jsx)("main",{className:"main-content",children:(0,Ka.jsxs)(De,{children:[(0,Ka.jsx)(ze,{path:"/login",element:e?(0,Ka.jsx)(Ae,{to:"/dashboard"}):(0,Ka.jsx)(Za,{})}),(0,Ka.jsx)(ze,{path:"/dashboard",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(rr,{})})}),(0,Ka.jsx)(ze,{path:"/contracts",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(lr,{})})}),(0,Ka.jsx)(ze,{path:"/contract-generator",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(or,{})})}),(0,Ka.jsx)(ze,{path:"/templates",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(ur,{})})}),(0,Ka.jsx)(ze,{path:"/unified-templates",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(hr,{})})}),(0,Ka.jsx)(ze,{path:"/companies",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(fr,{})})}),(0,Ka.jsx)(ze,{path:"/user-management",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(gr,{})})}),(0,Ka.jsx)(ze,{path:"/company-users",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(vr,{})})}),(0,Ka.jsx)(ze,{path:"/third-parties",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(jr,{})})}),(0,Ka.jsx)(ze,{path:"/contract-categories",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(Nr,{})})}),(0,Ka.jsx)(ze,{path:"/contract-request",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(Cr,{})})}),(0,Ka.jsx)(ze,{path:"/my-requests",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(kr,{})})}),(0,Ka.jsx)(ze,{path:"/supplier-approvals",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(_r,{})})}),(0,Ka.jsx)(ze,{path:"/contract-approvals",element:(0,Ka.jsx)(Pr,{children:(0,Ka.jsx)(Sr,{})})}),(0,Ka.jsx)(ze,{path:"/suppliers",element:(0,Ka.jsx)(Ae,{to:"/third-parties",replace:!0})}),(0,Ka.jsx)(ze,{path:"/third-party-types",element:(0,Ka.jsx)(Ae,{to:"/third-parties",replace:!0})}),(0,Ka.jsx)(ze,{path:"/",element:(0,Ka.jsx)(Ae,{to:e?"/dashboard":"/login"})})]})})]})},Lr=()=>(0,Ka.jsx)(Xa,{children:(0,Ka.jsx)(nr,{children:(0,Ka.jsx)(ft,{children:(0,Ka.jsx)(Rr,{})})})});l.createRoot(document.getElementById("root")).render((0,Ka.jsx)(r.StrictMode,{children:(0,Ka.jsx)(Lr,{})}))})();
//# sourceMappingURL=main.8a276e32.js.map