/*! For license information please see main.cc3e0d92.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),r=n(43),l=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(s(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var m=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case x:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case j:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var A=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},F=[],I=-1;function q(e){return{current:e}}function M(e){0>I||(e.current=F[I],F[I]=null,I--)}function U(e,t){I++,F[I]=e.current,e.current=t}var B,H,V=q(null),W=q(null),G=q(null),$=q(null);function Q(e,t){switch(U(G,t),U(W,e),U(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=xu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(V),U(V,e)}function K(){M(V),M(W),M(G)}function J(e){null!==e.memoizedState&&U($,e);var t=V.current,n=xu(t,e.type);t!==n&&(U(W,e),U(V,n))}function Y(e){W.current===e&&(M(V),M(W)),$.current===e&&(M($),dp._currentValue=D)}function X(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){a=l}e.call(n.prototype)}}else{try{throw Error()}catch(s){a=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),s=l[0],i=l[1];if(s&&i){var o=s.split("\n"),c=i.split("\n");for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===c.length)for(a=o.length-1,r=c.length-1;1<=a&&0<=r&&o[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||o[a]!==c[r]){var d="\n"+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,re=a.unstable_scheduleCallback,le=a.unstable_cancelCallback,se=a.unstable_shouldYield,ie=a.unstable_requestPaint,oe=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,me=a.unstable_LowPriority,he=a.unstable_IdlePriority,fe=a.log,ge=a.unstable_setDisableYieldValue,ve=null,xe=null;function ye(e){if("function"===typeof fe&&ge(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var _e=256,we=262144,Ce=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~l)?r=Se(a):0!==(s&=i)?r=Se(s):n||0!==(n=i&~e)&&(r=Se(n)):0!==(i=a&~l)?r=Se(i):0!==s?r=Se(s):n||0!==(n=a&~e)&&(r=Se(n)),0===r?0:0!==t&&t!==r&&0===(t&l)&&((l=r&-r)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-be(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-be(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Sp(e.type)}function qe(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Me=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Me,Be="__reactProps$"+Me,He="__reactContainer$"+Me,Ve="__reactEvents$"+Me,We="__reactListeners$"+Me,Ge="__reactHandles$"+Me,$e="__reactResources$"+Me,Qe="__reactMarker$"+Me;function Ke(e){delete e[Ue],delete e[Be],delete e[Ve],delete e[We],delete e[Ge]}function Je(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Du(e);null!==e;){if(n=e[Ue])return n;e=Du(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function at(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},it={};function ot(e,t,n){if(r=t,ae.call(it,r)||!ae.call(st,r)&&(lt.test(r)?it[r]=!0:(st[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=pt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,a,r,l,s,i){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,ut(t)):null!=n?bt(e,s,ut(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=l&&(e.defaultChecked=!!l),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ut(i):e.removeAttribute("name")}function yt(e,t,n,a,r,l,s,i){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return void mt(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:r)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),mt(e)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function jt(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(A(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),mt(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&St(e,r,a)}else for(var l in t)t.hasOwnProperty(l)&&St(e,l,t[l])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var At=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Dt=null;function Ft(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[Be]||null;if(!r)throw Error(s(90));xt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ht(a)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}}var It=!1;function qt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Ot||null!==Dt)&&(Zc(),Ot&&(t=Ot,e=Dt,Dt=Ot=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Be]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Yp){Bt=!1}var Vt=null,Wt=null,Gt=null;function $t(){if(Gt)return Gt;var e,t,n=Wt,a=n.length,r="value"in Vt?Vt.value:Vt.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[l-t];t++);return Gt=r.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Jt(){return!1}function Yt(e){function t(t,n,a,r,l){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Jt,this.isPropagationStopped=Jt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Yt(tn),an=m({},tn,{view:0,detail:0}),rn=Yt(an),ln=m({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Yt(ln),on=Yt(m({},ln,{dataTransfer:0})),cn=Yt(m({},an,{relatedTarget:0})),dn=Yt(m({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Yt(m({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Yt(m({},tn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function vn(){return gn}var xn=Yt(m({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Yt(m({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Yt(m({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),jn=Yt(m({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Yt(m({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Yt(m({},tn,{newState:0,oldState:0})),wn=[9,13,27,32],Cn=Ut&&"CompositionEvent"in window,Sn=null;Ut&&"documentMode"in document&&(Sn=document.documentMode);var kn=Ut&&"TextEvent"in window&&!Sn,En=Ut&&(!Cn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Pn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Dn(e,t,n,a){Ot?Dt?Dt.push(a):Dt=[a]:Ot=a,0<(t=au(t,"onChange")).length&&(n=new nn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Fn=null,In=null;function qn(e){Kd(e,0)}function Mn(e){if(ht(Xe(e)))return e}function Un(e,t){if("change"===e)return t}var Bn=!1;if(Ut){var Hn;if(Ut){var Vn="oninput"in document;if(!Vn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Vn="function"===typeof Wn.oninput}Hn=Vn}else Hn=!1;Bn=Hn&&(!document.documentMode||9<document.documentMode)}function Gn(){Fn&&(Fn.detachEvent("onpropertychange",$n),In=Fn=null)}function $n(e){if("value"===e.propertyName&&Mn(In)){var t=[];Dn(t,In,e,zt(e)),qt(qn,t)}}function Qn(e,t,n){"focusin"===e?(Gn(),In=n,(Fn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Gn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(In)}function Jn(e,t){if("click"===e)return Mn(t)}function Yn(e,t){if("input"===e||"change"===e)return Mn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!ae.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function na(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?na(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function aa(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var la=Ut&&"documentMode"in document&&11>=document.documentMode,sa=null,ia=null,oa=null,ca=!1;function da(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ca||null==sa||sa!==ft(a)||("selectionStart"in(a=sa)&&ra(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},oa&&Zn(oa,a)||(oa=a,0<(a=au(ia,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sa)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ma={},ha={};function fa(e){if(ma[e])return ma[e];if(!pa[e])return e;var t,n=pa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ha)return ma[e]=n[t];return e}Ut&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);var ga=fa("animationend"),va=fa("animationiteration"),xa=fa("animationstart"),ya=fa("transitionrun"),ba=fa("transitionstart"),ja=fa("transitioncancel"),Na=fa("transitionend"),_a=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(e,t){_a.set(e,t),at(t,[e])}wa.push("scrollEnd");var Sa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},ka=[],Ea=0,Ta=0;function Pa(){for(var e=Ea,t=Ta=Ea=0;t<e;){var n=ka[t];ka[t++]=null;var a=ka[t];ka[t++]=null;var r=ka[t];ka[t++]=null;var l=ka[t];if(ka[t++]=null,null!==a&&null!==r){var s=a.pending;null===s?r.next=r:(r.next=s.next,s.next=r),a.pending=r}0!==l&&za(n,r,l)}}function La(e,t,n,a){ka[Ea++]=e,ka[Ea++]=t,ka[Ea++]=n,ka[Ea++]=a,Ta|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ra(e,t,n,a){return La(e,t,n,a),Oa(e)}function Aa(e,t){return La(e,null,null,t),Oa(e)}function za(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(a=l.alternate)&&(a.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(r=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,r&&null!==t&&(r=31-be(n),null===(a=(e=l.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),l):null}function Oa(e){if(50<Vc)throw Vc=0,Wc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Da={};function Fa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,n,a){return new Fa(e,t,n,a)}function qa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ma(e,t){var n=e.alternate;return null===n?((n=Ia(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ua(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,a,r,l){var i=0;if(a=e,"function"===typeof e)qa(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ia(31,n,t,r)).elementType=k,e.lanes=l,e;case v:return Ha(n.children,r,l,t);case x:i=8,r|=24;break;case y:return(e=Ia(12,n,t,2|r)).elementType=y,e.lanes=l,e;case _:return(e=Ia(13,n,t,r)).elementType=_,e.lanes=l,e;case w:return(e=Ia(19,n,t,r)).elementType=w,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:i=10;break e;case b:i=9;break e;case N:i=11;break e;case C:i=14;break e;case S:i=16,a=null;break e}i=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=Ia(i,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Ha(e,t,n,a){return(e=Ia(7,e,a,t)).lanes=n,e}function Va(e,t,n){return(e=Ia(6,e,null,t)).lanes=n,e}function Wa(e){var t=Ia(18,null,null,0);return t.stateNode=e,t}function Ga(e,t,n){return(t=Ia(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $a=new WeakMap;function Qa(e,t){if("object"===typeof e&&null!==e){var n=$a.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},$a.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Ka=[],Ja=0,Ya=null,Xa=0,Za=[],er=0,tr=null,nr=1,ar="";function rr(e,t){Ka[Ja++]=Xa,Ka[Ja++]=Ya,Ya=e,Xa=t}function lr(e,t,n){Za[er++]=nr,Za[er++]=ar,Za[er++]=tr,tr=e;var a=nr;e=ar;var r=32-be(a)-1;a&=~(1<<r),n+=1;var l=32-be(t)+r;if(30<l){var s=r-r%5;l=(a&(1<<s)-1).toString(32),a>>=s,r-=s,nr=1<<32-be(t)+r|n<<r|a,ar=l+e}else nr=1<<l|n<<r|a,ar=e}function sr(e){null!==e.return&&(rr(e,1),lr(e,1,0))}function ir(e){for(;e===Ya;)Ya=Ka[--Ja],Ka[Ja]=null,Xa=Ka[--Ja],Ka[Ja]=null;for(;e===tr;)tr=Za[--er],Za[er]=null,ar=Za[--er],Za[er]=null,nr=Za[--er],Za[er]=null}function or(e,t){Za[er++]=nr,Za[er++]=ar,Za[er++]=tr,nr=t.id,ar=t.overflow,tr=e}var cr=null,dr=null,ur=!1,pr=null,mr=!1,hr=Error(s(519));function fr(e){throw jr(Qa(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),hr}function gr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ue]=e,t[Be]=a,n){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(n=0;n<$d.length;n++)Jd($d[n],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),yt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),_t(t,a.value,a.defaultValue,a.children)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||cu(t.textContent,n)?(null!=a.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=a.onScroll&&Jd("scroll",t),null!=a.onScrollEnd&&Jd("scrollend",t),null!=a.onClick&&(t.onclick=Rt),t=!0):t=!1,t||fr(e,!0)}function vr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:cr=cr.return}}function xr(e){if(e!==cr)return!1;if(!ur)return vr(e),ur=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yu(e.type,e.memoizedProps)),t=!t),t&&dr&&fr(e),vr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));dr=Ou(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));dr=Ou(e)}else 27===n?(n=dr,Su(e.type)?(e=zu,zu=null,dr=e):dr=n):dr=cr?Au(e.stateNode.nextSibling):null;return!0}function yr(){dr=cr=null,ur=!1}function br(){var e=pr;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),pr=null),e}function jr(e){null===pr?pr=[e]:pr.push(e)}var Nr=q(null),_r=null,wr=null;function Cr(e,t,n){U(Nr,t._currentValue),t._currentValue=n}function Sr(e){e._currentValue=Nr.current,M(Nr)}function kr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Er(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){var i=r.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),kr(l.return,n,e),a||(i=null);break e}l=o.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),kr(i,n,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function Tr(e,t,n,a){e=null;for(var r=t,l=!1;null!==r;){if(!l)if(0!==(524288&r.flags))l=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var o=r.type;Xn(r.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(r===$.current){if(null===(i=r.alternate))throw Error(s(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(dp):e=[dp])}r=r.return}null!==e&&Er(t,e,n,a),t.flags|=262144}function Pr(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){_r=e,wr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Rr(e){return zr(_r,e)}function Ar(e,t){return null===_r&&Lr(e),zr(e,t)}function zr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wr){if(null===e)throw Error(s(308));wr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wr=wr.next=t;return n}var Or="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Dr=a.unstable_scheduleCallback,Fr=a.unstable_NormalPriority,Ir={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qr(){return{controller:new Or,data:new Map,refCount:0}}function Mr(e){e.refCount--,0===e.refCount&&Dr(Fr,function(){e.controller.abort()})}var Ur=null,Br=0,Hr=0,Vr=null;function Wr(){if(0===--Br&&null!==Ur){null!==Vr&&(Vr.status="fulfilled");var e=Ur;Ur=null,Hr=0,Vr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gr=z.S;z.S=function(e,t){Ac=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ur){var n=Ur=[];Br=0,Hr=Bd(),Vr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Br++,t.then(Wr,Wr)}(0,t),null!==Gr&&Gr(e,t)};var $r=q(null);function Qr(){var e=$r.current;return null!==e?e:hc.pooledCache}function Kr(e,t){U($r,null===t?$r.current:t.pool)}function Jr(){var e=Qr();return null===e?null:{parent:Ir._currentValue,pool:e}}var Yr=Error(s(460)),Xr=Error(s(474)),Zr=Error(s(542)),el={then:function(){}};function tl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nl(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw sl(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sl(e=t.reason),e}throw rl=t,Yr}}function al(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw rl=t,Yr;throw t}}var rl=null;function ll(){if(null===rl)throw Error(s(459));var e=rl;return rl=null,e}function sl(e){if(e===Yr||e===Zr)throw Error(s(483))}var il=null,ol=0;function cl(e){var t=ol;return ol+=1,null===il&&(il=[]),nl(il,e,t)}function dl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ul(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pl(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ma(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Va(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===v?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===S&&al(l)===t.type)?(dl(t=r(t,n.props),n),t.return=e,t):(dl(t=Ba(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ga(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,l){return null===t||7!==t.tag?((t=Ha(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Va(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return dl(n=Ba(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Ga(t,e.mode,n)).return=e,t;case S:return p(e,t=al(t),n)}if(A(t)||P(t))return(t=Ha(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,cl(t),n);if(t.$$typeof===j)return p(e,Ar(e,t),n);ul(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,a):null;case g:return n.key===r?d(e,t,n,a):null;case S:return m(e,t,n=al(n),a)}if(A(n)||P(n))return null!==r?null:u(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,cl(n),a);if(n.$$typeof===j)return m(e,t,Ar(e,n),a);ul(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case g:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case S:return h(e,t,n,a=al(a),r)}if(A(a)||P(a))return u(t,e=e.get(n)||null,a,r,null);if("function"===typeof a.then)return h(e,t,n,cl(a),r);if(a.$$typeof===j)return h(e,t,n,Ar(t,a),r);ul(t,a)}return null}function x(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===v&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===v){if(7===c.tag){n(o,c.sibling),(u=r(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===S&&al(y)===c.type){n(o,c.sibling),dl(u=r(c,d.props),d),u.return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}d.type===v?((u=Ha(d.props.children,o.mode,u,d.key)).return=o,o=u):(dl(u=Ba(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return i(o);case g:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(o,c.sibling),(u=r(c,d.children||[])).return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}(u=Ga(d,o.mode,u)).return=o,o=u}return i(o);case S:return x(o,c,d=al(d),u)}if(A(d))return function(r,s,i,o){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=m(r,u,i[f],o);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(r,u),s=l(v,s,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===i.length)return n(r,u),ur&&rr(r,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(r,i[f],o))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return ur&&rr(r,f),c}for(u=a(u);f<i.length;f++)null!==(g=h(u,r,f,i[f],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),ur&&rr(r,f),c}(o,c,d,u);if(P(d)){if("function"!==typeof(y=P(d)))throw Error(s(150));return function(r,i,o,c){if(null==o)throw Error(s(151));for(var d=null,u=null,f=i,g=i=0,v=null,x=o.next();null!==f&&!x.done;g++,x=o.next()){f.index>g?(v=f,f=null):v=f.sibling;var y=m(r,f,x.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(r,f),i=l(y,i,g),null===u?d=y:u.sibling=y,u=y,f=v}if(x.done)return n(r,f),ur&&rr(r,g),d;if(null===f){for(;!x.done;g++,x=o.next())null!==(x=p(r,x.value,c))&&(i=l(x,i,g),null===u?d=x:u.sibling=x,u=x);return ur&&rr(r,g),d}for(f=a(f);!x.done;g++,x=o.next())null!==(x=h(f,r,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),i=l(x,i,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(r,e)}),ur&&rr(r,g),d}(o,c,d=y.call(d),u)}if("function"===typeof d.then)return x(o,c,cl(d),u);if(d.$$typeof===j)return x(o,c,Ar(o,d),u);ul(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(o,c.sibling),(u=r(c,d)).return=o,o=u):(n(o,c),(u=Va(d,o.mode,u)).return=o,o=u),i(o)):n(o,c)}return function(e,t,n,a){try{ol=0;var r=x(e,t,n,a);return il=null,r}catch(s){if(s===Yr||s===Zr)throw s;var l=Ia(29,s,null,e.mode);return l.lanes=a,l.return=e,l}}}var ml=pl(!0),hl=pl(!1),fl=!1;function gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yl(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&mc)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Oa(e),za(e,null,n),t}return La(e,a,t,n),Oa(e)}function bl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}function jl(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?r=l=s:l=l.next=s,n=n.next}while(null!==n);null===l?r=l=t:l=l.next=t}else r=l=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nl=!1;function _l(){if(Nl){if(null!==Vr)throw Vr}}function wl(e,t,n,a){Nl=!1;var r=e.updateQueue;fl=!1;var l=r.firstBaseUpdate,s=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===s?l=c:s.next=c,s=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==l){var u=r.baseState;for(s=0,d=c=o=null,i=l;;){var p=-536870913&i.lane,h=p!==i.lane;if(h?(gc&p)===p:(a&p)===p){0!==p&&p===Hr&&(Nl=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,g=i;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(v,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(v,u,p):f)||void 0===p)break e;u=m({},u,p);break e;case 2:fl=!0}}null!==(p=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[p]:h.push(p))}else h={lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,s|=p;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===l&&(r.shared.lanes=0),wc|=s,e.lanes=s,e.memoizedState=u}}function Cl(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Sl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Cl(n[e],t)}var kl=q(null),El=q(0);function Tl(e,t){U(El,e=Nc),U(kl,t),Nc=e|t.baseLanes}function Pl(){U(El,Nc),U(kl,kl.current)}function Ll(){Nc=El.current,M(kl),M(El)}var Rl=q(null),Al=null;function zl(e){var t=e.alternate;U(ql,1&ql.current),U(Rl,e),null===Al&&(null===t||null!==kl.current||null!==t.memoizedState)&&(Al=e)}function Ol(e){U(ql,ql.current),U(Rl,e),null===Al&&(Al=e)}function Dl(e){22===e.tag?(U(ql,ql.current),U(Rl,e),null===Al&&(Al=e)):Fl()}function Fl(){U(ql,ql.current),U(Rl,Rl.current)}function Il(e){M(Rl),Al===e&&(Al=null),M(ql)}var ql=q(0);function Ml(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Lu(n)||Ru(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=0,Bl=null,Hl=null,Vl=null,Wl=!1,Gl=!1,$l=!1,Ql=0,Kl=0,Jl=null,Yl=0;function Xl(){throw Error(s(321))}function Zl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function es(e,t,n,a,r,l){return Ul=l,Bl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?fi:gi,$l=!1,l=n(a,r),$l=!1,Gl&&(l=ns(t,n,a,r)),ts(e),l}function ts(e){z.H=hi;var t=null!==Hl&&null!==Hl.next;if(Ul=0,Vl=Hl=Bl=null,Wl=!1,Kl=0,Jl=null,t)throw Error(s(300));null===e||Ri||null!==(e=e.dependencies)&&Pr(e)&&(Ri=!0)}function ns(e,t,n,a){Bl=e;var r=0;do{if(Gl&&(Jl=null),Kl=0,Gl=!1,25<=r)throw Error(s(301));if(r+=1,Vl=Hl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}z.H=vi,l=t(n,a)}while(Gl);return l}function as(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?cs(t):t,e=e.useState()[0],(null!==Hl?Hl.memoizedState:null)!==e&&(Bl.flags|=1024),t}function rs(){var e=0!==Ql;return Ql=0,e}function ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ss(e){if(Wl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wl=!1}Ul=0,Vl=Hl=Bl=null,Gl=!1,Kl=Ql=0,Jl=null}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vl?Bl.memoizedState=Vl=e:Vl=Vl.next=e,Vl}function os(){if(null===Hl){var e=Bl.alternate;e=null!==e?e.memoizedState:null}else e=Hl.next;var t=null===Vl?Bl.memoizedState:Vl.next;if(null!==t)Vl=t,Hl=e;else{if(null===e){if(null===Bl.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Hl=e).memoizedState,baseState:Hl.baseState,baseQueue:Hl.baseQueue,queue:Hl.queue,next:null},null===Vl?Bl.memoizedState=Vl=e:Vl=Vl.next=e}return Vl}function cs(e){var t=Kl;return Kl+=1,null===Jl&&(Jl=[]),e=nl(Jl,e,t),t=Bl,null===(null===Vl?t.memoizedState:Vl.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?fi:gi),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cs(e);if(e.$$typeof===j)return Rr(e)}throw Error(s(438,String(e)))}function us(e){var t=null,n=Bl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Bl.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function ms(e){return hs(os(),Hl,e)}function hs(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,l=a.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}t.baseQueue=r=l,a.pending=null}if(l=e.baseState,null===r)e.memoizedState=l;else{var o=i=null,c=null,d=t=r.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(gc&p)===p:(Ul&p)===p){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Hr&&(u=!0);else{if((Ul&m)===m){d=d.next,m===Hr&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=p,i=l):c=c.next=p,Bl.lanes|=m,wc|=m}p=d.action,$l&&n(l,p),l=d.hasEagerState?d.eagerState:n(l,p)}else m={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=l):c=c.next=m,Bl.lanes|=p,wc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?i=l:c.next=o,!Xn(l,e.memoizedState)&&(Ri=!0,u&&null!==(n=Vr)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=c,a.lastRenderedState=l}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fs(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);Xn(l,t.memoizedState)||(Ri=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function gs(e,t,n){var a=Bl,r=os(),l=ur;if(l){if(void 0===n)throw Error(s(407));n=n()}else n=t();var i=!Xn((Hl||r).memoizedState,n);if(i&&(r.memoizedState=n,Ri=!0),r=r.queue,Us(ys.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||null!==Vl&&1&Vl.memoizedState.tag){if(a.flags|=2048,Ds(9,{destroy:void 0},xs.bind(null,a,r,n,t),null),null===hc)throw Error(s(349));l||0!==(127&Ul)||vs(a,t,n)}return n}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xs(e,t,n,a){t.value=n,t.getSnapshot=a,bs(t)&&js(e)}function ys(e,t,n){return n(function(){bs(t)&&js(e)})}function bs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(a){return!0}}function js(e){var t=Aa(e,2);null!==t&&Qc(t,e,2)}function Ns(e){var t=is();if("function"===typeof e){var n=e;if(e=n(),$l){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function _s(e,t,n,a){return e.baseState=n,hs(e,Hl,"function"===typeof a?a:ps)}function ws(e,t,n,a,r){if(ui(e))throw Error(s(485));if(null!==(e=t.action)){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==z.T?n(!0):l.isTransition=!1,a(l),null===(n=t.pending)?(l.next=t.pending=l,Cs(t,l)):(l.next=n.next,t.pending=n.next=l)}}function Cs(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var l=z.T,s={};z.T=s;try{var i=n(r,a),o=z.S;null!==o&&o(s,i),Ss(e,t,i)}catch(c){Es(e,t,c)}finally{null!==l&&null!==s.types&&(l.types=s.types),z.T=l}}else try{Ss(e,t,l=n(r,a))}catch(d){Es(e,t,d)}}function Ss(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ks(e,t,n)},function(n){return Es(e,t,n)}):ks(e,t,n)}function ks(e,t,n){t.status="fulfilled",t.value=n,Ts(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Cs(e,n)))}function Es(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Ts(t),t=t.next}while(t!==a)}e.action=null}function Ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ps(e,t){return t}function Ls(e,t){if(ur){var n=hc.formState;if(null!==n){e:{var a=Bl;if(ur){if(dr){t:{for(var r=dr,l=mr;8!==r.nodeType;){if(!l){r=null;break t}if(null===(r=Au(r.nextSibling))){r=null;break t}}r="F!"===(l=r.data)||"F"===l?r:null}if(r){dr=Au(r.nextSibling),a="F!"===r.data;break e}}fr(a)}a=!1}a&&(t=n[0])}}return(n=is()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},n.queue=a,n=oi.bind(null,Bl,a),a.dispatch=n,a=Ns(!1),l=di.bind(null,Bl,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=is()).queue=r,n=ws.bind(null,Bl,r,l,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Rs(e){return As(os(),Hl,e)}function As(e,t,n){if(t=hs(e,t,Ps)[0],e=ms(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=cs(t)}catch(s){if(s===Yr)throw Zr;throw s}else a=t;var r=(t=os()).queue,l=r.dispatch;return n!==t.memoizedState&&(Bl.flags|=2048,Ds(9,{destroy:void 0},zs.bind(null,r,n),null)),[a,l,e]}function zs(e,t){e.action=t}function Os(e){var t=os(),n=Hl;if(null!==n)return As(t,n,e);os(),t=t.memoizedState;var a=(n=os()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ds(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Bl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Fs(){return os().memoizedState}function Is(e,t,n,a){var r=is();Bl.flags|=e,r.memoizedState=Ds(1|t,{destroy:void 0},n,void 0===a?null:a)}function qs(e,t,n,a){var r=os();a=void 0===a?null:a;var l=r.memoizedState.inst;null!==Hl&&null!==a&&Zl(a,Hl.memoizedState.deps)?r.memoizedState=Ds(t,l,n,a):(Bl.flags|=e,r.memoizedState=Ds(1|t,l,n,a))}function Ms(e,t){Is(8390656,8,e,t)}function Us(e,t){qs(2048,8,e,t)}function Bs(e){var t=os().memoizedState;return function(e){Bl.flags|=4;var t=Bl.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bl.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return qs(4,2,e,t)}function Vs(e,t){return qs(4,4,e,t)}function Ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,qs(4,4,Ws.bind(null,t,e),n)}function $s(){}function Qs(e,t){var n=os();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Zl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=os();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Zl(t,a[1]))return a[0];if(a=e(),$l){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[a,t],a}function Js(e,t,n){return void 0===n||0!==(1073741824&Ul)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=$c(),Bl.lanes|=e,wc|=e,n)}function Ys(e,t,n,a){return Xn(n,t)?n:null!==kl.current?(e=Js(e,n,a),Xn(e,t)||(Ri=!0),e):0===(42&Ul)||0!==(1073741824&Ul)&&0===(261930&gc)?(Ri=!0,e.memoizedState=n):(e=$c(),Bl.lanes|=e,wc|=e,t)}function Xs(e,t,n,a,r){var l=O.p;O.p=0!==l&&8>l?l:8;var s=z.T,i={};z.T=i,di(e,!1,t,n);try{var o=r(),c=z.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)ci(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(o,a),Gc());else ci(e,t,a,Gc())}catch(d){ci(e,t,{then:function(){},status:"rejected",reason:d},Gc())}finally{O.p=l,null!==s&&null!==i.types&&(s.types=i.types),z.T=s}}function Zs(){}function ei(e,t,n,a){if(5!==e.tag)throw Error(s(476));var r=ti(e).queue;Xs(e,r,t,D,null===n?Zs:function(){return ni(e),n(a)})}function ti(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ni(e){var t=ti(e);null===t.next&&(t=e.alternate.memoizedState),ci(e,t.next.queue,{},Gc())}function ai(){return Rr(dp)}function ri(){return os().memoizedState}function li(){return os().memoizedState}function si(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),a=yl(t,e=xl(n),n);return null!==a&&(Qc(a,t,n),bl(a,t,n)),t={cache:qr()},void(e.payload=t)}t=t.return}}function ii(e,t,n){var a=Gc();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?pi(t,n):null!==(n=Ra(e,t,n,a))&&(Qc(n,e,a),mi(n,t,a))}function oi(e,t,n){ci(e,t,n,Gc())}function ci(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))pi(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=l(s,n);if(r.hasEagerState=!0,r.eagerState=i,Xn(i,s))return La(e,t,r,0),null===hc&&Pa(),!1}catch(o){}if(null!==(n=Ra(e,t,r,a)))return Qc(n,e,a),mi(n,t,a),!0}return!1}function di(e,t,n,a){if(a={lane:2,revertLane:Bd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(s(479))}else null!==(t=Ra(e,n,a,2))&&Qc(t,e,2)}function ui(e){var t=e.alternate;return e===Bl||null!==t&&t===Bl}function pi(e,t){Gl=Wl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mi(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}var hi={readContext:Rr,use:ds,useCallback:Xl,useContext:Xl,useEffect:Xl,useImperativeHandle:Xl,useLayoutEffect:Xl,useInsertionEffect:Xl,useMemo:Xl,useReducer:Xl,useRef:Xl,useState:Xl,useDebugValue:Xl,useDeferredValue:Xl,useTransition:Xl,useSyncExternalStore:Xl,useId:Xl,useHostTransitionStatus:Xl,useFormState:Xl,useActionState:Xl,useOptimistic:Xl,useMemoCache:Xl,useCacheRefresh:Xl};hi.useEffectEvent=Xl;var fi={readContext:Rr,use:ds,useCallback:function(e,t){return is().memoizedState=[e,void 0===t?null:t],e},useContext:Rr,useEffect:Ms,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){Is(4,2,e,t)},useMemo:function(e,t){var n=is();t=void 0===t?null:t;var a=e();if($l){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=is();if(void 0!==n){var r=n(t);if($l){ye(!0);try{n(t)}finally{ye(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=ii.bind(null,Bl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},is().memoizedState=e},useState:function(e){var t=(e=Ns(e)).queue,n=oi.bind(null,Bl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$s,useDeferredValue:function(e,t){return Js(is(),e,t)},useTransition:function(){var e=Ns(!1);return e=Xs.bind(null,Bl,e.queue,!0,!1),is().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Bl,r=is();if(ur){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===hc)throw Error(s(349));0!==(127&gc)||vs(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Ms(ys.bind(null,a,l,e),[e]),a.flags|=2048,Ds(9,{destroy:void 0},xs.bind(null,a,l,n,t),null),n},useId:function(){var e=is(),t=hc.identifierPrefix;if(ur){var n=ar;t="_"+t+"R_"+(n=(nr&~(1<<32-be(nr)-1)).toString(32)+n),0<(n=Ql++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Yl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ai,useFormState:Ls,useActionState:Ls,useOptimistic:function(e){var t=is();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=di.bind(null,Bl,!0,n),n.dispatch=t,[e,t]},useMemoCache:us,useCacheRefresh:function(){return is().memoizedState=si.bind(null,Bl)},useEffectEvent:function(e){var t=is(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&mc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},gi={readContext:Rr,use:ds,useCallback:Qs,useContext:Rr,useEffect:Us,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Vs,useMemo:Ks,useReducer:ms,useRef:Fs,useState:function(){return ms(ps)},useDebugValue:$s,useDeferredValue:function(e,t){return Ys(os(),Hl.memoizedState,e,t)},useTransition:function(){var e=ms(ps)[0],t=os().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:gs,useId:ri,useHostTransitionStatus:ai,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return _s(os(),0,e,t)},useMemoCache:us,useCacheRefresh:li};gi.useEffectEvent=Bs;var vi={readContext:Rr,use:ds,useCallback:Qs,useContext:Rr,useEffect:Us,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Vs,useMemo:Ks,useReducer:fs,useRef:Fs,useState:function(){return fs(ps)},useDebugValue:$s,useDeferredValue:function(e,t){var n=os();return null===Hl?Js(n,e,t):Ys(n,Hl.memoizedState,e,t)},useTransition:function(){var e=fs(ps)[0],t=os().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:gs,useId:ri,useHostTransitionStatus:ai,useFormState:Os,useActionState:Os,useOptimistic:function(e,t){var n=os();return null!==Hl?_s(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:us,useCacheRefresh:li};function xi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vi.useEffectEvent=Bs;var yi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Gc(),r=xl(a);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=yl(e,r,a))&&(Qc(t,e,a),bl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Gc(),r=xl(a);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=yl(e,r,a))&&(Qc(t,e,a),bl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),a=xl(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=yl(e,a,n))&&(Qc(t,e,n),bl(t,e,n))}};function bi(e,t,n,a,r,l,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,a)||!Zn(r,l))}function ji(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=m({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function _i(e){Sa(e)}function wi(e){console.error(e)}function Ci(e){Sa(e)}function Si(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ki(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ei(e,t,n){return(n=xl(n)).tag=3,n.payload={element:null},n.callback=function(){Si(e,t)},n}function Ti(e){return(e=xl(e)).tag=3,e}function Pi(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var l=a.value;e.payload=function(){return r(l)},e.callback=function(){ki(t,n,a)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ki(t,n,a),"function"!==typeof r&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Li=Error(s(461)),Ri=!1;function Ai(e,t,n,a){t.child=null===e?hl(t,null,n,a):ml(t,e.child,n,a)}function zi(e,t,n,a,r){n=n.render;var l=t.ref;if("ref"in a){var s={};for(var i in a)"ref"!==i&&(s[i]=a[i])}else s=a;return Lr(t),a=es(e,t,n,s,l,r),i=rs(),null===e||Ri?(ur&&i&&sr(t),t.flags|=1,Ai(e,t,a,r),t.child):(ls(e,t,r),ao(e,t,r))}function Oi(e,t,n,a,r){if(null===e){var l=n.type;return"function"!==typeof l||qa(l)||void 0!==l.defaultProps||null!==n.compare?((e=Ba(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Di(e,t,l,a,r))}if(l=e.child,!ro(e,r)){var s=l.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,a)&&e.ref===t.ref)return ao(e,t,r)}return t.flags|=1,(e=Ma(l,a)).ref=t.ref,e.return=t,t.child=e}function Di(e,t,n,a,r){if(null!==e){var l=e.memoizedProps;if(Zn(l,a)&&e.ref===t.ref){if(Ri=!1,t.pendingProps=a=l,!ro(e,r))return t.lanes=e.lanes,ao(e,t,r);0!==(131072&e.flags)&&(Ri=!0)}}return Hi(e,t,n,a,r)}function Fi(e,t,n,a){var r=a.children,l=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(l=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~l}else a=0,t.child=null;return qi(e,t,l,n,a)}if(0===(536870912&n))return a=t.lanes=536870912,qi(e,t,null!==l?l.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Kr(0,null!==l?l.cachePool:null),null!==l?Tl(t,l):Pl(),Dl(t)}else null!==l?(Kr(0,l.cachePool),Tl(t,l),Fl(),t.memoizedState=null):(null!==e&&Kr(0,null),Pl(),Fl());return Ai(e,t,r,n),t.child}function Ii(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qi(e,t,n,a,r){var l=Qr();return l=null===l?null:{parent:Ir._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},null!==e&&Kr(0,null),Pl(),Dl(t),null!==e&&Tr(e,t,a,!0),t.childLanes=r,null}function Mi(e,t){return(t=Xi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ui(e,t,n){return ml(t,e.child,null,n),(e=Mi(t,t.pendingProps)).flags|=2,Il(t),t.memoizedState=null,e}function Bi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hi(e,t,n,a,r){return Lr(t),n=es(e,t,n,a,void 0,r),a=rs(),null===e||Ri?(ur&&a&&sr(t),t.flags|=1,Ai(e,t,n,r),t.child):(ls(e,t,r),ao(e,t,r))}function Vi(e,t,n,a,r,l){return Lr(t),t.updateQueue=null,n=ns(t,a,n,r),ts(e),a=rs(),null===e||Ri?(ur&&a&&sr(t),t.flags|=1,Ai(e,t,n,l),t.child):(ls(e,t,l),ao(e,t,l))}function Wi(e,t,n,a,r){if(Lr(t),null===t.stateNode){var l=Da,s=n.contextType;"object"===typeof s&&null!==s&&(l=Rr(s)),l=new n(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=yi,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},gl(t),s=n.contextType,l.context="object"===typeof s&&null!==s?Rr(s):Da,l.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(xi(t,n,s,a),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(s=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),s!==l.state&&yi.enqueueReplaceState(l,l.state,null),wl(t,a,l,r),_l(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var i=t.memoizedProps,o=Ni(n,i);l.props=o;var c=l.context,d=n.contextType;s=Da,"object"===typeof d&&null!==d&&(s=Rr(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i||c!==s)&&ji(t,l,a,s),fl=!1;var p=t.memoizedState;l.state=p,wl(t,a,l,r),_l(),c=t.memoizedState,i||p!==c||fl?("function"===typeof u&&(xi(t,n,u,a),c=t.memoizedState),(o=fl||bi(t,n,o,a,p,c,s))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=s,a=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,vl(e,t),d=Ni(n,s=t.memoizedProps),l.props=d,u=t.pendingProps,p=l.context,c=n.contextType,o=Da,"object"===typeof c&&null!==c&&(o=Rr(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==u||p!==o)&&ji(t,l,a,o),fl=!1,p=t.memoizedState,l.state=p,wl(t,a,l,r),_l();var m=t.memoizedState;s!==u||p!==m||fl||null!==e&&null!==e.dependencies&&Pr(e.dependencies)?("function"===typeof i&&(xi(t,n,i,a),m=t.memoizedState),(d=fl||bi(t,n,d,a,p,m,o)||null!==e&&null!==e.dependencies&&Pr(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,m,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,m,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),l.props=a,l.state=m,l.context=o,a=d):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Bi(e,t),a=0!==(128&t.flags),l||a?(l=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=ml(t,e.child,null,r),t.child=ml(t,null,n,r)):Ai(e,t,n,r),t.memoizedState=l.state,e=t.child):e=ao(e,t,r),e}function Gi(e,t,n,a){return yr(),t.flags|=256,Ai(e,t,n,a),t.child}var $i={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qi(e){return{baseLanes:e,cachePool:Jr()}}function Ki(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=kc),e}function Ji(e,t,n){var a,r=t.pendingProps,l=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&ql.current)),a&&(l=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(ur){if(l?zl(t):Fl(),(e=dr)?null!==(e=null!==(e=Pu(e,mr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(n=Wa(e)).return=t,t.child=n,cr=t,dr=null):e=null,null===e)throw fr(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,l?(Fl(),o=Xi({mode:"hidden",children:o},l=t.mode),r=Ha(r,l,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,(r=t.child).memoizedState=Qi(n),r.childLanes=Ki(e,a,n),t.memoizedState=$i,Ii(null,r)):(zl(t),Yi(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(i)256&t.flags?(zl(t),t.flags&=-257,t=Zi(e,t,n)):null!==t.memoizedState?(Fl(),t.child=e.child,t.flags|=128,t=null):(Fl(),o=r.fallback,l=t.mode,r=Xi({mode:"visible",children:r.children},l),(o=Ha(o,l,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,ml(t,e.child,null,n),(r=t.child).memoizedState=Qi(n),r.childLanes=Ki(e,a,n),t.memoizedState=$i,t=Ii(null,r));else if(zl(t),Ru(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var d=a.dgst;a=d,(r=Error(s(419))).stack="",r.digest=a,jr({value:r,source:null,stack:null}),t=Zi(e,t,n)}else if(Ri||Tr(e,t,n,!1),a=0!==(n&e.childLanes),Ri||a){if(null!==(a=hc)&&(0!==(r=Oe(a,n))&&r!==c.retryLane))throw c.retryLane=r,Aa(e,r),Qc(a,e,r),Li;Lu(o)||sd(),t=Zi(e,t,n)}else Lu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,dr=Au(o.nextSibling),cr=t,ur=!0,pr=null,mr=!1,null!==e&&or(t,e),(t=Yi(t,r.children)).flags|=4096);return t}return l?(Fl(),o=r.fallback,l=t.mode,d=(c=e.child).sibling,(r=Ma(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=Ma(d,o):(o=Ha(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,Ii(null,r),r=t.child,null===(o=e.child.memoizedState)?o=Qi(n):(null!==(l=o.cachePool)?(c=Ir._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Jr(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=Ki(e,a,n),t.memoizedState=$i,Ii(e.child,r)):(zl(t),e=(n=e.child).sibling,(n=Ma(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Yi(e,t){return(t=Xi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xi(e,t){return(e=Ia(22,e,null,t)).lanes=0,e}function Zi(e,t,n){return ml(t,e.child,null,n),(e=Yi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),kr(e.return,t,n)}function to(e,t,n,a,r,l){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r,s.treeForkCount=l)}function no(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;a=a.children;var s=ql.current,i=0!==(2&s);if(i?(s=1&s|2,t.flags|=128):s&=1,U(ql,s),Ai(e,t,a,n),a=ur?Xa:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ml(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),to(t,!1,r,n,l,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ml(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}to(t,!0,n,null,l,a);break;case"together":to(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ao(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),wc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Tr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ma(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ma(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ro(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pr(e))}function lo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ri=!0;else{if(!ro(e,n)&&0===(128&t.flags))return Ri=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Cr(0,Ir,e.memoizedState.cache),yr();break;case 27:case 5:J(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Cr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ol(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(zl(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ji(e,t,n):(zl(t),null!==(e=ao(e,t,n))?e.sibling:null);zl(t);break;case 19:var r=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(Tr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return no(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(ql,ql.current),a)break;return null;case 22:return t.lanes=0,Fi(e,t,n,t.pendingProps);case 24:Cr(0,Ir,e.memoizedState.cache)}return ao(e,t,n)}(e,t,n);Ri=0!==(131072&e.flags)}else Ri=!1,ur&&0!==(1048576&t.flags)&&lr(t,Xa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=al(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===N){t.tag=11,t=zi(null,t,e,a,n);break e}if(r===C){t.tag=14,t=Oi(null,t,e,a,n);break e}}throw t=R(e)||e,Error(s(306,t,""))}qa(e)?(a=Ni(e,a),t.tag=1,t=Wi(null,t,e,a,n)):(t.tag=0,t=Hi(null,t,e,a,n))}return t;case 0:return Hi(e,t,t.type,t.pendingProps,n);case 1:return Wi(e,t,a=t.type,r=Ni(a,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var l=t.memoizedState;r=l.element,vl(e,t),wl(t,a,null,n);var i=t.memoizedState;if(a=i.cache,Cr(0,Ir,a),a!==l.cache&&Er(t,[Ir],n,!0),_l(),a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Gi(e,t,a,n);break e}if(a!==r){jr(r=Qa(Error(s(424)),t)),t=Gi(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(dr=Au(e.firstChild),cr=t,ur=!0,pr=null,mr=!0,n=hl(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yr(),a===r){t=ao(e,t,n);break e}Ai(e,t,a,n)}t=t.child}return t;case 26:return Bi(e,t),null===e?(n=Wu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ur||(n=t.type,e=t.pendingProps,(a=gu(G.current).createElement(n))[Ue]=t,a[Be]=e,pu(a,n,e),et(a),t.stateNode=a):t.memoizedState=Wu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ur&&(a=t.stateNode=Fu(t.type,t.pendingProps,G.current),cr=t,mr=!0,r=dr,Su(t.type)?(zu=r,dr=Au(a.firstChild)):dr=r),Ai(e,t,t.pendingProps.children,n),Bi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ur&&((r=a=dr)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===l)return e}if(null===(e=Au(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,mr))?(t.stateNode=a,cr=t,dr=Au(a.firstChild),mr=!1,r=!0):r=!1),r||fr(t)),J(t),r=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,a=l.children,yu(r,l)?a=null:null!==i&&yu(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=es(e,t,as,null,null,n),dp._currentValue=r),Bi(e,t),Ai(e,t,a,n),t.child;case 6:return null===e&&ur&&((e=n=dr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Au(e.nextSibling)))return null}return e}(n,t.pendingProps,mr))?(t.stateNode=n,cr=t,dr=null,e=!0):e=!1),e||fr(t)),null;case 13:return Ji(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ml(t,null,a,n):Ai(e,t,a,n),t.child;case 11:return zi(e,t,t.type,t.pendingProps,n);case 7:return Ai(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ai(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Cr(0,t.type,a.value),Ai(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Lr(t),a=a(r=Rr(r)),t.flags|=1,Ai(e,t,a,n),t.child;case 14:return Oi(e,t,t.type,t.pendingProps,n);case 15:return Di(e,t,t.type,t.pendingProps,n);case 19:return no(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ur){if("hidden"===a.mode)return e=Mi(t,a),t.lanes=536870912,Ii(null,e);if(Ol(t),(e=dr)?null!==(e=null!==(e=Pu(e,mr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(n=Wa(e)).return=t,t.child=n,cr=t,dr=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return Mi(t,a)}var l=e.memoizedState;if(null!==l){var i=l.dehydrated;if(Ol(t),r)if(256&t.flags)t.flags&=-257,t=Ui(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ri||Tr(e,t,n,!1),r=0!==(n&e.childLanes),Ri||r){if(null!==(a=hc)&&0!==(i=Oe(a,n))&&i!==l.retryLane)throw l.retryLane=i,Aa(e,i),Qc(a,e,i),Li;sd(),t=Ui(e,t,n)}else e=l.treeContext,dr=Au(i.nextSibling),cr=t,ur=!0,pr=null,mr=!1,null!==e&&or(t,e),(t=Mi(t,a)).flags|=4096;return t}return(e=Ma(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fi(e,t,n,t.pendingProps);case 24:return Lr(t),a=Rr(Ir),null===e?(null===(r=Qr())&&(r=hc,l=qr(),r.pooledCache=l,l.refCount++,null!==l&&(r.pooledCacheLanes|=n),r=l),t.memoizedState={parent:a,cache:r},gl(t),Cr(0,Ir,r)):(0!==(e.lanes&n)&&(vl(e,t),wl(t,null,null,n),_l()),r=e.memoizedState,l=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Cr(0,Ir,a)):(a=l.cache,Cr(0,Ir,a),a!==r.cache&&Er(t,[Ir],n,!0))),Ai(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function so(e){e.flags|=4}function io(e,t,n,a,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!ad())throw rl=el,Xr;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rp(t)){if(!ad())throw rl=el,Xr;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ec|=t)}function uo(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function po(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function mo(e,t,n){var a=t.pendingProps;switch(ir(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return po(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sr(Ir),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(xr(t)?so(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,br())),po(t),null;case 26:var r=t.type,l=t.memoizedState;return null===e?(so(t),null!==l?(po(t),oo(t,l)):(po(t),io(t,r,0,0,n))):l?l!==e.memoizedState?(so(t),po(t),oo(t,l)):(po(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&so(t),po(t),io(t,r,0,0,n)),null;case 27:if(Y(t),n=G.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&so(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return po(t),null}e=V.current,xr(t)?gr(t):(e=Fu(r,a,n),t.stateNode=e,so(t))}return po(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&so(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return po(t),null}if(l=V.current,xr(t))gr(t);else{var i=gu(G.current);switch(l){case 1:l=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:l=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":l=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":l=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(l=i.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"===typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?l.multiple=!0:a.size&&(l.size=a.size);break;default:l="string"===typeof a.is?i.createElement(r,{is:a.is}):i.createElement(r)}}l[Ue]=t,l[Be]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)l.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=l;e:switch(pu(l,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&so(t)}}return po(t),io(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&so(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(e=G.current,xr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=cr))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||cu(e.nodeValue,n)))||fr(t,!0)}else(e=gu(e).createTextNode(a))[Ue]=t,t.stateNode=e}return po(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=xr(t),null!==n){if(null===e){if(!a)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ue]=t}else yr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;po(t),e=!1}else n=br(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Il(t),t):(Il(t),null);if(0!==(128&t.flags))throw Error(s(558))}return po(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=xr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Ue]=t}else yr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;po(t),r=!1}else r=br(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Il(t),t):(Il(t),null)}return Il(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),l=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),co(t,t.updateQueue),po(t),null);case 4:return K(),null===e&&Zd(t.stateNode.containerInfo),po(t),null;case 10:return Sr(t.type),po(t),null;case 19:if(M(ql),null===(a=t.memoizedState))return po(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)uo(a,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ml(e))){for(t.flags|=128,uo(a,!1),e=l.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ua(n,e),n=n.sibling;return U(ql,1&ql.current|2),ur&&rr(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&oe()>zc&&(t.flags|=128,r=!0,uo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ml(l))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ur)return po(t),null}else 2*oe()-a.renderingStartTime>zc&&536870912!==n&&(t.flags|=128,r=!0,uo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=oe(),e.sibling=null,n=ql.current,U(ql,r?1&n|2:1&n),ur&&rr(t,a.treeForkCount),e):(po(t),null);case 22:case 23:return Il(t),Ll(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(po(t),6&t.subtreeFlags&&(t.flags|=8192)):po(t),null!==(n=t.updateQueue)&&co(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&M($r),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sr(Ir),po(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ho(e,t){switch(ir(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sr(Ir),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Il(t),null===t.alternate)throw Error(s(340));yr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Il(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));yr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return M(ql),null;case 4:return K(),null;case 10:return Sr(t.type),null;case 22:case 23:return Il(t),Ll(),null!==e&&M($r),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sr(Ir),null;default:return null}}function fo(e,t){switch(ir(t),t.tag){case 3:Sr(Ir),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Il(t);break;case 13:Il(t);break;case 19:M(ql);break;case 10:Sr(t.type);break;case 22:case 23:Il(t),Ll(),null!==e&&M($r);break;case 24:Sr(Ir)}}function go(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var l=n.create,s=n.inst;a=l(),s.destroy=a}n=n.next}while(n!==r)}}catch(i){_d(t,t.return,i)}}function vo(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var l=r.next;a=l;do{if((a.tag&e)===e){var s=a.inst,i=s.destroy;if(void 0!==i){s.destroy=void 0,r=t;var o=n,c=i;try{c()}catch(d){_d(r,o,d)}}}a=a.next}while(a!==l)}}catch(d){_d(t,t.return,d)}}function xo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Sl(t,n)}catch(a){_d(e,e.return,a)}}}function yo(e,t,n){n.props=Ni(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){_d(e,t,a)}}function bo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(r){_d(e,t,r)}}function jo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(r){_d(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){_d(e,t,l)}else n.current=null}function No(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){_d(e,e.return,r)}}function _o(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,i=null,o=null,c=null,d=null,u=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":c=p;default:a.hasOwnProperty(h)||du(e,t,h,null,a,p)}}for(var m in a){var h=a[m];if(p=n[m],a.hasOwnProperty(m)&&(null!=h||null!=p))switch(m){case"type":l=h;break;case"name":r=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:h!==p&&du(e,t,m,h,a,p)}}return void xt(e,i,o,c,d,u,l,r);case"select":for(l in h=i=o=m=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(l)||du(e,t,l,null,a,c)}for(r in a)if(l=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=l||null!=c))switch(r){case"value":m=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==c&&du(e,t,r,l,a,c)}return t=o,n=i,a=h,void(null!=m?jt(e,!!n,m,!1):!!a!==!!n&&(null!=t?jt(e,!!n,t,!0):jt(e,!!n,n?[]:"",!1)));case"textarea":for(o in h=m=null,n)if(r=n[o],n.hasOwnProperty(o)&&null!=r&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,a,r)}for(i in a)if(r=a[i],l=n[i],a.hasOwnProperty(i)&&(null!=r||null!=l))switch(i){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==l&&du(e,t,i,r,a,l)}return void Nt(e,m,h);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,a,m);for(c in a)if(m=a[c],h=n[c],a.hasOwnProperty(c)&&m!==h&&(null!=m||null!=h))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else du(e,t,c,m,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&du(e,t,g,null,a,m);for(d in a)if(m=a[d],h=n[d],a.hasOwnProperty(d)&&m!==h&&(null!=m||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:du(e,t,d,m,a,h)}return;default:if(Et(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!a.hasOwnProperty(v)&&uu(e,t,v,void 0,a,m);for(u in a)m=a[u],h=n[u],!a.hasOwnProperty(u)||m===h||void 0===m&&void 0===h||uu(e,t,u,m,a,h);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&null!=m&&!a.hasOwnProperty(x)&&du(e,t,x,null,a,m);for(p in a)m=a[p],h=n[p],!a.hasOwnProperty(p)||m===h||null==m&&null==h||du(e,t,p,m,a,h)}(a,e.type,n,t),a[Be]=t}catch(r){_d(e,e.return,r)}}function wo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Su(e.type)||4===e.tag}function Co(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Su(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function So(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==a&&(27===a&&Su(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(So(e,t,n),e=e.sibling;null!==e;)So(e,t,n),e=e.sibling}function ko(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&Su(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ko(e,t,n),e=e.sibling;null!==e;)ko(e,t,n),e=e.sibling}function Eo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pu(t,a,n),t[Ue]=e,t[Be]=n}catch(l){_d(e,e.return,l)}}var To=!1,Po=!1,Lo=!1,Ro="function"===typeof WeakSet?WeakSet:Set,Ao=null;function zo(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Qo(e,n),4&a&&go(5,n);break;case 1:if(Qo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){_d(n,n.return,s)}else{var r=Ni(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){_d(n,n.return,i)}}64&a&&xo(n),512&a&&bo(n,n.return);break;case 3:if(Qo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Sl(e,t)}catch(s){_d(n,n.return,s)}}break;case 27:null===t&&4&a&&Eo(n);case 26:case 5:Qo(e,n),null===t&&4&a&&No(n),512&a&&bo(n,n.return);break;case 12:Qo(e,n);break;case 31:Qo(e,n),4&a&&Mo(e,n);break;case 13:Qo(e,n),4&a&&Uo(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=kd.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||To)){t=null!==t&&null!==t.memoizedState||Po,r=To;var l=Po;To=a,(Po=t)&&!l?Jo(e,n,0!==(8772&n.subtreeFlags)):Qo(e,n),To=r,Po=l}break;case 30:break;default:Qo(e,n)}}function Oo(e){var t=e.alternate;null!==t&&(e.alternate=null,Oo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Do=null,Fo=!1;function Io(e,t,n){for(n=n.child;null!==n;)qo(e,t,n),n=n.sibling}function qo(e,t,n){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ve,n)}catch(l){}switch(n.tag){case 26:Po||jo(n,t),Io(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Po||jo(n,t);var a=Do,r=Fo;Su(n.type)&&(Do=n.stateNode,Fo=!1),Io(e,t,n),Iu(n.stateNode),Do=a,Fo=r;break;case 5:Po||jo(n,t);case 6:if(a=Do,r=Fo,Do=null,Io(e,t,n),Fo=r,null!==(Do=a))if(Fo)try{(9===Do.nodeType?Do.body:"HTML"===Do.nodeName?Do.ownerDocument.body:Do).removeChild(n.stateNode)}catch(s){_d(n,t,s)}else try{Do.removeChild(n.stateNode)}catch(s){_d(n,t,s)}break;case 18:null!==Do&&(Fo?(ku(9===(e=Do).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vp(e)):ku(Do,n.stateNode));break;case 4:a=Do,r=Fo,Do=n.stateNode.containerInfo,Fo=!0,Io(e,t,n),Do=a,Fo=r;break;case 0:case 11:case 14:case 15:vo(2,n,t),Po||vo(4,n,t),Io(e,t,n);break;case 1:Po||(jo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&yo(n,t,a)),Io(e,t,n);break;case 21:Io(e,t,n);break;case 22:Po=(a=Po)||null!==n.memoizedState,Io(e,t,n),Po=a;break;default:Io(e,t,n)}}function Mo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vp(e)}catch(n){_d(t,t.return,n)}}}function Uo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vp(e)}catch(n){_d(t,t.return,n)}}function Bo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ro),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ro),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Ed.bind(null,e,t);t.then(a,a)}})}function Ho(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(Su(o.type)){Do=o.stateNode,Fo=!1;break e}break;case 5:Do=o.stateNode,Fo=!1;break e;case 3:case 4:Do=o.stateNode.containerInfo,Fo=!0;break e}o=o.return}if(null===Do)throw Error(s(160));qo(l,i,r),Do=null,Fo=!1,null!==(l=r.alternate)&&(l.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wo(t,e),t=t.sibling}var Vo=null;function Wo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ho(t,e),Go(e),4&a&&(vo(3,e,e.return),go(3,e),vo(5,e,e.return));break;case 1:Ho(t,e),Go(e),512&a&&(Po||null===n||jo(n,n.return)),64&a&&To&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=Vo;if(Ho(t,e),Go(e),512&a&&(Po||null===n||jo(n,n.return)),4&a){var l=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(l=r.getElementsByTagName("title")[0])||l[Qe]||l[Ue]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=r.createElement(a),r.head.insertBefore(l,r.querySelector("head > title"))),pu(l,a,n),l[Ue]=e,et(l),a=l;break e;case"link":var i=np("link","href",r).get(a+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((l=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}pu(l=r.createElement(a),a,n),r.head.appendChild(l);break;case"meta":if(i=np("meta","content",r).get(a+(n.content||"")))for(o=0;o<i.length;o++)if((l=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}pu(l=r.createElement(a),a,n),r.head.appendChild(l);break;default:throw Error(s(468,a))}l[Ue]=e,et(l),a=l}e.stateNode=a}else ap(r,e.type,e.stateNode);else e.stateNode=Yu(r,a,e.memoizedProps);else l!==a?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===a?ap(r,e.type,e.stateNode):Yu(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&_o(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ho(t,e),Go(e),512&a&&(Po||null===n||jo(n,n.return)),null!==n&&4&a&&_o(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ho(t,e),Go(e),512&a&&(Po||null===n||jo(n,n.return)),32&e.flags){r=e.stateNode;try{wt(r,"")}catch(f){_d(e,e.return,f)}}4&a&&null!=e.stateNode&&_o(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(Lo=!0);break;case 6:if(Ho(t,e),Go(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){_d(e,e.return,f)}}break;case 3:if(tp=null,r=Vo,Vo=Uu(t.containerInfo),Ho(t,e),Vo=r,Go(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(f){_d(e,e.return,f)}Lo&&(Lo=!1,$o(e));break;case 4:a=Vo,Vo=Uu(e.stateNode.containerInfo),Ho(t,e),Go(e),Vo=a;break;case 12:default:Ho(t,e),Go(e);break;case 31:case 19:Ho(t,e),Go(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bo(e,a)));break;case 13:Ho(t,e),Go(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=oe()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bo(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=To,u=Po;if(To=d||r,Po=u||c,Ho(t,e),Po=u,To=d,Go(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||To||Po||Ko(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,r)"function"===typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var p=c.memoizedProps.style,m=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){_d(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){_d(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var h=c.stateNode;r?Eu(h,!0):Eu(c.stateNode,!1)}catch(f){_d(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Bo(e,n))));case 30:case 21:}}function Go(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(wo(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;ko(e,Co(e),r);break;case 5:var l=n.stateNode;32&n.flags&&(wt(l,""),n.flags&=-33),ko(e,Co(e),l);break;case 3:case 4:var i=n.stateNode.containerInfo;So(e,Co(e),i);break;default:throw Error(s(161))}}catch(o){_d(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $o(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$o(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zo(e,t.alternate,t),t=t.sibling}function Ko(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vo(4,t,t.return),Ko(t);break;case 1:jo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&yo(t,t.return,n),Ko(t);break;case 27:Iu(t.stateNode);case 26:case 5:jo(t,t.return),Ko(t);break;case 22:null===t.memoizedState&&Ko(t);break;default:Ko(t)}e=e.sibling}}function Jo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Jo(r,l,n),go(4,l);break;case 1:if(Jo(r,l,n),"function"===typeof(r=(a=l).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){_d(a,a.return,c)}if(null!==(r=(a=l).updateQueue)){var i=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Cl(o[r],i)}catch(c){_d(a,a.return,c)}}n&&64&s&&xo(l),bo(l,l.return);break;case 27:Eo(l);case 26:case 5:Jo(r,l,n),n&&null===a&&4&s&&No(l),bo(l,l.return);break;case 12:Jo(r,l,n);break;case 31:Jo(r,l,n),n&&4&s&&Mo(r,l);break;case 13:Jo(r,l,n),n&&4&s&&Uo(r,l);break;case 22:null===l.memoizedState&&Jo(r,l,n),bo(l,l.return);break;case 30:break;default:Jo(r,l,n)}t=t.sibling}}function Yo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mr(n))}function Xo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e))}function Zo(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,a),t=t.sibling}function ec(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zo(e,t,n,a),2048&r&&go(9,t);break;case 1:case 31:case 13:default:Zo(e,t,n,a);break;case 3:Zo(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e)));break;case 12:if(2048&r){Zo(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,i=l.onPostCommit;"function"===typeof i&&i(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){_d(t,t.return,o)}}else Zo(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,null!==t.memoizedState?2&l._visibility?Zo(e,t,n,a):nc(e,t):2&l._visibility?Zo(e,t,n,a):(l._visibility|=2,tc(e,t,n,a,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Yo(s,t);break;case 24:Zo(e,t,n,a),2048&r&&Xo(t.alternate,t)}}function tc(e,t,n,a,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var l=e,s=t,i=n,o=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(l,s,i,o,r),go(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?tc(l,s,i,o,r):nc(l,s):(d._visibility|=2,tc(l,s,i,o,r)),r&&2048&c&&Yo(s.alternate,s);break;case 24:tc(l,s,i,o,r),r&&2048&c&&Xo(s.alternate,s);break;default:tc(l,s,i,o,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:nc(n,a),2048&r&&Yo(a.alternate,a);break;case 24:nc(n,a),2048&r&&Xo(a.alternate,a);break;default:nc(n,a)}t=t.sibling}}var ac=8192;function rc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)lc(e,t,n),e=e.sibling}function lc(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,a){if("stylesheet"===n.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Gu(a.href),l=t.querySelector($u(r));if(l)return null!==(t=l._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,void et(l);l=t.ownerDocument||t,a=Qu(a),(r=qu.get(r))&&Zu(a,r),et(l=l.createElement("link"));var s=l;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pu(l,"link",a),n.instance=l}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vo,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var a=Vo;Vo=Uu(e.stateNode.containerInfo),rc(e,t,n),Vo=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,rc(e,t,n),ac=a):rc(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Ao=a,dc(a,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&vo(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Ao=a,dc(a,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vo(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ao;){var n=Ao;switch(n.tag){case 0:case 11:case 15:vo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Mr(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Ao=a;else e:for(n=e;null!==Ao;){var r=(a=Ao).sibling,l=a.return;if(Oo(a),a===n){Ao=null;break e}if(null!==r){r.return=l,Ao=r;break e}Ao=l}}}var uc={getCacheForType:function(e){var t=Rr(Ir),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rr(Ir).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,mc=0,hc=null,fc=null,gc=0,vc=0,xc=null,yc=!1,bc=!1,jc=!1,Nc=0,_c=0,wc=0,Cc=0,Sc=0,kc=0,Ec=0,Tc=null,Pc=null,Lc=!1,Rc=0,Ac=0,zc=1/0,Oc=null,Dc=null,Fc=0,Ic=null,qc=null,Mc=0,Uc=0,Bc=null,Hc=null,Vc=0,Wc=null;function Gc(){return 0!==(2&mc)&&0!==gc?gc&-gc:null!==z.T?Bd():Ie()}function $c(){if(0===kc)if(0===(536870912&gc)||ur){var e=we;0===(3932160&(we<<=1))&&(we=262144),kc=e}else kc=536870912;return null!==(e=Rl.current)&&(e.flags|=32),kc}function Qc(e,t,n){(e!==hc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(td(e,0),Xc(e,gc,kc,!1)),Re(e,n),0!==(2&mc)&&e===hc||(e===hc&&(0===(2&mc)&&(Cc|=n),4===_c&&Xc(e,gc,kc,!1)),Od(e))}function Kc(e,t,n){if(0!==(6&mc))throw Error(s(327));for(var a=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=a?function(e,t){var n=mc;mc|=2;var a=rd(),r=ld();hc!==e||gc!==t?(Oc=null,zc=oe()+500,td(e,t)):bc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==fc){t=fc;var l=xc;t:switch(vc){case 1:vc=0,xc=null,pd(e,t,l,1);break;case 2:case 9:if(tl(l)){vc=0,xc=null,ud(t);break}t=function(){2!==vc&&9!==vc||hc!==e||(vc=7),Od(e)},l.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:tl(l)?(vc=0,xc=null,ud(t)):(vc=0,xc=null,pd(e,t,l,7));break;case 5:var i=null;switch(fc.tag){case 26:i=fc.memoizedState;case 5:case 27:var o=fc;if(i?rp(i):o.stateNode.complete){vc=0,xc=null;var c=o.sibling;if(null!==c)fc=c;else{var d=o.return;null!==d?(fc=d,md(d)):fc=null}break t}}vc=0,xc=null,pd(e,t,l,5);break;case 6:vc=0,xc=null,pd(e,t,l,6);break;case 8:ed(),_c=6;break e;default:throw Error(s(462))}}cd();break}catch(u){nd(e,u)}return wr=_r=null,z.H=a,z.A=r,mc=n,null!==fc?0:(hc=null,gc=0,Pa(),_c)}(e,t):id(e,t,!0),l=a;;){if(0===r){bc&&!a&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!l||Yc(n)){if(2===r){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;r=Tc;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,i).flags|=256),2!==(i=id(o,i,!1))){if(jc&&!c){o.errorRecoveryDisabledLanes|=l,Cc|=l,r=4;break e}l=Pc,Pc=r,null!==l&&(null===Pc?Pc=l:Pc.push.apply(Pc,l))}r=i}if(l=!1,2!==r)continue}}if(1===r){td(e,0),Xc(e,t,0,!0);break}e:{switch(a=e,l=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(a,t,kc,!yc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Rc+300-oe())){if(Xc(a,t,kc,!yc),0!==ke(a,0,!0))break e;Mc=t,a.timeoutHandle=ju(Jc.bind(null,a,n,Pc,Oc,Lc,t,kc,Cc,Ec,yc,l,"Throttled",-0,0),r)}else Jc(a,n,Pc,Oc,Lc,t,kc,Cc,Ec,yc,l,null,-0,0)}break}r=id(e,t,!1),l=!1}Od(e)}function Jc(e,t,n,a,r,l,s,i,o,c,d,u,p,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){lc(t,l,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var h=(62914560&l)===l?Rc-oe():(4194048&l)===l?Ac-oe():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&op(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&op(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lp&&(lp=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],l=r.transferSize,s=r.initiatorType,i=r.duration;if(l&&i&&mu(s)){for(s=0,i=r.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>i)break;var d=o.transferSize,u=o.initiatorType;d&&mu(u)&&(s+=d*((o=o.responseEnd)<i?1:(i-c)/(o-c)))}if(--a,t+=8*(l+s)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&op(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}(u,h)))return Mc=l,e.cancelPendingCommit=h(fd.bind(null,e,t,l,n,a,r,s,i,o,d,u,null,p,m)),void Xc(e,l,s,!c)}fd(e,t,l,n,a,r,s,i,o)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],l=r.getSnapshot;r=r.value;try{if(!Xn(l(),r))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,a){t&=~Sc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var l=31-be(r),s=1<<l;a[l]=-1,r&=~s}0!==n&&Ae(e,n,t)}function Zc(){return 0!==(6&mc)||(Dd(0,!1),!1)}function ed(){if(null!==fc){if(0===vc)var e=fc.return;else wr=_r=null,ss(e=fc),il=null,ol=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Mc=0,ed(),hc=e,fc=n=Ma(e.current,null),gc=t,vc=0,xc=null,yc=!1,bc=Ee(e,t),jc=!1,Ec=kc=Sc=Cc=wc=_c=0,Pc=Tc=null,Lc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-be(a),l=1<<r;t|=e[r],a&=~l}return Nc=t,Pa(),n}function nd(e,t){Bl=null,z.H=hi,t===Yr||t===Zr?(t=ll(),vc=3):t===Xr?(t=ll(),vc=4):vc=t===Li?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,xc=t,null===fc&&(_c=1,Si(e,Qa(t,e.current)))}function ad(){var e=Rl.current;return null===e||((4194048&gc)===gc?null===Al:((62914560&gc)===gc||0!==(536870912&gc))&&e===Al)}function rd(){var e=z.H;return z.H=hi,null===e?hi:e}function ld(){var e=z.A;return z.A=uc,e}function sd(){_c=4,yc||(4194048&gc)!==gc&&null!==Rl.current||(bc=!0),0===(134217727&wc)&&0===(134217727&Cc)||null===hc||Xc(hc,gc,kc,!1)}function id(e,t,n){var a=mc;mc|=2;var r=rd(),l=ld();hc===e&&gc===t||(Oc=null,td(e,t)),t=!1;var s=_c;e:for(;;)try{if(0!==vc&&null!==fc){var i=fc,o=xc;switch(vc){case 8:ed(),s=6;break e;case 3:case 2:case 9:case 6:null===Rl.current&&(t=!0);var c=vc;if(vc=0,xc=null,pd(e,i,o,c),n&&bc){s=0;break e}break;default:c=vc,vc=0,xc=null,pd(e,i,o,c)}}od(),s=_c;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,wr=_r=null,mc=a,z.H=r,z.A=l,null===fc&&(hc=null,gc=0,Pa()),s}function od(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!se();)dd(fc)}function dd(e){var t=lo(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vi(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Vi(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ss(t);default:fo(n,t),t=lo(n,t=fc=Ua(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function pd(e,t,n,a){wr=_r=null,ss(t),il=null,ol=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&Tr(t,n,r,!0),null!==(n=Rl.current)){switch(n.tag){case 31:case 13:return null===Al?sd():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===el?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),wd(e,a,r)),!1;case 22:return n.flags|=65536,a===el?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),wd(e,a,r)),!1}throw Error(s(435,n.tag))}return wd(e,a,r),sd(),!1}if(ur)return null!==(t=Rl.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==hr&&jr(Qa(e=Error(s(422),{cause:a}),n))):(a!==hr&&jr(Qa(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Qa(a,n),jl(e,r=Ei(e.stateNode,a,r)),4!==_c&&(_c=2)),!1;var l=Error(s(520),{cause:a});if(l=Qa(l,n),null===Tc?Tc=[l]:Tc.push(l),4!==_c&&(_c=2),null===t)return!0;a=Qa(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,jl(n,e=Ei(n.stateNode,a,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Dc||!Dc.has(l))))return n.flags|=65536,r&=-r,n.lanes|=r,Pi(r=Ti(r),e,n,a),jl(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,gc))return _c=1,Si(e,Qa(n,e.current)),void(fc=null)}catch(l){if(null!==r)throw fc=r,l;return _c=1,Si(e,Qa(n,e.current)),void(fc=null)}32768&t.flags?(ur||1===a?e=!0:bc||0!==(536870912&gc)?e=!1:(yc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Rl.current)&&13===a.tag&&(a.flags|=16384))),hd(t,e)):md(t)}function md(e){var t=e;do{if(0!==(32768&t.flags))return void hd(t,yc);e=t.return;var n=mo(t.alternate,t,Nc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===_c&&(_c=5)}function hd(e,t){do{var n=ho(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);_c=6,fc=null}function fd(e,t,n,a,r,l,i,o,c){e.cancelPendingCommit=null;do{bd()}while(0!==Fc);if(0!==(6&mc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(l=t.lanes|t.childLanes,function(e,t,n,a,r,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-be(n),u=1<<d;i[d]=0,o[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var m=p[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==a&&Ae(e,a,0),0!==l&&0===r&&0!==e.tag&&(e.suspendedLanes|=l&~(s&~t))}(e,n,l|=Ta,i,o,c),e===hc&&(fc=hc=null,gc=0),qc=t,Ic=e,Mc=n,Uc=l,Bc=r,Hc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(pe,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=z.T,z.T=null,r=O.p,O.p=2,i=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,hu=yp,ra(e=aa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==r&&3!==p.nodeType||(o=i+r),p!==l||0!==a&&3!==p.nodeType||(c=i+a),3===p.nodeType&&(i+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===r&&(o=i),m===l&&++u===a&&(c=i),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},yp=!1,Ao=t;null!==Ao;)if(e=(t=Ao).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ao=e;else for(;null!==Ao;){switch(l=(t=Ao).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,r=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var f=Ni(n.type,r);e=a.getSnapshotBeforeUpdate(f,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){_d(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Tu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ao=e;break}Ao=t.return}}(e,t)}finally{mc=i,O.p=r,z.T=a}}Fc=1,gd(),vd(),xd()}}function gd(){if(1===Fc){Fc=0;var e=Ic,t=qc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=z.T,z.T=null;var a=O.p;O.p=2;var r=mc;mc|=4;try{Wo(t,e);var l=fu,s=aa(e.containerInfo),i=l.focusedElem,o=l.selectionRange;if(s!==i&&i&&i.ownerDocument&&na(i.ownerDocument.documentElement,i)){if(null!==o&&ra(i)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var m=p.getSelection(),h=i.textContent.length,f=Math.min(o.start,h),g=void 0===o.end?f:Math.min(o.end,h);!m.extend&&f>g&&(s=g,g=f,f=s);var v=ta(i,f),x=ta(i,g);if(v&&x&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var y=u.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),f>g?(m.addRange(y),m.extend(x.node,x.offset)):(y.setEnd(x.node,x.offset),m.addRange(y))}}}}for(u=[],m=i;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var b=u[i];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}yp=!!hu,fu=hu=null}finally{mc=r,O.p=a,z.T=n}}e.current=t,Fc=2}}function vd(){if(2===Fc){Fc=0;var e=Ic,t=qc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=z.T,z.T=null;var a=O.p;O.p=2;var r=mc;mc|=4;try{zo(e,t.alternate,t)}finally{mc=r,O.p=a,z.T=n}}Fc=3}}function xd(){if(4===Fc||3===Fc){Fc=0,ie();var e=Ic,t=qc,n=Mc,a=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,qc=Ic=null,yd(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Dc=null),Fe(n),t=t.stateNode,xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==a){t=z.T,r=O.p,O.p=2,z.T=null;try{for(var l=e.onRecoverableError,s=0;s<a.length;s++){var i=a[s];l(i.value,{componentStack:i.stack})}}finally{z.T=t,O.p=r}}0!==(3&Mc)&&bd(),Od(e),r=e.pendingLanes,0!==(261930&n)&&0!==(42&r)?e===Wc?Vc++:(Vc=0,Wc=e):Vc=0,Dd(0,!1)}}function yd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mr(t)))}function bd(){return gd(),vd(),xd(),jd()}function jd(){if(5!==Fc)return!1;var e=Ic,t=Uc;Uc=0;var n=Fe(Mc),a=z.T,r=O.p;try{O.p=32>n?32:n,z.T=null,n=Bc,Bc=null;var l=Ic,i=Mc;if(Fc=0,qc=Ic=null,Mc=0,0!==(6&mc))throw Error(s(331));var o=mc;if(mc|=4,oc(l.current),ec(l,l.current,i,n),mc=o,Dd(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ve,l)}catch(c){}return!0}finally{O.p=r,z.T=a,yd(e,t)}}function Nd(e,t,n){t=Qa(n,t),null!==(e=yl(e,t=Ei(e.stateNode,t,2),2))&&(Re(e,2),Od(e))}function _d(e,t,n){if(3===e.tag)Nd(e,e,n);else for(;null!==t;){if(3===t.tag){Nd(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Dc||!Dc.has(a))){e=Qa(n,e),null!==(a=yl(t,n=Ti(2),2))&&(Pi(n,a,t,e),Re(a,2),Od(a));break}}t=t.return}}function wd(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(jc=!0,r.add(n),e=Cd.bind(null,e,t,n),t.then(e,e))}function Cd(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hc===e&&(gc&n)===n&&(4===_c||3===_c&&(62914560&gc)===gc&&300>oe()-Rc?0===(2&mc)&&td(e,0):Sc|=n,Ec===gc&&(Ec=0)),Od(e)}function Sd(e,t){0===t&&(t=Pe()),null!==(e=Aa(e,t))&&(Re(e,t),Od(e))}function kd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sd(e,n)}function Ed(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),Sd(e,n)}var Td=null,Pd=null,Ld=!1,Rd=!1,Ad=!1,zd=0;function Od(e){e!==Pd&&null===e.next&&(null===Pd?Td=Pd=e:Pd=Pd.next=e),Rd=!0,Ld||(Ld=!0,wu(function(){0!==(6&mc)?re(de,Fd):Id()}))}function Dd(e,t){if(!Ad&&Rd){Ad=!0;do{for(var n=!1,a=Td;null!==a;){if(!t)if(0!==e){var r=a.pendingLanes;if(0===r)var l=0;else{var s=a.suspendedLanes,i=a.pingedLanes;l=(1<<31-be(42|e)+1)-1,l=201326741&(l&=r&~(s&~i))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Ud(a,l))}else l=gc,0===(3&(l=ke(a,a===hc?l:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ee(a,l)||(n=!0,Ud(a,l));a=a.next}}while(n);Ad=!1}}function Fd(){Id()}function Id(){Rd=Ld=!1;var e=0;0!==zd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bu&&(bu=e,!0);return bu=null,!1}()&&(e=zd);for(var t=oe(),n=null,a=Td;null!==a;){var r=a.next,l=qd(a,t);0===l?(a.next=null,null===n?Td=r:n.next=r,null===r&&(Pd=n)):(n=a,(0!==e||0!==(3&l))&&(Rd=!0)),a=r}0!==Fc&&5!==Fc||Dd(e,!1),0!==zd&&(zd=0)}function qd(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var s=31-be(l),i=1<<s,o=r[s];-1===o?0!==(i&n)&&0===(i&a)||(r[s]=Te(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}if(n=gc,n=ke(e,e===(t=hc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&le(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&le(a),Fe(n)){case 2:case 8:n=ue;break;case 32:default:n=pe;break;case 268435456:n=he}return a=Md.bind(null,e),n=re(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&le(a),e.callbackPriority=2,e.callbackNode=null,2}function Md(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bd()&&e.callbackNode!==n)return null;var a=gc;return 0===(a=ke(e,e===hc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kc(e,a,t),qd(e,oe()),null!=e.callbackNode&&e.callbackNode===n?Md.bind(null,e):null)}function Ud(e,t){if(bd())return null;Kc(e,t,!0)}function Bd(){if(0===zd){var e=Hr;0===e&&(e=_e,0===(261888&(_e<<=1))&&(_e=256)),zd=e}return zd}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function Vd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wd=0;Wd<wa.length;Wd++){var Gd=wa[Wd];Ca(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}Ca(ga,"onAnimationEnd"),Ca(va,"onAnimationIteration"),Ca(xa,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(ya,"onTransitionRun"),Ca(ba,"onTransitionStart"),Ca(ja,"onTransitionCancel"),Ca(Na,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function Kd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&r.isPropagationStopped())break e;l=i,r.currentTarget=c;try{l(r)}catch(d){Sa(d)}r.currentTarget=null,l=o}else for(s=0;s<a.length;s++){if(o=(i=a[s]).instance,c=i.currentTarget,i=i.listener,o!==l&&r.isPropagationStopped())break e;l=i,r.currentTarget=c;try{l(r)}catch(d){Sa(d)}r.currentTarget=null,l=o}}}}function Jd(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var a=e+"__bubble";n.has(a)||(eu(t,e,2,!1),n.add(a))}function Yd(e,t,n){var a=0;t&&(a|=4),eu(n,e,a,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Xd]){e[Xd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qd.has(t)||Yd(t,!1,e),Yd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xd]||(t[Xd]=!0,Yd("selectionchange",!1,t))}}function eu(e,t,n,a){switch(Sp(t)){case 2:var r=bp;break;case 8:r=jp;break;default:r=Np}n=r.bind(null,t,n,e),r=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function tu(e,t,n,a,r){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var i=a.stateNode.containerInfo;if(i===r)break;if(4===s)for(s=a.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==i;){if(null===(s=Je(i)))return;if(5===(c=s.tag)||6===c||26===c||27===c){a=l=s;continue e}i=i.parentNode}}a=a.return}qt(function(){var a=l,r=zt(n),s=[];e:{var i=_a.get(e);if(void 0!==i){var c=nn,d=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case ga:case va:case xa:c=dn;break;case Na:c=jn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=_n}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),m=u?null!==i?i+"Capture":null:i;u=[];for(var h,f=a;null!==f;){var g=f;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===m||null!=(g=Mt(f,m))&&u.push(nu(f,g,h)),p)break;f=f.return}0<u.length&&(i=new c(i,d,null,n,r),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===At||!(d=n.relatedTarget||n.fromElement)||!Je(d)&&!d[He])&&(c||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(d=(d=n.relatedTarget||n.toElement)?Je(d):null)&&(p=o(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=sn,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=yn,g="onPointerLeave",m="onPointerEnter",f="pointer"),p=null==c?i:Xe(c),h=null==d?i:Xe(d),(i=new u(g,f+"leave",c,n,r)).target=p,i.relatedTarget=h,g=null,Je(r)===a&&((u=new u(m,f+"enter",d,n,r)).target=h,u.relatedTarget=p,g=u),p=g,c&&d)e:{for(u=ru,f=d,h=0,g=m=c;g;g=u(g))h++;g=0;for(var v=f;v;v=u(v))g++;for(;0<h-g;)m=u(m),h--;for(;0<g-h;)f=u(f),g--;for(;h--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&lu(s,i,c,u,!1),null!==d&&null!==p&&lu(s,p,d,u,!0)}if("select"===(c=(i=a?Xe(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var x=Un;else if(On(i))if(Bn)x=Yn;else{x=Kn;var y=Qn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Et(a.elementType)&&(x=Un):x=Jn;switch(x&&(x=x(e,a))?Dn(s,x,n,r):(y&&y(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&bt(i,"number",i.value)),y=a?Xe(a):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(sa=y,ia=a,oa=null);break;case"focusout":oa=ia=sa=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,da(s,n,r);break;case"selectionchange":if(la)break;case"keydown":case"keyup":da(s,n,r)}var b;if(Cn)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else An?Ln(e,n)&&(j="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(j="onCompositionStart");j&&(En&&"ko"!==n.locale&&(An||"onCompositionStart"!==j?"onCompositionEnd"===j&&An&&(b=$t()):(Wt="value"in(Vt=r)?Vt.value:Vt.textContent,An=!0)),0<(y=au(a,j)).length&&(j=new pn(j,e,null,n,r),s.push({event:j,listeners:y}),b?j.data=b:null!==(b=Rn(n))&&(j.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Cn&&Ln(e,t)?(e=$t(),Gt=Wt=Vt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(j=au(a,"onBeforeInput")).length&&(y=new pn("onBeforeInput","beforeinput",null,n,r),s.push({event:y,listeners:j}),y.data=b)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var l=Hd((r[Be]||null).action),s=a.submitter;s&&null!==(t=(t=s[Be]||null)?Hd(t.formAction):s.getAttribute("formAction"))&&(l=t,s=null);var i=new nn("action","action",null,a,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==zd){var e=s?Vd(r,s):new FormData(r);ei(n,{pending:!0,data:e,method:r.method,action:l},null,e)}}else"function"===typeof l&&(i.preventDefault(),e=s?Vd(r,s):new FormData(r),ei(n,{pending:!0,data:e,method:r.method,action:l},l,e))},currentTarget:r}]})}}(s,e,a,n,r)}Kd(s,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,l=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===l||(null!=(r=Mt(e,n))&&a.unshift(nu(e,r,l)),null!=(r=Mt(e,t))&&a.push(nu(e,r,l))),3===e.tag)return a;e=e.return}return[]}function ru(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lu(e,t,n,a,r){for(var l=t._reactName,s=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,r?null!=(c=Mt(n,l))&&s.unshift(nu(n,c,o)):r||null!=(c=Mt(n,l))&&s.push(nu(n,c,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var su=/\r\n?/g,iu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(su,"\n").replace(iu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,n,a,r,l){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||wt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&wt(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,a);break;case"style":kt(e,a,l);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Lt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&du(e,t,"name",r.name,r,null),du(e,t,"formEncType",r.formEncType,r,null),du(e,t,"formMethod",r.formMethod,r,null),du(e,t,"formTarget",r.formTarget,r,null)):(du(e,t,"encType",r.encType,r,null),du(e,t,"method",r.method,r,null),du(e,t,"target",r.target,r,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Lt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Lt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),ot(e,"popover",a);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ot(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Tt.get(n)||n,a)}}function uu(e,t,n,a,r,l){switch(n){case"style":kt(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof a?wt(e,a):("number"===typeof a||"bigint"===typeof a)&&wt(e,""+a);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(l=null!=(l=e[Be]||null)?l[n]:null)&&e.removeEventListener(t,l,r),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):ot(e,n,a):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function pu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var a,r=!1,l=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":r=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:du(e,t,a,i,n,null)}}return l&&du(e,t,"srcSet",n.srcSet,n,null),void(r&&du(e,t,"src",n.src,n,null));case"input":Jd("invalid",e);var o=a=i=l=null,c=null,d=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(null!=u)switch(r){case"name":l=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:du(e,t,r,u,n,null)}}return void yt(e,a,o,c,d,i,l,!1);case"select":for(l in Jd("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:du(e,t,l,o,n,null)}return t=a,n=i,e.multiple=!!r,void(null!=t?jt(e,!!r,t,!1):null!=n&&jt(e,!!r,n,!0));case"textarea":for(i in Jd("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":r=o;break;case"defaultValue":l=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:du(e,t,i,o,n,null)}return void _t(e,r,l,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else du(e,t,c,r,n,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(r=0;r<$d.length;r++)Jd($d[r],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(r=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:du(e,t,d,r,n,null)}return;default:if(Et(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(r=n[u])&&uu(e,t,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(r=n[o])&&du(e,t,o,r,n,null))}function mu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hu=null,fu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,_u="function"===typeof Promise?Promise:void 0,wu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _u?function(e){return _u.resolve(null).then(e).catch(Cu)}:ju;function Cu(e){setTimeout(function(){throw e})}function Su(e){return"head"===e}function ku(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===a)return e.removeChild(r),void Vp(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)Iu(e.ownerDocument.documentElement);else if("head"===n){Iu(n=e.ownerDocument.head);for(var l=n.firstChild;l;){var s=l.nextSibling,i=l.nodeName;l[Qe]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=s}}else"body"===n&&Iu(e.ownerDocument.body);n=r}while(n);Vp(t)}function Eu(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function Tu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tu(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Au(e.nextSibling)))return null}return e}function Lu(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Au(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var zu=null;function Ou(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Au(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Du(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fu(e,t,n){switch(t=gu(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Iu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var qu=new Map,Mu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bu=O.d;O.d={f:function(){var e=Bu.f(),t=Zc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ni(t):Bu.r(e)},D:function(e){Bu.D(e),Vu("dns-prefetch",e,null)},C:function(e,t){Bu.C(e,t),Vu("preconnect",e,t)},L:function(e,t,n){Bu.L(e,t,n);var a=Hu;if(a&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var l=r;switch(t){case"style":l=Gu(e);break;case"script":l=Ku(e)}qu.has(l)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),qu.set(l,e),null!==a.querySelector(r)||"style"===t&&a.querySelector($u(l))||"script"===t&&a.querySelector(Ju(l))||(pu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Bu.m(e,t);var n=Hu;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',l=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ku(e)}if(!qu.has(l)&&(e=m({rel:"modulepreload",href:e},t),qu.set(l,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ju(l)))return}pu(a=n.createElement("link"),"link",e),et(a),n.head.appendChild(a)}}},X:function(e,t){Bu.X(e,t);var n=Hu;if(n&&e){var a=Ze(n).hoistableScripts,r=Ku(e),l=a.get(r);l||((l=n.querySelector(Ju(r)))||(e=m({src:e,async:!0},t),(t=qu.get(r))&&ep(e,t),et(l=n.createElement("script")),pu(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}},S:function(e,t,n){Bu.S(e,t,n);var a=Hu;if(a&&e){var r=Ze(a).hoistableStyles,l=Gu(e);t=t||"default";var s=r.get(l);if(!s){var i={loading:0,preload:null};if(s=a.querySelector($u(l)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qu.get(l))&&Zu(e,n);var o=s=a.createElement("link");et(o),pu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xu(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:i},r.set(l,s)}}},M:function(e,t){Bu.M(e,t);var n=Hu;if(n&&e){var a=Ze(n).hoistableScripts,r=Ku(e),l=a.get(r);l||((l=n.querySelector(Ju(r)))||(e=m({src:e,async:!0,type:"module"},t),(t=qu.get(r))&&ep(e,t),et(l=n.createElement("script")),pu(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}}};var Hu="undefined"===typeof document?null:document;function Vu(e,t,n){var a=Hu;if(a&&"string"===typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Mu.has(r)||(Mu.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(pu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function Wu(e,t,n,a){var r,l,i,o,c=(c=G.current)?Uu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gu(n.href),(a=(n=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gu(n.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector($u(e)))&&!d._p&&(u.instance=d,u.state.loading=5),qu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qu.set(e,n),d||(r=c,l=e,i=n,o=u.state,r.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=r.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),pu(l,"link",i),et(l),r.head.appendChild(l))))),t&&null===a)throw Error(s(528,""));return u}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ku(n),(a=(n=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gu(e){return'href="'+vt(e)+'"'}function $u(e){return'link[rel="stylesheet"]['+e+"]"}function Qu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Ku(e){return'[src="'+vt(e)+'"]'}function Ju(e){return"script[async]"+e}function Yu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,et(a),a;var r=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),pu(a,"style",r),Xu(a,n.precedence,e),t.instance=a;case"stylesheet":r=Gu(n.href);var l=e.querySelector($u(r));if(l)return t.state.loading|=4,t.instance=l,et(l),l;a=Qu(n),(r=qu.get(r))&&Zu(a,r),et(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pu(l,"link",a),t.state.loading|=4,Xu(l,n.precedence,e),t.instance=l;case"script":return l=Ku(n.src),(r=e.querySelector(Ju(l)))?(t.instance=r,et(r),r):(a=n,(r=qu.get(l))&&ep(a=m({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),pu(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Xu(a,n.precedence,e));return t.instance}function Xu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,l=r,s=0;s<a.length;s++){var i=a[s];if(i.dataset.precedence===t)l=i;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var a=new Map,r=tp=new Map;r.set(n,a)}else(a=(r=tp).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var l=n[r];if(!(l[Qe]||l[Ue]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var s=l.getAttribute(t)||"";s=e+s;var i=a.get(s);i?i.push(l):a.set(s,[l])}}return a}function ap(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rp(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var lp=0;function sp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)op(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ip=null;function op(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ip=new Map,t.forEach(cp,e),ip=null,sp.call(e))}function cp(e,t){if(!(4&t.state.loading)){var n=ip.get(e);if(n)var a=n.get(null);else{n=new Map,ip.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var s=r[l];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}s=(r=t.instance).getAttribute("data-precedence"),(l=n.get(s)||a)===a&&n.set(null,r),n.set(s,r),this.count++,a=sp.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),l?l.parentNode.insertBefore(r,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var dp={$$typeof:j,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function up(e,t,n,a,r,l,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function pp(e,t,n,a,r,l,s,i,o,c,d,u){return e=new up(e,t,n,s,o,c,d,u,i),t=1,!0===l&&(t|=24),l=Ia(3,null,null,t),e.current=l,l.stateNode=e,(t=qr()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},gl(l),e}function mp(e){return e?e=Da:Da}function hp(e,t,n,a,r,l){r=mp(r),null===a.context?a.context=r:a.pendingContext=r,(a=xl(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(n=yl(e,a,t))&&(Qc(n,0,t),bl(n,e,t))}function fp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function vp(e){if(13===e.tag||31===e.tag){var t=Aa(e,67108864);null!==t&&Qc(t,0,67108864),gp(e,67108864)}}function xp(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Aa(e,t=De(t));null!==n&&Qc(n,0,t),gp(e,t)}}var yp=!0;function bp(e,t,n,a){var r=z.T;z.T=null;var l=O.p;try{O.p=2,Np(e,t,n,a)}finally{O.p=l,z.T=r}}function jp(e,t,n,a){var r=z.T;z.T=null;var l=O.p;try{O.p=8,Np(e,t,n,a)}finally{O.p=l,z.T=r}}function Np(e,t,n,a){if(yp){var r=_p(a);if(null===r)tu(e,t,a,wp,n),Op(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Ep=Dp(Ep,e,t,n,a,r),!0;case"dragenter":return Tp=Dp(Tp,e,t,n,a,r),!0;case"mouseover":return Pp=Dp(Pp,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return Lp.set(l,Dp(Lp.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,Rp.set(l,Dp(Rp.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Op(e,a),4&t&&-1<zp.indexOf(e)){for(;null!==r;){var l=Ye(r);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var s=Se(l.pendingLanes);if(0!==s){var i=l;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var o=1<<31-be(s);i.entanglements[1]|=o,s&=~o}Od(l),0===(6&mc)&&(zc=oe()+500,Dd(0,!1))}}break;case 31:case 13:null!==(i=Aa(l,2))&&Qc(i,0,2),Zc(),gp(l,2)}if(null===(l=_p(a))&&tu(e,t,a,wp,n),l===r)break;r=l}null!==r&&a.stopPropagation()}else tu(e,t,a,null,n)}}function _p(e){return Cp(e=zt(e))}var wp=null;function Cp(e){if(wp=null,null!==(e=Je(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wp=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case pe:case me:return 32;case he:return 268435456;default:return 32}default:return 32}}var kp=!1,Ep=null,Tp=null,Pp=null,Lp=new Map,Rp=new Map,Ap=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":Ep=null;break;case"dragenter":case"dragleave":Tp=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Lp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rp.delete(t.pointerId)}}function Dp(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=Ye(t))&&vp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Fp(e){var t=Je(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void qe(e.priority,function(){xp(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void qe(e.priority,function(){xp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ip(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&vp(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);At=a,n.target.dispatchEvent(a),At=null,t.shift()}return!0}function qp(e,t,n){Ip(e)&&n.delete(t)}function Mp(){kp=!1,null!==Ep&&Ip(Ep)&&(Ep=null),null!==Tp&&Ip(Tp)&&(Tp=null),null!==Pp&&Ip(Pp)&&(Pp=null),Lp.forEach(qp),Rp.forEach(qp)}function Up(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mp)))}var Bp=null;function Hp(e){Bp!==e&&(Bp=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Bp===e&&(Bp=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if("function"!==typeof a){if(null===Cp(a||n))continue;break}var l=Ye(n);null!==l&&(e.splice(t,3),t-=3,ei(l,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Vp(e){function t(t){return Up(t,e)}null!==Ep&&Up(Ep,e),null!==Tp&&Up(Tp,e),null!==Pp&&Up(Pp,e),Lp.forEach(t),Rp.forEach(t);for(var n=0;n<Ap.length;n++){var a=Ap[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ap.length&&null===(n=Ap[0]).blockedOn;)Fp(n),null===n.blockedOn&&Ap.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],l=n[a+1],s=r[Be]||null;if("function"===typeof l)s||Hp(n);else if(s){var i=null;if(l&&l.hasAttribute("formAction")){if(r=l,s=l[Be]||null)i=s.formAction;else if(null!==Cp(r))continue}else i=s.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),Hp(n)}}}function Wp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Gp(e){this._internalRoot=e}function $p(e){this._internalRoot=e}$p.prototype.render=Gp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));hp(t.current,Gc(),e,t,null,null)},$p.prototype.unmount=Gp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),Zc(),t[He]=null}},$p.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ap.length&&0!==t&&t<Ap[n].priority;n++);Ap.splice(n,0,e),0===n&&Fp(e)}};var Qp=r.version;if("19.2.0"!==Qp)throw Error(s(527,Qp,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return u(r),e;if(l===a)return u(r),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=l;else{for(var i=!1,c=r.child;c;){if(c===n){i=!0,n=r,a=l;break}if(c===a){i=!0,a=r,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,a=r;break}if(c===a){i=!0,a=l,n=r;break}c=c.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Kp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{ve=Jp.inject(Kp),xe=Jp}catch(Xp){}}t.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,a="",r=_i,l=wi,o=Ci;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,a,null,r,l,o,Wp),e[He]=t.current,Zd(e),new Gp(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var a=!1,r="",l=_i,o=wi,c=Ci,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=pp(e,1,!0,t,0,a,r,d,l,o,c,Wp)).context=mp(null),n=t.current,(r=xl(a=De(a=Gc()))).callback=null,yl(n,r,a),n=a,t.current.lanes=n,Re(t,n),Od(t),e[He]=t.current,Zd(e),new $p(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var j=b.prototype=new y;j.constructor=b,g(j,x.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function _(){}var w={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function S(e,t,a){var r=a.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,l,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case a:d=!0;break;case p:return P((d=e._init)(e._payload),t,r,l,s)}}if(d)return s=s(e),d=""===l?"."+T(e,0):l,N(s)?(r="",null!=d&&(r=d.replace(E,"$&/")+"/"),P(s,t,r,"",function(e){return e})):null!=s&&(k(s)&&(o=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+d,s=S(o.type,c,o.props)),t.push(s)),1;d=0;var u,m=""===l?".":l+":";if(N(e))for(var f=0;f<e.length;f++)d+=P(l=e[f],t,r,i=m+T(l,f),s);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(l=e.next()).done;)d+=P(l=l.value,t,r,i=m+T(l,f++),s);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function L(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},z={map:L,forEach:function(e,t,n){L(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=z,t.Component=x,t.Fragment=r,t.Profiler=s,t.PureComponent=b,t.StrictMode=l,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=g({},e.props),r=e.key;if(null!=t)for(l in void 0!==t.key&&(r=""+t.key),t)!C.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(a[l]=t[l]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var s=Array(l),i=0;i<l;i++)s[i]=arguments[i+2];a.children=s}return S(e.type,r,a)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,r={},l=null;if(null!=t)for(a in void 0!==t.key&&(l=""+t.key),t)C.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(r[a]=t[a]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return S(e,l,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var a=e(),r=w.S;null!==r&&r(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(_,A)}catch(l){A(l)}finally{null!==t&&null!==n.types&&(t.types=n.types),w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useEffectEvent=function(e){return w.H.useEffectEvent(e)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=s.p;try{if(o.T=null,s.p=2,e)return e()}finally{o.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:l}):"script"===n&&s.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(e,t,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),"key"in t)for(var l in a={},t)"key"!==l&&(a[l]=t[l]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<l(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>l(o,n))c<r&&0>l(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<r&&0>l(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,g=!1,v=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function N(e){if(g=!1,j(e),!f)if(null!==a(c))f=!0,w||(w=!0,_());else{var t=a(d);null!==t&&R(N,t.startTime-e)}}var _,w=!1,C=-1,S=5,k=-1;function E(){return!!v||!(t.unstable_now()-k<S)}function T(){if(v=!1,w){var e=t.unstable_now();k=e;var n=!0;try{e:{f=!1,g&&(g=!1,y(C),C=-1),h=!0;var l=m;try{t:{for(j(e),p=a(c);null!==p&&!(p.expirationTime>e&&E());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var i=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){p.callback=i,j(e),n=!0;break t}p===a(c)&&r(c),j(e)}else r(c);p=a(c)}if(null!==p)n=!0;else{var o=a(d);null!==o&&R(N,o.startTime-e),n=!1}}break e}finally{p=null,m=l,h=!1}n=void 0}}finally{n?_():w=!1}}}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=T,_=function(){L.postMessage(null)}}else _=function(){x(T,0)};function R(e,n){C=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,l){var s=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?s+l:s:l=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>s?(e.sortIndex=l,n(d,e),null===a(c)&&e===a(d)&&(g?(y(C),C=-1):g=!0,R(N,l-s))):(e.sortIndex=i,n(c,e),f||h||(f=!0,w||(w=!0,_()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};n.r(a),n.d(a,{hasBrowserEnv:()=>Pn,hasStandardBrowserEnv:()=>Rn,hasStandardBrowserWebWorkerEnv:()=>An,navigator:()=>Ln,origin:()=>zn});var r=n(43),l=n(391);function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function c(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const p=["sri"],m=["page"],h=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var x="popstate";function y(){return S(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return _("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?C(t):t),{},{state:n,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function C(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function S(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:l=!1}=a,s=r.history,i="POP",o=null,c=d();function d(){return(s.state||{idx:null}).idx}function p(){i="POP";let e=d(),t=null==e?null:e-c;c=e,o&&o({action:i,location:h.location,delta:t})}function m(e){return k(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let h={get action(){return i},get location(){return e(r,s)},listen(e){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(x,p),o=e,()=>{r.removeEventListener(x,p),o=null}},createHref:e=>t(r,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i="PUSH";let a=_(h.location,e,t);n&&n(a,e),c=d()+1;let u=N(a,c),p=h.createHref(a);try{s.pushState(u,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;r.location.assign(p)}l&&o&&o({action:i,location:h.location,delta:1})},replace:function(e,t){i="REPLACE";let a=_(h.location,e,t);n&&n(a,e),c=d();let r=N(a,c),u=h.createHref(a);s.replaceState(r,"",u),l&&o&&o({action:i,location:h.location,delta:0})},go:e=>s.go(e)};return h}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:w(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}new WeakMap;function E(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,a){let r=V(("string"===typeof t?C(t):t).pathname||"/",n);if(null==r)return null;let l=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let i=0;null==s&&i<l.length;++i){let e=H(r);s=M(l[i],e,a)}return s}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=function(e,l){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(a)&&s)return;b(o.relativePath.startsWith(a),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(a.length)}let c=K([a,o.relativePath]),d=n.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,d,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:q(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let a of L(e.path))l(e,t,!0,a);else l(e,t)}),t}function L(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(0===a.length)return r?[l,""]:[l];let s=L(a.join("/")),i=[];return i.push(...s.map(e=>""===e?l:[l,e].join("/"))),r&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,A=3,z=2,O=1,D=10,F=-2,I=e=>"*"===e;function q(e,t){let n=e.split("/"),a=n.length;return n.some(I)&&(a+=F),t&&(a+=z),n.filter(e=>!I(e)).reduce((e,t)=>e+(R.test(t)?A:""===t?O:D),a)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,r={},l="/",s=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===l?t:t.slice(l.length)||"/",d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:K([l,d.pathname]),pathnameBase:J(K([l,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(l=K([l,d.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=B(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let l=r[0],s=l.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=i[n]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[a]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function W(e,t,n,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=G(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=C(e):(a=u({},e),b(!a.pathname||!a.pathname.includes("?"),W("?","pathname","search",a)),b(!a.pathname||!a.pathname.includes("#"),W("#","pathname","hash",a)),b(!a.search||!a.search.includes("#"),W("#","search","hash",a)));let l,s=""===e||""===a.pathname,i=s?"/":a.pathname;if(null==i)l=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}l=e>=0?t[e]:"/"}let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:a="",hash:r=""}="string"===typeof e?C(e):e,l=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:l,search:Y(a),hash:X(r)}}(a,l),c=i&&"/"!==i&&i.endsWith("/"),d=(s||"."===i)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!d||(o.pathname+="/"),o}var K=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=r.createContext(null);ne.displayName="DataRouter";var ae=r.createContext(null);ae.displayName="DataRouterState";var re=r.createContext(!1);var le=r.createContext({isTransitioning:!1});le.displayName="ViewTransition";var se=r.createContext(new Map);se.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var oe=r.createContext(null);oe.displayName="Navigation";var ce=r.createContext(null);ce.displayName="Location";var de=r.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function pe(){return null!=r.useContext(ce)}function me(){return b(pe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ce).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(oe).static||r.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=r.useContext(de);return e?function(){let{router:e}=Ce("useNavigate"),t=ke("useNavigate"),n=r.useRef(!1);fe(()=>{n.current=!0});let a=r.useCallback(async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(n.current,he),n.current&&("number"===typeof a?e.navigate(a):await e.navigate(a,u({fromRouteId:t},r)))},[e,t]);return a}():function(){b(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ne),{basename:t,navigator:n}=r.useContext(oe),{matches:a}=r.useContext(de),{pathname:l}=me(),s=JSON.stringify($(a)),i=r.useRef(!1);fe(()=>{i.current=!0});let o=r.useCallback(function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j(i.current,he),!i.current)return;if("number"===typeof a)return void n.go(a);let o=Q(a,JSON.parse(s),l,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:K([t,o.pathname])),(r.replace?n.replace:n.push)(o,r.state,r)},[t,n,s,l,e]);return o}()}r.createContext(null);function ve(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(de),{pathname:a}=me(),l=JSON.stringify($(n));return r.useMemo(()=>Q(e,JSON.parse(l),a,"path"===t),[e,l,a,t])}function xe(e,t,n,a,l){b(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(oe),{matches:i}=r.useContext(de),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",p=o?o.pathnameBase:"/",m=o&&o.route;{let e=m&&m.path||"";Pe(d,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,f=me();if(t){var g;let e="string"===typeof t?C(t):t;b("/"===p||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=f;let v=h.pathname||"/",x=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=E(e,{pathname:x});j(m||null!=y,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),j(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let N=_e(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([p,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:K([p,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,n,a,l);return t&&N?r.createElement(ce.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},N):N}function ye(){let e=Ee(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:l},n):null,i)}var be=r.createElement(ye,null),je=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(de.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ne(e){let{routeContext:t,match:n,children:a}=e,l=r.useContext(ne);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},a)}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let l=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=l.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),l=l.slice(0,Math.min(l.length,e+1))}let i=!1,o=-1;if(n)for(let r=0;r<l.length;r++){let e=l[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){i=!0,l=o>=0?l.slice(0,o+1):[l[0]];break}}}return l.reduceRight((e,c,d)=>{let u,p=!1,m=null,h=null;n&&(u=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||be,i&&(o<0&&0===d?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,h=null):o===d&&(p=!0,h=c.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,d+1)),g=()=>{let t;return t=u?m:p?h:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(Ne,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?r.createElement(je,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:a}):g()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ce(e){let t=r.useContext(ne);return b(t,we(e)),t}function Se(e){let t=r.useContext(ae);return b(t,we(e)),t}function ke(e){let t=function(e){let t=r.useContext(de);return b(t,we(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ee(){var e;let t=r.useContext(ue),n=Se("useRouteError"),a=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Te={};function Pe(e,t,n){t||Te[e]||(Te[e]=!0,j(!1,n))}var Le={};function Re(e,t){e||Le[t]||(Le[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:a,unstable_onError:r}=e;return xe(t,void 0,a,r,n)});function Ae(e){let{to:t,replace:n,state:a,relative:l}=e;b(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=r.useContext(oe);j(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=r.useContext(de),{pathname:o}=me(),c=ge(),d=Q(t,$(i),o,"path"===l),u=JSON.stringify(d);return r.useEffect(()=>{c(JSON.parse(u),{replace:n,state:a,relative:l})},[c,u,l,n,a]),null}function ze(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oe(e){let{basename:t="/",children:n=null,location:a,navigationType:l="POP",navigator:s,static:i=!1}=e;b(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);"string"===typeof a&&(a=C(a));let{pathname:d="/",search:u="",hash:p="",state:m=null,key:h="default"}=a,f=r.useMemo(()=>{let e=V(d,o);return null==e?null:{location:{pathname:e,search:u,hash:p,state:m,key:h},navigationType:l}},[o,d,u,p,m,h,l]);return j(null!=f,'<Router basename="'.concat(o,'"> is not able to match the URL "').concat(d).concat(u).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:r.createElement(oe.Provider,{value:c},r.createElement(ce.Provider,{children:n,value:f}))}function De(e){let{children:t,location:n}=e;return xe(Fe(t),n)}r.Component;function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let l=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Fe(e.props.children,l));b(e.type===ze,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Fe(e.props.children,l)),n.push(s)}),n}var Ie="get",qe="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var Be=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||Be.has(e)?e:(j(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(qe,'"')),null)}function Ve(e,t){let n,a,r,l,s;if(Me(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");a=s?V(s,t):null,n=e.getAttribute("method")||Ie,r=He(e.getAttribute("enctype"))||qe,l=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(a=i?V(i,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ie,r=He(e.getAttribute("formenctype"))||He(s.getAttribute("enctype"))||qe,l=new FormData(s,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(e){Ue=!0}return Ue}()){let{name:t,type:n,value:a}=e;if("image"===n){let e=t?"".concat(t,"."):"";l.append("".concat(e,"x"),"0"),l.append("".concat(e,"y"),"0")}else t&&l.append(t,a)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,a=null,r=qe,s=e}var i;return l&&"text/plain"===r&&(s=l,l=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:l,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ge(e,t,n){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(n):t&&"/"===V(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(n),a}async function $e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qe(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Je(e,t,n,a,r,l){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,i=(e,t)=>{var a;return n[t].pathname!==e.pathname||(null===(a=n[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===l?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===l?t.filter((t,l)=>{let o=a.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(s(t,l)||i(t,l))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1),[...new Set(a)];var a}function Xe(e,t){let n=new Set,a=new Set(t);return e.reduce((e,r)=>{if(t&&!Qe(r)&&"script"===r.as&&r.href&&a.has(r.href))return e;let l=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}(r));return n.has(l)||(n.add(l),e.push({key:l,link:r})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=r.useContext(ne);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=r.useContext(ae);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=r.createContext(void 0);function at(){let e=r.useContext(nt);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function st(e){let{page:t}=e,n=s(e,m),{router:a}=et(),l=r.useMemo(()=>E(a.routes,t,a.basename),[a.routes,t,a.basename]);return l?r.createElement(ot,u({page:t,matches:l},n)):null}function it(e){let{manifest:t,routeModules:n}=at(),[a,l]=r.useState([]);return r.useEffect(()=>{let a=!1;return async function(e,t,n){return Xe((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await $e(a,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{a||l(e)}),()=>{a=!0}},[e,t,n]),a}function ot(e){let{page:t,matches:n}=e,a=s(e,h),l=me(),{manifest:i,routeModules:o}=at(),{basename:c}=et(),{loaderData:d,matches:p}=tt(),m=r.useMemo(()=>Je(t,n,p,i,l,"data"),[t,n,p,i,l]),f=r.useMemo(()=>Je(t,n,p,i,l,"assets"),[t,n,p,i,l]),g=r.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let e=new Set,a=!1;if(n.forEach(t=>{var n;let r=i.routes[t.route.id];r&&r.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?a=!0:e.add(t.route.id))}),0===e.size)return[];let r=Ge(t,c,"data");return a&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[c,d,l,i,m,n,t,o]),v=r.useMemo(()=>Ye(f,i),[f,i]),x=it(f);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},a))),x.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:a.nonce},n))}))}var ct=!1;function dt(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:l,routeDiscovery:i,ssr:o}=at(),{router:c,static:d,staticContext:m}=et(),{matches:h}=tt(),f=r.useContext(re),g=Ze(i,o);l&&(l.didRenderScripts=!0);let v=lt(h,null,a);r.useEffect(()=>{ct=!0},[]);let x=r.useMemo(()=>{var a;if(f)return null;let l=m?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=d?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let a="route".concat(n),r=t.routes[e.route.id];We(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:l,clientLoaderModule:s,clientMiddlewareModule:i,hydrateFallbackModule:o,module:c}=r,d=[...l?[{module:l,varName:"".concat(a,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(a,"_clientLoader")}]:[],...i?[{module:i,varName:"".concat(a,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(a,"_HydrateFallback")}]:[],{module:c,varName:"".concat(a,"_main")}];return 1===d.length?"import * as ".concat(a," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(a," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=s(e,p),r=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(l.pop();l.length>0;)i.push("/".concat(l.join("/"))),l.pop();i.forEach(e=>{let n=E(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let o=[...r].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return u(u({},a),{},{routes:o,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),y=ct||f?[]:(b=t.entry.imports.concat(Ye(v,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let j="object"===typeof t.sri?t.sri:{};return Re(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ct||f?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:j})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:j[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:j[t.entry.module],suppressHydrationWarning:!0}),y.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:j[t],suppressHydrationWarning:!0})),x)}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function pt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,l=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return r.createElement(mt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),l);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(mt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),l)}function mt(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:l,children:s}=e,{routeModules:i}=at();return null!==(t=i.root)&&void 0!==t&&t.Layout&&!l?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?r.createElement(dt,null):null)))}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.9.4")}catch(Dr){}function ft(e){let{basename:t,children:n,window:a}=e,l=r.useRef();null==l.current&&(l.current=y({window:a,v5Compat:!0}));let s=l.current,[i,o]=r.useState({action:s.action,location:s.location}),c=r.useCallback(e=>{r.startTransition(()=>o(e))},[o]);return r.useLayoutEffect(()=>s.listen(c),[s,c]),r.createElement(Oe,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:s})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=r.forwardRef(function(e,t){let n,{onClick:a,discover:l="render",prefetch:i="none",relative:o,reloadDocument:c,replace:d,state:p,target:m,to:h,preventScrollReset:g,viewTransition:v}=e,x=s(e,f),{basename:y}=r.useContext(oe),N="string"===typeof h&&gt.test(h),_=!1;if("string"===typeof h&&N&&(n=h,ht))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=V(t.pathname,y);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:_=!0}catch(Dr){j(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(oe),{hash:l,pathname:s,search:i}=ve(e,{relative:t}),o=s;return"/"!==n&&(o="/"===s?n:K([n,s])),a.createHref({pathname:o,search:i,hash:l})}(h,{relative:o}),[S,k,E]=function(e,t){let n=r.useContext(nt),[a,l]=r.useState(!1),[s,i]=r.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,m=r.useRef(null);r.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[a]);let h=()=>{l(!0)},f=()=>{l(!1),i(!1)};return n?"intent"!==e?[s,m,{}]:[s,m,{onFocus:rt(o,h),onBlur:rt(c,f),onMouseEnter:rt(d,h),onMouseLeave:rt(u,f),onTouchStart:rt(p,h)}]:[!1,m,{}]}(i,x),T=function(e){let{target:t,replace:n,state:a,preventScrollReset:l,relative:s,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=ge(),c=me(),d=ve(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:w(c)===w(d);o(e,{replace:t,state:a,preventScrollReset:l,relative:s,viewTransition:i})}},[c,o,d,n,a,t,e,l,s,i])}(h,{replace:d,state:p,target:m,preventScrollReset:g,relative:o,viewTransition:v});let P=r.createElement("a",u(u(u({},x),E),{},{href:n||C,onClick:_||c?a:function(e){a&&a(e),e.defaultPrevented||T(e)},ref:ut(t,k),target:m,"data-discover":N||"render"!==l?void 0:"true"}));return S&&!N?r.createElement(r.Fragment,null,P,r.createElement(st,{page:C})):P});vt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:i=!1,style:o,to:c,viewTransition:d,children:p}=e,m=s(e,g),h=ve(c,{relative:m.relative}),f=me(),v=r.useContext(ae),{navigator:x,basename:y}=r.useContext(oe),j=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(le);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=bt("useViewTransitionState"),l=ve(e,{relative:t});if(!n.isTransitioning)return!1;let s=V(n.currentLocation.pathname,a)||n.currentLocation.pathname,i=V(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=U(l.pathname,i)||null!=U(l.pathname,s)}(h)&&!0===d,N=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,_=f.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(_=_.toLowerCase(),w=w?w.toLowerCase():null,N=N.toLowerCase()),w&&y&&(w=V(w,y)||w);const C="/"!==N&&N.endsWith("/")?N.length-1:N.length;let S,k=_===N||!i&&_.startsWith(N)&&"/"===_.charAt(C),E=null!=w&&(w===N||!i&&w.startsWith(N)&&"/"===w.charAt(N.length)),T={isActive:k,isPending:E,isTransitioning:j},P=k?n:void 0;S="function"===typeof l?l(T):[l,k?"active":null,E?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L="function"===typeof o?o(T):o;return r.createElement(vt,u(u({},m),{},{"aria-current":P,className:S,ref:t,style:L,to:c,viewTransition:d}),"function"===typeof p?p(T):p)}).displayName="NavLink";var xt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:l,reloadDocument:i,replace:o,state:c,method:d=Ie,action:p,onSubmit:m,relative:h,preventScrollReset:f,viewTransition:g}=e,x=s(e,v),y=_t(),j=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(oe),a=r.useContext(de);b(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),s=u({},ve(e||".",{relative:t})),i=me();if(null==e){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!l.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:K([n,s.pathname]));return w(s)}(p,{relative:h}),N="get"===d.toLowerCase()?"get":"post",_="string"===typeof p&&gt.test(p);return r.createElement("form",u(u({ref:t,method:N,action:j,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:l,replace:o,state:c,relative:h,preventScrollReset:f,viewTransition:g})}},x),{},{"data-discover":_||"render"!==n?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(ne);return b(t,yt(e)),t}xt.displayName="Form";var jt=0,Nt=()=>"__".concat(String(++jt),"__");function _t(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(oe),n=ke("useRouteId");return r.useCallback(async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:l,method:s,encType:i,formData:o,body:c}=Ve(a,t);if(!1===r.navigate){let t=r.fetcherKey||Nt();await e.fetch(t,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:o,body:c,formMethod:r.method||s,formEncType:r.encType||i,flushSync:r.flushSync})}else await e.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:o,body:c,formMethod:r.method||s,formEncType:r.encType||i,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function wt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ct}=Object.prototype,{getPrototypeOf:St}=Object,{iterator:kt,toStringTag:Et}=Symbol,Tt=(Pt=Object.create(null),e=>{const t=Ct.call(e);return Pt[t]||(Pt[t]=t.slice(8,-1).toLowerCase())});var Pt;const Lt=e=>(e=e.toLowerCase(),t=>Tt(t)===e),Rt=e=>t=>typeof t===e,{isArray:At}=Array,zt=Rt("undefined");function Ot(e){return null!==e&&!zt(e)&&null!==e.constructor&&!zt(e.constructor)&&It(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dt=Lt("ArrayBuffer");const Ft=Rt("string"),It=Rt("function"),qt=Rt("number"),Mt=e=>null!==e&&"object"===typeof e,Ut=e=>{if("object"!==Tt(e))return!1;const t=St(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Et in e)&&!(kt in e)},Bt=Lt("Date"),Ht=Lt("File"),Vt=Lt("Blob"),Wt=Lt("FileList"),Gt=Lt("URLSearchParams"),[$t,Qt,Kt,Jt]=["ReadableStream","Request","Response","Headers"].map(Lt);function Yt(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),At(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ot(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let s;for(n=0;n<l;n++)s=a[n],t.call(null,e[s],s,e)}}function Xt(e,t){if(Ot(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Zt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,en=e=>!zt(e)&&e!==Zt;const tn=(nn="undefined"!==typeof Uint8Array&&St(Uint8Array),e=>nn&&e instanceof nn);var nn;const an=Lt("HTMLFormElement"),rn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ln=Lt("RegExp"),sn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Yt(n,(n,r)=>{let l;!1!==(l=t(n,r,e))&&(a[r]=l||n)}),Object.defineProperties(e,a)};const on=Lt("AsyncFunction"),cn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],Zt.addEventListener("message",e=>{let{source:t,data:r}=e;t===Zt&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),Zt.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,It(Zt.postMessage)),dn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Zt):"undefined"!==typeof process&&process.nextTick||cn,un={isArray:At,isArrayBuffer:Dt,isBuffer:Ot,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||It(e.append)&&("formdata"===(t=Tt(e))||"object"===t&&It(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Dt(e.buffer),t},isString:Ft,isNumber:qt,isBoolean:e=>!0===e||!1===e,isObject:Mt,isPlainObject:Ut,isEmptyObject:e=>{if(!Mt(e)||Ot(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Dr){return!1}},isReadableStream:$t,isRequest:Qt,isResponse:Kt,isHeaders:Jt,isUndefined:zt,isDate:Bt,isFile:Ht,isBlob:Vt,isRegExp:ln,isFunction:It,isStream:e=>Mt(e)&&It(e.pipe),isURLSearchParams:Gt,isTypedArray:tn,isFileList:Wt,forEach:Yt,merge:function e(){const{caseless:t,skipUndefined:n}=en(this)&&this||{},a={},r=(r,l)=>{const s=t&&Xt(a,l)||l;Ut(a[s])&&Ut(r)?a[s]=e(a[s],r):Ut(r)?a[s]=e({},r):At(r)?a[s]=r.slice():n&&zt(r)||(a[s]=r)};for(let l=0,s=arguments.length;l<s;l++)arguments[l]&&Yt(arguments[l],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Yt(t,(t,a)=>{n&&It(t)?e[a]=wt(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,l,s;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)s=r[l],a&&!a(s,e,t)||i[s]||(t[s]=e[s],i[s]=!0);e=!1!==n&&St(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Tt,kindOfTest:Lt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(At(e))return e;let t=e.length;if(!qt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[kt]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:an,hasOwnProperty:rn,hasOwnProp:rn,reduceDescriptors:sn,freezeMethods:e=>{sn(e,(t,n)=>{if(It(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];It(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return At(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Xt,global:Zt,isContextDefined:en,isSpecCompliantForm:function(e){return!!(e&&It(e.append)&&"FormData"===e[Et]&&e[kt])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Mt(e)){if(t.indexOf(e)>=0)return;if(Ot(e))return e;if(!("toJSON"in e)){t[a]=e;const r=At(e)?[]:{};return Yt(e,(e,t)=>{const l=n(e,a+1);!zt(l)&&(r[t]=l)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:on,isThenable:e=>e&&(Mt(e)||It(e))&&It(e.then)&&It(e.catch),setImmediate:cn,asap:dn,isIterable:e=>null!=e&&It(e[kt])};function pn(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}un.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const mn=pn.prototype,hn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hn[e]={value:e}}),Object.defineProperties(pn,hn),Object.defineProperty(mn,"isAxiosError",{value:!0}),pn.from=(e,t,n,a,r,l)=>{const s=Object.create(mn);un.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return pn.call(s,i,o,n,a,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",l&&Object.assign(s,l),s};const fn=pn;function gn(e){return un.isPlainObject(e)||un.isArray(e)}function vn(e){return un.endsWith(e,"[]")?e.slice(0,-2):e}function xn(e,t,n){return e?e.concat(t).map(function(e,t){return e=vn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const yn=un.toFlatObject(un,{},null,function(e){return/^is[A-Z]/.test(e)});const bn=function(e,t,n){if(!un.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=un.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!un.isUndefined(t[e])})).metaTokens,r=n.visitor||c,l=n.dots,s=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&un.isSpecCompliantForm(t);if(!un.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(un.isDate(e))return e.toISOString();if(un.isBoolean(e))return e.toString();if(!i&&un.isBlob(e))throw new fn("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(e)||un.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let i=e;if(e&&!r&&"object"===typeof e)if(un.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(un.isArray(e)&&function(e){return un.isArray(e)&&!e.some(gn)}(e)||(un.isFileList(e)||un.endsWith(n,"[]"))&&(i=un.toArray(e)))return n=vn(n),i.forEach(function(e,a){!un.isUndefined(e)&&null!==e&&t.append(!0===s?xn([n],a,l):null===s?n:n+"[]",o(e))}),!1;return!!gn(e)||(t.append(xn(r,n,l),o(e)),!1)}const d=[],u=Object.assign(yn,{defaultVisitor:c,convertValue:o,isVisitable:gn});if(!un.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!un.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),un.forEach(n,function(n,l){!0===(!(un.isUndefined(n)||null===n)&&r.call(t,n,un.isString(l)?l.trim():l,a,u))&&e(n,a?a.concat(l):[l])}),d.pop()}}(e),t};function jn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Nn(e,t){this._pairs=[],e&&bn(e,this,t)}const _n=Nn.prototype;_n.append=function(e,t){this._pairs.push([e,t])},_n.toString=function(e){const t=e?function(t){return e.call(this,t,jn)}:jn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const wn=Nn;function Cn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sn(e,t,n){if(!t)return e;const a=n&&n.encode||Cn;un.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let l;if(l=r?r(t,n):un.isURLSearchParams(t)?t.toString():new wn(t,n).toString(a),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}const kn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){un.forEach(this.handlers,function(t){null!==t&&e(t)})}},En={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:wn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Pn="undefined"!==typeof window&&"undefined"!==typeof document,Ln="object"===typeof navigator&&navigator||void 0,Rn=Pn&&(!Ln||["ReactNative","NativeScript","NS"].indexOf(Ln.product)<0),An="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,zn=Pn&&window.location.href||"http://localhost",On=u(u({},a),Tn);const Dn=function(e){function t(e,n,a,r){let l=e[r++];if("__proto__"===l)return!0;const s=Number.isFinite(+l),i=r>=e.length;if(l=!l&&un.isArray(a)?a.length:l,i)return un.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!s;a[l]&&un.isObject(a[l])||(a[l]=[]);return t(e,n,a[l],r)&&un.isArray(a[l])&&(a[l]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let l;for(a=0;a<r;a++)l=n[a],t[l]=e[l];return t}(a[l])),!s}if(un.isFormData(e)&&un.isFunction(e.entries)){const n={};return un.forEachEntry(e,(e,a)=>{t(function(e){return un.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Fn={transitional:En,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=un.isObject(e);r&&un.isHTMLForm(e)&&(e=new FormData(e));if(un.isFormData(e))return a?JSON.stringify(Dn(e)):e;if(un.isArrayBuffer(e)||un.isBuffer(e)||un.isStream(e)||un.isFile(e)||un.isBlob(e)||un.isReadableStream(e))return e;if(un.isArrayBufferView(e))return e.buffer;if(un.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return bn(e,new On.classes.URLSearchParams,u({visitor:function(e,t,n,a){return On.isNode&&un.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((l=un.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return bn(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(un.isString(e))try{return(t||JSON.parse)(e),un.trim(e)}catch(Dr){if("SyntaxError"!==Dr.name)throw Dr}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Fn.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(un.isResponse(e)||un.isReadableStream(e))return e;if(e&&un.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(Dr){if(n){if("SyntaxError"===Dr.name)throw fn.from(Dr,fn.ERR_BAD_RESPONSE,this,null,this.response);throw Dr}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],e=>{Fn.headers[e]={}});const In=Fn,qn=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mn=Symbol("internals");function Un(e){return e&&String(e).trim().toLowerCase()}function Bn(e){return!1===e||null==e?e:un.isArray(e)?e.map(Bn):String(e)}function Hn(e,t,n,a,r){return un.isFunction(a)?a.call(this,t,n):(r&&(t=n),un.isString(t)?un.isString(a)?-1!==t.indexOf(a):un.isRegExp(a)?a.test(t):void 0:void 0)}class Vn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Un(t);if(!r)throw new Error("header name must be a non-empty string");const l=un.findKey(a,r);(!l||void 0===a[l]||!0===n||void 0===n&&!1!==a[l])&&(a[l||t]=Bn(e))}const l=(e,t)=>un.forEach(e,(e,n)=>r(e,n,t));if(un.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(un.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))l((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&qn[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(un.isObject(e)&&un.isIterable(e)){let n,a,r={};for(const t of e){if(!un.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?un.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}l(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Un(e)){const n=un.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(un.isFunction(t))return t.call(this,e,n);if(un.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Un(e)){const n=un.findKey(this,e);return!(!n||void 0===this[n]||t&&!Hn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Un(e)){const r=un.findKey(n,e);!r||t&&!Hn(0,n[r],r,t)||(delete n[r],a=!0)}}return un.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Hn(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return un.forEach(this,(a,r)=>{const l=un.findKey(n,r);if(l)return t[l]=Bn(a),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=Bn(a),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return un.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&un.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Mn]=this[Mn]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Un(e);t[a]||(!function(e,t){const n=un.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return un.isArray(e)?e.forEach(a):a(e),this}}Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),un.reduceDescriptors(Vn.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),un.freezeMethods(Vn);const Wn=Vn;function Gn(e,t){const n=this||In,a=t||n,r=Wn.from(a.headers);let l=a.data;return un.forEach(e,function(e){l=e.call(n,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function $n(e){return!(!e||!e.__CANCEL__)}function Qn(e,t,n){fn.call(this,null==e?"canceled":e,fn.ERR_CANCELED,t,n),this.name="CanceledError"}un.inherits(Qn,fn,{__CANCEL__:!0});const Kn=Qn;function Jn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new fn("Request failed with status code "+n.status,[fn.ERR_BAD_REQUEST,fn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Yn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,l=0,s=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=a[s];r||(r=o),n[l]=i,a[l]=o;let d=s,u=0;for(;d!==l;)u+=n[d++],d%=e;if(l=(l+1)%e,l===s&&(s=(s+1)%e),o-r<t)return;const p=c&&o-c;return p?Math.round(1e3*u/p):void 0}};const Xn=function(e,t){let n,a,r=0,l=1e3/t;const s=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=l,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=l?s(o,e):(n=o,a||(a=setTimeout(()=>{a=null,s(n)},l-t)))},()=>n&&s(n)]},Zn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=Yn(50,250);return Xn(n=>{const l=n.loaded,s=n.lengthComputable?n.total:void 0,i=l-a,o=r(i);a=l;e({loaded:l,total:s,progress:s?l/s:void 0,bytes:i,rate:o||void 0,estimated:o&&s&&l<=s?(s-l)/o:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},ea=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},ta=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return un.asap(()=>e(...n))},na=On.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,On.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,aa=On.hasStandardBrowserEnv?{write(e,t,n,a,r,l){const s=[e+"="+encodeURIComponent(t)];un.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),un.isString(a)&&s.push("path="+a),un.isString(r)&&s.push("domain="+r),!0===l&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ra(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const la=e=>e instanceof Wn?u({},e):e;function sa(e,t){t=t||{};const n={};function a(e,t,n,a){return un.isPlainObject(e)&&un.isPlainObject(t)?un.merge.call({caseless:a},e,t):un.isPlainObject(t)?un.merge({},t):un.isArray(t)?t.slice():t}function r(e,t,n,r){return un.isUndefined(t)?un.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function l(e,t){if(!un.isUndefined(t))return a(void 0,t)}function s(e,t){return un.isUndefined(t)?un.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(n,r,l){return l in t?a(n,r):l in e?a(void 0,n):void 0}const o={url:l,method:l,data:l,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t,n)=>r(la(e),la(t),0,!0)};return un.forEach(Object.keys(u(u({},e),t)),function(a){const l=o[a]||r,s=l(e[a],t[a],a);un.isUndefined(s)&&l!==i||(n[a]=s)}),n}const ia=e=>{const t=sa({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:l,headers:s,auth:i}=t;if(t.headers=s=Wn.from(s),t.url=Sn(ra(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),un.isFormData(n))if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(un.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&s.set(n,a)})}if(On.hasStandardBrowserEnv&&(a&&un.isFunction(a)&&(a=a(t)),a||!1!==a&&na(t.url))){const e=r&&l&&aa.read(l);e&&s.set(r,e)}return t},oa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=ia(e);let r=a.data;const l=Wn.from(a.headers).normalize();let s,i,o,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(s),a.signal&&a.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const a=Wn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Jn(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new fn("Request aborted",fn.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new fn(a,fn.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||En;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new fn(t,r.clarifyTimeoutError?fn.ETIMEDOUT:fn.ECONNABORTED,e,f)),f=null},void 0===r&&l.setContentType(null),"setRequestHeader"in f&&un.forEach(l.toJSON(),function(e,t){f.setRequestHeader(t,e)}),un.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([o,d]=Zn(m,!0),f.addEventListener("progress",o)),p&&f.upload&&([i,c]=Zn(p),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(s=t=>{f&&(n(!t||t.type?new Kn(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(s),a.signal&&(a.signal.aborted?s():a.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===On.protocols.indexOf(v)?n(new fn("Unsupported protocol "+v+":",fn.ERR_BAD_REQUEST,e)):f.send(r||null)})},ca=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;a.abort(t instanceof fn?t:new Kn(t instanceof Error?t.message:t))}};let l=t&&setTimeout(()=>{l=null,r(new fn("timeout ".concat(t," of ms exceeded"),fn.ETIMEDOUT))},t);const s=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:i}=a;return i.unsubscribe=()=>un.asap(s),i}};function da(e,t){this.v=e,this.k=t}function ua(e){return function(){return new pa(e.apply(this,arguments))}}function pa(e){var t,n;function a(t,n){try{var l=e[t](n),s=l.value,i=s instanceof da;Promise.resolve(i?s.v:s).then(function(n){if(i){var o="return"===t?"return":"next";if(!s.k||n.done)return a(o,n);n=e[o](n).value}r(l.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(l,s){var i={key:e,arg:r,resolve:l,reject:s,next:null};n?n=n.next=i:(t=n=i,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function ma(e){return new da(e,0)}function ha(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new da(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function fa(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new ga(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function ga(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return ga=function(e){this.s=e,this.n=e.next},ga.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ga(e)}pa.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},pa.prototype.next=function(e){return this._invoke("next",e)},pa.prototype.throw=function(e){return this._invoke("throw",e)},pa.prototype.return=function(e){return this._invoke("return",e)};const va=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},xa=function(){var e=ua(function*(e,t){var n,a=!1,r=!1;try{for(var l,s=fa(ya(e));a=!(l=yield ma(s.next())).done;a=!1){const e=l.value;yield*ha(fa(va(e,t)))}}catch(i){r=!0,n=i}finally{try{a&&null!=s.return&&(yield ma(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),ya=function(){var e=ua(function*(e){if(e[Symbol.asyncIterator])return void(yield*ha(fa(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield ma(t.read());if(e)break;yield n}}finally{yield ma(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ba=(e,t,n,a)=>{const r=xa(e,t);let l,s=0,i=e=>{l||(l=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return i(),void e.close();let l=a.byteLength;if(n){let e=s+=l;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},{isFunction:ja}=un,Na=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(un.global),{ReadableStream:_a,TextEncoder:wa}=un.global,Ca=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Dr){return!1}},Sa=e=>{e=un.merge.call({skipUndefined:!0},Na,e);const{fetch:t,Request:n,Response:a}=e,r=t?ja(t):"function"===typeof fetch,l=ja(n),s=ja(a);if(!r)return!1;const i=r&&ja(_a),o=r&&("function"===typeof wa?(c=new wa,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=l&&i&&Ca(()=>{let e=!1;const t=new n(On.origin,{body:new _a,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),p=s&&i&&Ca(()=>un.isReadableStream(new a("").body)),m={stream:p&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new fn("Response type '".concat(e,"' is not supported"),fn.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const a=un.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(un.isBlob(e))return e.size;if(un.isSpecCompliantForm(e)){const t=new n(On.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return un.isArrayBufferView(e)||un.isArrayBuffer(e)?e.byteLength:(un.isURLSearchParams(e)&&(e+=""),un.isString(e)?(await o(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:s,data:i,signal:o,cancelToken:c,timeout:f,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:j}=ia(e),N=t||fetch;x=x?(x+"").toLowerCase():"text";let _=ca([o,c&&c.toAbortSignal()],f),w=null;const C=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let S;try{if(v&&d&&"get"!==s&&"head"!==s&&0!==(S=await h(y,i))){let e,t=new n(r,{method:"POST",body:i,duplex:"half"});if(un.isFormData(i)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=ea(S,Zn(ta(v)));i=ba(t.body,65536,e,n)}}un.isString(b)||(b=b?"include":"omit");const t=l&&"credentials"in n.prototype,o=u(u({},j),{},{signal:_,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0});w=l&&new n(r,o);let c=await(l?N(w,j):N(r,o));const f=p&&("stream"===x||"response"===x);if(p&&(g||f&&C)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=un.toFiniteNumber(c.headers.get("content-length")),[n,r]=g&&ea(t,Zn(ta(g),!0))||[];c=new a(ba(c.body,65536,n,()=>{r&&r(),C&&C()}),e)}x=x||"text";let k=await m[un.findKey(m,x)||"text"](c,e);return!f&&C&&C(),await new Promise((t,n)=>{Jn(t,n,{data:k,headers:Wn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(k){if(C&&C(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new fn("Network Error",fn.ERR_NETWORK,e,w),{cause:k.cause||k});throw fn.from(k,k&&k.code,e,w)}}},ka=new Map,Ea=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,l=[a,r,n];let s,i,o=l.length,c=ka;for(;o--;)s=l[o],i=c.get(s),void 0===i&&c.set(s,i=o?new Map:Sa(t)),c=i;return i},Ta=(Ea(),{http:null,xhr:oa,fetch:{get:Ea}});un.forEach(Ta,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Dr){}Object.defineProperty(e,"adapterName",{value:t})}});const Pa=e=>"- ".concat(e),La=e=>un.isFunction(e)||null===e||!1===e,Ra=(e,t)=>{e=un.isArray(e)?e:[e];const{length:n}=e;let a,r;const l={};for(let s=0;s<n;s++){let n;if(a=e[s],r=a,!La(a)&&(r=Ta[(n=String(a)).toLowerCase()],void 0===r))throw new fn("Unknown adapter '".concat(n,"'"));if(r&&(un.isFunction(r)||(r=r.get(t))))break;l[n||"#"+s]=r}if(!r){const e=Object.entries(l).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Pa).join("\n"):" "+Pa(e[0]):"as no adapter specified";throw new fn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Aa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kn(null,e)}function za(e){Aa(e),e.headers=Wn.from(e.headers),e.data=Gn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ra(e.adapter||In.adapter,e)(e).then(function(t){return Aa(e),t.data=Gn.call(e,e.transformResponse,t),t.headers=Wn.from(t.headers),t},function(t){return $n(t)||(Aa(e),t&&t.response&&(t.response.data=Gn.call(e,e.transformResponse,t.response),t.response.headers=Wn.from(t.response.headers))),Promise.reject(t)})}const Oa="1.12.2",Da={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Da[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Fa={};Da.transitional=function(e,t,n){function a(e,t){return"[Axios v"+Oa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,l)=>{if(!1===e)throw new fn(a(r," has been removed"+(t?" in "+t:"")),fn.ERR_DEPRECATED);return t&&!Fa[r]&&(Fa[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,l)}},Da.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Ia={assertOptions:function(e,t,n){if("object"!==typeof e)throw new fn("options must be an object",fn.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const l=a[r],s=t[l];if(s){const t=e[l],n=void 0===t||s(t,l,e);if(!0!==n)throw new fn("option "+l+" must be "+n,fn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new fn("Unknown option "+l,fn.ERR_BAD_OPTION)}},validators:Da},qa=Ia.validators;class Ma{constructor(e){this.defaults=e||{},this.interceptors={request:new kn,response:new kn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Dr){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=sa(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&Ia.assertOptions(n,{silentJSONParsing:qa.transitional(qa.boolean),forcedJSONParsing:qa.transitional(qa.boolean),clarifyTimeoutError:qa.transitional(qa.boolean)},!1),null!=a&&(un.isFunction(a)?t.paramsSerializer={serialize:a}:Ia.assertOptions(a,{encode:qa.function,serialize:qa.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ia.assertOptions(t,{baseUrl:qa.spelling("baseURL"),withXsrfToken:qa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=r&&un.merge(r.common,r[t.method]);r&&un.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Wn.concat(l,r);const s=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[za.bind(this),void 0];for(e.unshift(...s),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=za.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Sn(ra((e=sa(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(e){Ma.prototype[e]=function(t,n){return this.request(sa(n||{},{method:e,url:t,data:(n||{}).data}))}}),un.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(sa(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Ma.prototype[e]=t(),Ma.prototype[e+"Form"]=t(!0)});const Ua=Ma;class Ba{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Kn(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ba(function(t){e=t}),cancel:e}}}const Ha=Ba;const Va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Va).forEach(e=>{let[t,n]=e;Va[n]=t});const Wa=Va;const Ga=function e(t){const n=new Ua(t),a=wt(Ua.prototype.request,n);return un.extend(a,Ua.prototype,n,{allOwnKeys:!0}),un.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(sa(t,n))},a}(In);Ga.Axios=Ua,Ga.CanceledError=Kn,Ga.CancelToken=Ha,Ga.isCancel=$n,Ga.VERSION=Oa,Ga.toFormData=bn,Ga.AxiosError=fn,Ga.Cancel=Ga.CanceledError,Ga.all=function(e){return Promise.all(e)},Ga.spread=function(e){return function(t){return e.apply(null,t)}},Ga.isAxiosError=function(e){return un.isObject(e)&&!0===e.isAxiosError},Ga.mergeConfig=sa,Ga.AxiosHeaders=Wn,Ga.formToJSON=e=>Dn(un.isHTMLForm(e)?new FormData(e):e),Ga.getAdapter=Ra,Ga.HttpStatusCode=Wa,Ga.default=Ga;const $a=Ga.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:3e4});$a.interceptors.request.use(e=>{const t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t));const n=localStorage.getItem("selectedCompanyId");return n&&(e.headers["X-Company-Id"]=n),e}),$a.interceptors.response.use(e=>e,e=>{var t;if(e.response)console.error("API Error Response:",{status:e.response.status,statusText:e.response.statusText,data:e.response.data,url:null===(t=e.config)||void 0===t?void 0:t.url});else if(e.request){var n,a,r,l;console.error("API Network Error:",{message:e.message,code:e.code,url:null===(n=e.config)||void 0===n?void 0:n.url,method:null===(a=e.config)||void 0===a?void 0:a.method,headers:null===(r=e.config)||void 0===r?void 0:r.headers,timeout:null===(l=e.config)||void 0===l?void 0:l.timeout,fullError:e})}else console.error("API Request Setup Error:",e.message);return Promise.reject(e)});const Qa=$a;var Ka=n(579);const Ja=(0,r.createContext)(void 0),Ya=()=>{const e=(0,r.useContext)(Ja);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Xa=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0),i=!!n;(0,r.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const e=JSON.parse(t);a(e);const n=localStorage.getItem("selectedCompanyId");if("super_admin"===e.role)"ALL"!==n&&(localStorage.setItem("selectedCompanyId","ALL"),console.log("\u2705 Super admin: Forzando selectedCompanyId a ALL (corrigiendo sesi\xf3n antigua)"));else if(!n)if(e.companyRoles&&Object.keys(e.companyRoles).length>0){const t=Object.keys(e.companyRoles)[0];localStorage.setItem("selectedCompanyId",t),console.log("\u2705 Company ID establecido al cargar:",t)}else e.company_id&&(localStorage.setItem("selectedCompanyId",e.company_id),console.log("\u2705 Company ID (legacy) establecido al cargar:",e.company_id));s(!1)}catch(n){console.error("Error parsing user data:",n),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedCompanyId"),s(!1)}else s(!1)},[]);const o={user:n,isAuthenticated:i,login:async(e,t)=>{try{const n=await Qa.post("/auth/login",{email:e,password:t}),{token:r,user:l}=n.data;if(localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(l)),l.companyRoles&&Object.keys(l.companyRoles).length>0){const e=Object.keys(l.companyRoles)[0];localStorage.setItem("selectedCompanyId",e),console.log("\u2705 Company ID guardado:",e)}else l.company_id?(localStorage.setItem("selectedCompanyId",l.company_id),console.log("\u2705 Company ID (legacy) guardado:",l.company_id)):"super_admin"===l.role?(localStorage.setItem("selectedCompanyId","ALL"),console.log("\u2705 Super admin: Todas las empresas seleccionadas (ALL)")):console.warn("\u26a0\ufe0f  Usuario sin company asociada");a(l)}catch(s){var n,r,l;throw console.error("Error de login:",{message:null===s||void 0===s?void 0:s.message,response:null===s||void 0===s||null===(n=s.response)||void 0===n?void 0:n.data,status:null===s||void 0===s||null===(r=s.response)||void 0===r?void 0:r.status,statusText:null===s||void 0===s||null===(l=s.response)||void 0===l?void 0:l.statusText,code:null===s||void 0===s?void 0:s.code,fullError:s}),s}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedCompanyId"),a(null)},loading:l,hasRole:e=>(null===n||void 0===n?void 0:n.role)===e,isSuperAdmin:()=>"super_admin"===(null===n||void 0===n?void 0:n.role),isAdmin:()=>"admin"===(null===n||void 0===n?void 0:n.role),isLawyer:()=>"lawyer"===(null===n||void 0===n?void 0:n.role),isUser:()=>"requester"===(null===n||void 0===n?void 0:n.role),getUserCompany:()=>(null===n||void 0===n?void 0:n.company_id)||null};return(0,Ka.jsx)(Ja.Provider,{value:o,children:t})},Za=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),{login:c}=Ya();return(0,Ka.jsx)("div",{className:"login-container",children:(0,Ka.jsxs)("div",{className:"login-card",children:[(0,Ka.jsx)("h1",{children:"Legal Bot"}),(0,Ka.jsx)("h2",{children:"Iniciar Sesi\xf3n"}),l&&(0,Ka.jsx)("div",{className:"error-message",children:l}),(0,Ka.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(""),o(!0);try{await c(e,n)}catch(a){let e="Error al iniciar sesi\xf3n";a.response?a.response.data?a.response.data.error?e=a.response.data.error:a.response.data.message?e=a.response.data.message:a.response.data.errors&&Array.isArray(a.response.data.errors)&&(e=a.response.data.errors.map(e=>e.msg||e.message).join(", ")):401===a.response.status?e="Credenciales inv\xe1lidas":500===a.response.status?e="Error del servidor. Por favor, intenta m\xe1s tarde":404===a.response.status&&(e="Servicio no encontrado. Verifica la configuraci\xf3n"):a.request?e="No se pudo conectar con el servidor. Verifica tu conexi\xf3n":a.message&&(e=a.message),s(e)}finally{o(!1)}},children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,Ka.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,disabled:i})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a:"}),(0,Ka.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>a(e.target.value),required:!0,disabled:i})]}),(0,Ka.jsx)("button",{type:"submit",disabled:i,className:"login-button",children:i?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}),(0,Ka.jsxs)("div",{className:"demo-credentials",children:[(0,Ka.jsx)("h3",{children:"Credenciales de Demo:"}),(0,Ka.jsxs)("div",{className:"super-admin-section",children:[(0,Ka.jsx)("h4",{children:"\ud83d\udd27 Super Administrador"}),(0,Ka.jsx)("div",{className:"role-credentials",children:(0,Ka.jsxs)("div",{className:"role-card super-admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udd27 Super Admin"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," superadmin@legalbot.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]}),(0,Ka.jsx)("p",{children:(0,Ka.jsx)("em",{children:"Gesti\xf3n completa del sistema"})})]})})]}),(0,Ka.jsx)("h3",{children:"Credenciales de Sistema:"}),(0,Ka.jsxs)("div",{className:"company-section",children:[(0,Ka.jsx)("h4",{children:"\ud83c\udfe2 Sistema Legal Bot"}),(0,Ka.jsxs)("div",{className:"role-credentials",children:[(0,Ka.jsxs)("div",{className:"role-card admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc51 Administrador"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," admin@demo.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card lawyer",children:[(0,Ka.jsx)("h5",{children:"\u2696\ufe0f Abogado"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," abogado@demo.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card user",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc64 Usuario"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," solicitante@demo.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]})]})]}),(0,Ka.jsxs)("div",{className:"company-section",children:[(0,Ka.jsx)("h4",{children:"\u2696\ufe0f LegalFirm & Asociados"}),(0,Ka.jsxs)("div",{className:"role-credentials",children:[(0,Ka.jsxs)("div",{className:"role-card admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc51 Admin"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," admin@legalfirm.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card lawyer",children:[(0,Ka.jsx)("h5",{children:"\u2696\ufe0f Lawyer"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," lawyer@legalfirm.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card user",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc64 User"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," user@legalfirm.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]})]})]}),(0,Ka.jsxs)("div",{className:"company-section",children:[(0,Ka.jsx)("h4",{children:"\ud83c\udfe2 BusinessCorp Internacional"}),(0,Ka.jsxs)("div",{className:"role-credentials",children:[(0,Ka.jsxs)("div",{className:"role-card admin",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc51 Admin"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," admin@businesscorp.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card lawyer",children:[(0,Ka.jsx)("h5",{children:"\u2696\ufe0f Lawyer"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," lawyer@businesscorp.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]}),(0,Ka.jsxs)("div",{className:"role-card user",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc64 User"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," user@businesscorp.com"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Contrase\xf1a:"})," 123456"]})]})]})]})]})]})})},er=(0,r.createContext)(void 0),tr=()=>{const e=(0,r.useContext)(er);if(!e)throw new Error("useCompany must be used within a CompanyProvider");return e},nr=e=>{var t,n;let{children:a}=e;const{user:l}=Ya(),[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(l)try{var e;const t=await Qa.get("/companies/my-companies");console.log("Respuesta de /my-companies:",t.data);const n=t.data;let a=[];if(Array.isArray(n)?a=n:n&&"object"===typeof n?(console.warn("Respuesta no es array, intentando convertir:",n),a=[]):(console.warn("Respuesta inesperada de /my-companies:",n),a=[]),c(a),0===a.length)return console.warn("No hay empresas disponibles para el usuario. El usuario debe tener al menos una empresa asignada."),void u(!1);const r=new URLSearchParams(window.location.search).get("company"),l=localStorage.getItem("selectedCompanyId");let s=r||l||(null===(e=a[0])||void 0===e?void 0:e.companyId);const o=a.some(e=>e.roles.includes("super_admin"));if(!("ALL"===s?o:a.some(e=>e.companyId===s))&&a.length>0&&(s=a[0].companyId),s&&(i(s),localStorage.setItem("selectedCompanyId",s),console.log("\u2705 CompanyContext: Empresa seleccionada: ".concat("ALL"===s?"TODAS LAS EMPRESAS":s)),r!==s)){const e=new URL(window.location.href);e.searchParams.set("company",s),window.history.replaceState({},"",e.toString())}u(!1)}catch(t){console.error("Error al cargar empresas:",t),u(!1)}else u(!1)})()},[l]);const p="ALL"===s?["super_admin"]:(null===(t=o.find(e=>e.companyId===s))||void 0===t?void 0:t.roles)||[],m="ALL"===s?"Todas las empresas":(null===(n=o.find(e=>e.companyId===s))||void 0===n?void 0:n.companyName)||null,h={selectedCompanyId:s,selectedCompanyName:m,userCompanies:o,currentRoles:p,selectCompany:e=>{if("ALL"===e){if(!o.some(e=>e.roles.includes("super_admin")))return void console.error("Solo super_admin puede acceder a todas las empresas")}else{if(!o.some(t=>t.companyId===e))return void console.error("No tienes acceso a esta empresa")}i(e),localStorage.setItem("selectedCompanyId",e);const t=new URL(window.location.href);t.searchParams.set("company",e),window.history.pushState({},"",t.toString()),window.location.reload()},hasRole:e=>Array.isArray(e)?e.some(e=>p.includes(e)):p.includes(e),isLoading:d};return(0,Ka.jsx)(er.Provider,{value:h,children:a})},ar=e=>{let{children:t,allowedRoles:n,fallback:a=null}=e;const{user:r}=Ya(),{hasRole:l,currentRoles:s}=tr();if(!r)return(0,Ka.jsx)(Ka.Fragment,{children:a});if("super_admin"===r.role)return(0,Ka.jsx)(Ka.Fragment,{children:t});if(r.companyRoles&&s.length>0){if(l(n))return(0,Ka.jsx)(Ka.Fragment,{children:t})}else if(n.includes(r.role))return(0,Ka.jsx)(Ka.Fragment,{children:t});return(0,Ka.jsx)(Ka.Fragment,{children:a})},rr=()=>{const{user:e}=Ya(),t=ge(),[n,a]=(0,r.useState)({totalContracts:0,totalTemplates:0,totalCompanies:0,pendingRequests:0}),[l,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await Qa.get("/dashboard/stats");a({totalContracts:e.data.totalContracts||0,totalTemplates:e.data.totalTemplates||0,totalCompanies:e.data.totalCompanies||0,pendingRequests:e.data.pendingRequests||0})}catch(e){console.error("Error fetching dashboard data:",e),a({totalContracts:0,totalTemplates:0,totalCompanies:0,pendingRequests:0})}finally{s(!1)}};if(l)return(0,Ka.jsx)("div",{className:"loading",children:"Cargando dashboard..."});return(0,Ka.jsxs)("div",{className:"dashboard",children:[(0,Ka.jsx)("h1",{children:(()=>{switch(null===e||void 0===e?void 0:e.role){case"super_admin":return"\ud83d\udd27 Panel de Super Administraci\xf3n";case"admin":return"\ud83d\udc51 Panel de Administraci\xf3n";case"lawyer":return"\u2696\ufe0f Panel de Abogado";case"requester":return"\ud83d\udc64 Panel de Usuario";default:return"Dashboard"}})()}),(0,Ka.jsxs)("div",{className:"user-info",children:[(0,Ka.jsxs)("p",{children:["Bienvenido, ",(0,Ka.jsx)("strong",{children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)})]}),(0,Ka.jsx)("span",{className:"role-badge",children:null===e||void 0===e?void 0:e.role}),(null===e||void 0===e?void 0:e.company)&&(0,Ka.jsxs)("div",{className:"company-info",children:[(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",e.company.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"RUC:"})," ",e.company.tax_id]})]})]}),(0,Ka.jsxs)("div",{className:"stats-grid",children:[(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Contratos"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.totalContracts})]}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Plantillas"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.totalTemplates})]})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Empresas"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.totalCompanies})]})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsxs)("div",{className:"stat-card",children:[(0,Ka.jsx)("h3",{children:"Solicitudes Pendientes"}),(0,Ka.jsx)("div",{className:"stat-number",children:n.pendingRequests})]})})]}),(0,Ka.jsxs)("div",{className:"quick-actions",children:[(0,Ka.jsx)("h2",{children:"Acciones R\xe1pidas"}),(0,Ka.jsxs)("div",{className:"action-buttons",children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/contracts"),children:"Ver Contratos"}),(0,Ka.jsxs)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/contract-generator"),children:"Crear Contrato"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/templates"),children:"Nueva Plantilla"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/companies"),children:"Agregar Empresa"})]}),(0,Ka.jsxs)(ar,{allowedRoles:["super_admin","admin"],children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/users"),children:"Administrar Usuarios"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/system-config"),children:"Configuraci\xf3n Sistema"})]}),(0,Ka.jsxs)(ar,{allowedRoles:["super_admin"],children:[(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/suppliers"),children:"Gesti\xf3n Completa"}),(0,Ka.jsx)("button",{className:"action-btn",onClick:()=>t("/super-admin"),children:"Super Administraci\xf3n"})]})]})]})]})},lr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[h,f]=(0,r.useState)({title:"",company:"",status:"borrador",description:"",template_id:""}),[g,v]=(0,r.useState)(""),[x,y]=(0,r.useState)([]),[b,j]=(0,r.useState)(""),[N,_]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[E,T]=(0,r.useState)(""),[P,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{R()},[]);const R=async()=>{try{const e=await Qa.get("/contracts");t(e.data)}catch(e){console.error("Error fetching contracts:",e)}finally{a(!1)}},A=async e=>{try{const t=await Qa.get("/documents/download/word/".concat(e),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","contrato_".concat(e,".docx")),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(n)}catch(t){console.error("Error downloading Word document:",t),alert("Error al descargar el documento Word")}},z=(()=>{let t=[...e];if(g.trim()){const e=g.toLowerCase();t=t.filter(t=>{var n,a;return(null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.contract_number)||void 0===a?void 0:a.toLowerCase().includes(e))})}if(x.length>0&&(t=t.filter(e=>x.includes(e.status))),w.trim()){const e=w.toLowerCase();t=t.filter(t=>{var n,a;return(null===(n=t.company_name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.company)||void 0===a?void 0:a.toLowerCase().includes(e))})}if(S.trim()){const e=S.toLowerCase();t=t.filter(t=>{var n,a;return null===(n=t.template)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.toLowerCase().includes(e)})}if(E.trim()){const e=E.toLowerCase();t=t.filter(t=>{var n,a;return(null===(n=t.content)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.title)||void 0===a?void 0:a.toLowerCase().includes(e))})}if(b){const e=new Date(b);t=t.filter(t=>new Date(t.createdAt)>=e)}if(N){const e=new Date(N);e.setHours(23,59,59,999),t=t.filter(t=>new Date(t.createdAt)<=e)}return t})(),O=[g.trim(),x.length>0,b,N,w.trim(),S.trim(),E.trim()].filter(Boolean).length;return n?(0,Ka.jsx)("div",{className:"loading",children:"Cargando contratos..."}):(0,Ka.jsxs)("div",{className:"contracts",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Contratos"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>s(!0),children:"Nuevo Contrato"})]}),(0,Ka.jsxs)("div",{className:"filters-container",children:[(0,Ka.jsxs)("div",{className:"filters-header",children:[(0,Ka.jsxs)("button",{className:"btn-toggle-filters",onClick:()=>L(!P),children:[P?"\u25bc":"\u25b6"," Filtros",O>0&&(0,Ka.jsx)("span",{className:"filter-badge",children:O})]}),O>0&&(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:()=>{v(""),y([]),j(""),_(""),C(""),k(""),T("")},children:"Limpiar Filtros"}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",z.length," de ",e.length," contratos"]})]}),P&&(0,Ka.jsxs)("div",{className:"filters-content",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo o n\xfamero de contrato...",value:g,onChange:e=>v(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por empresa...",value:w,onChange:e=>C(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Plantilla:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre de plantilla...",value:S,onChange:e=>k(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Tercero:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre o identificaci\xf3n del tercero...",value:E,onChange:e=>T(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsx)("div",{className:"status-checkboxes",children:["borrador","revision","aprobado","firmado","cancelado"].map(e=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:x.includes(e),onChange:()=>(e=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e)}),(0,Ka.jsx)("span",{className:"status-label ".concat(e),children:e})]},e))})]}),(0,Ka.jsxs)("div",{className:"filter-group-row",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha desde:"}),(0,Ka.jsx)("input",{type:"date",value:b,onChange:e=>j(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha hasta:"}),(0,Ka.jsx)("input",{type:"date",value:N,onChange:e=>_(e.target.value),className:"filter-input"})]})]})]})]}),(0,Ka.jsx)("div",{className:"contracts-list",children:0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay contratos"}),(0,Ka.jsx)("p",{children:"Crea tu primer contrato para comenzar"})]}):0===z.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No se encontraron contratos"}),(0,Ka.jsx)("p",{children:"Intenta ajustar los filtros para ver m\xe1s resultados"})]}):(0,Ka.jsx)("div",{className:"contracts-table-wrapper",children:(0,Ka.jsxs)("table",{className:"contracts-table-compact",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{className:"th-contract-number",children:"Contrato"}),(0,Ka.jsx)("th",{className:"th-template",children:"Plantilla"}),(0,Ka.jsx)("th",{className:"th-third-party",children:"Tercero"}),(0,Ka.jsx)("th",{className:"th-status",children:"Estado"}),(0,Ka.jsx)("th",{className:"th-date",children:"Fecha"}),(0,Ka.jsx)("th",{className:"th-actions",children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:z.map(e=>{var t,n;return(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("td",{className:"contract-number-col",children:(0,Ka.jsxs)("div",{className:"contract-info",children:[(0,Ka.jsx)("strong",{title:e.contract_number||e.title||"N/A",children:e.contract_number||e.title||"N/A"}),e.title&&e.contract_number&&(0,Ka.jsx)("small",{title:e.title,children:e.title})]})}),(0,Ka.jsx)("td",{className:"template-col",children:(0,Ka.jsx)("span",{className:"template-badge",title:(null===(t=e.template)||void 0===t?void 0:t.name)||"Sin plantilla",children:(null===(n=e.template)||void 0===n?void 0:n.name)||"Sin plantilla"})}),(0,Ka.jsx)("td",{className:"third-party-col",children:(0,Ka.jsx)("span",{className:"third-party-name",title:e.company_name||e.company||"N/A",children:e.company_name||e.company||"N/A"})}),(0,Ka.jsx)("td",{className:"status-col",children:(0,Ka.jsx)("span",{className:"status-badge status-".concat(e.status),children:e.status})}),(0,Ka.jsx)("td",{className:"date-col",children:(0,Ka.jsx)("div",{className:"date-time-info",children:(0,Ka.jsx)("span",{className:"date-value",children:new Date(e.createdAt).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})})})}),(0,Ka.jsx)("td",{className:"actions-col",children:(0,Ka.jsxs)("div",{className:"action-buttons",children:[e.file_path&&(0,Ka.jsx)("button",{className:"btn-action btn-download",onClick:()=>A(e._id||e.id||""),title:"Descargar ".concat(e.contract_number||"contrato"),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ka.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,Ka.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),(0,Ka.jsx)("button",{className:"btn-action btn-delete",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este contrato?"))try{await Qa.delete("/contracts/".concat(e)),await R(),alert("Contrato eliminado exitosamente")}catch(t){console.error("Error deleting contract:",t),alert("Error al eliminar el contrato")}})(e._id||e.id||""),title:"Eliminar ".concat(e.contract_number||"contrato"),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,Ka.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},e._id||e.id)})})]})})}),l&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nuevo Contrato"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"T\xedtulo del Contrato:"}),(0,Ka.jsx)("input",{type:"text",value:h.title,onChange:e=>f(u(u({},h),{},{title:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:h.company,onChange:e=>f(u(u({},h),{},{company:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsxs)("select",{value:h.status,onChange:e=>f(u(u({},h),{},{status:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"borrador",children:"Borrador"}),(0,Ka.jsx)("option",{value:"revision",children:"En Revisi\xf3n"}),(0,Ka.jsx)("option",{value:"aprobado",children:"Aprobado"}),(0,Ka.jsx)("option",{value:"firmado",children:"Firmado"}),(0,Ka.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{value:h.description,onChange:e=>f(u(u({},h),{},{description:e.target.value})),rows:4,placeholder:"Describe el contrato...",required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>s(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/contracts",h),await R(),s(!1),f({title:"",company:"",status:"borrador",description:"",template_id:""})}catch(e){console.error("Error creating contract:",e)}},disabled:!h.title||!h.company,children:"Crear Contrato"})]})]})}),i&&p&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Detalles del Contrato"}),(0,Ka.jsxs)("div",{className:"contract-details",children:[(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"N\xfamero:"})," ",p.contract_number||"N/A"]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"T\xedtulo:"})," ",p.title||"Sin t\xedtulo"]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",p.company_name||p.company]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Estado:"})," ",(0,Ka.jsx)("span",{className:"status ".concat(p.status),children:p.status})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Creado:"})," ",new Date(p.createdAt).toLocaleDateString()]}),(p.file_path||p.pdf_path)&&(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("strong",{children:"Documentos:"}),(0,Ka.jsx)("div",{className:"document-links",children:p.file_path&&(0,Ka.jsx)("button",{className:"btn-download-word",onClick:()=>A(p._id||p.id||""),children:"\ud83d\udcc4 Descargar Word"})})]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>o(!1),children:"Cerrar"})})]})}),c&&p&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Contrato"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"T\xedtulo del Contrato:"}),(0,Ka.jsx)("input",{type:"text",value:p.title,onChange:e=>m(u(u({},p),{},{title:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:p.company_name||p.company,onChange:e=>m(u(u({},p),{},{company_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsxs)("select",{value:p.status,onChange:e=>m(u(u({},p),{},{status:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"borrador",children:"Borrador"}),(0,Ka.jsx)("option",{value:"revision",children:"En Revisi\xf3n"}),(0,Ka.jsx)("option",{value:"aprobado",children:"Aprobado"}),(0,Ka.jsx)("option",{value:"firmado",children:"Firmado"}),(0,Ka.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.put("/contracts/".concat(p._id||p.id),{title:p.title,company:p.company_name||p.company,status:p.status}),await R(),d(!1),alert("Contrato actualizado exitosamente")}catch(e){console.error("Error updating contract:",e),alert("Error al actualizar el contrato")}},disabled:!p.title||!(p.company_name||p.company),children:"Guardar Cambios"})]})]})})]})},sr=e=>{let{templateId:t,onProfileSelect:n,onChange:a}=e;const[l,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[N,_]=(0,r.useState)("");(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{t?C():(d(null),m(""),f(null))},[t]),(0,r.useEffect)(()=>{if(a&&a(h),h){const e={};h.field_mappings.forEach(t=>{const n=t.template_variable.replace(/[{}]/g,"");e[n]=t.value||""}),n(e)}else n({})},[h,a,n]);const w=async()=>{y(!0);try{const e=await Qa.get("/suppliers"),t=Array.isArray(e.data)?e.data:e.data.suppliers||[];s(t.filter(e=>e.active))}catch(N){console.error("Error fetching suppliers:",N),_("Error al cargar terceros")}finally{y(!1)}},C=async()=>{if(t){j(!0),_("");try{const e=await Qa.post("/third-party-profiles/analyze-template/".concat(t));e.data.success&&(d(e.data.analysis),1===e.data.analysis.roles_detected.length&&m(e.data.analysis.roles_detected[0]))}catch(N){console.error("Error analyzing template:",N),_("Error al analizar plantilla")}finally{j(!1)}}},S=async(e,n)=>{if(t&&e&&n){v(!0),_("");try{const a=await Qa.post("/third-party-profiles/auto-fill",{supplier_id:e,template_id:t,role_in_template:n});a.data.success&&f(a.data.profile)}catch(N){console.error("Error auto-filling profile:",N),_("Error al auto-llenar perfil")}finally{v(!1)}}};return(0,Ka.jsxs)("div",{className:"third-party-profile-selector",children:[(0,Ka.jsx)("h4",{children:"Seleccionar Tercero para esta Plantilla"}),b&&(0,Ka.jsx)("div",{className:"loading-message",children:"Analizando plantilla..."}),c&&c.roles_count>0&&(0,Ka.jsx)("div",{className:"template-analysis-info",children:(0,Ka.jsxs)("div",{className:"analysis-summary",children:[(0,Ka.jsxs)("span",{className:"analysis-badge",children:[c.roles_count," rol(es) detectado(s)"]}),(0,Ka.jsxs)("span",{className:"analysis-badge",children:[c.total_variables," variables"]}),(0,Ka.jsxs)("span",{className:"analysis-badge",children:[c.classification_rate,"% clasificadas"]})]})}),c&&c.roles_count>1&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{className:"form-label",children:["Rol del Tercero en este Contrato",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsxs)("select",{value:p,onChange:e=>(async e=>{m(e),i&&t&&await S(i._id,e)})(e.target.value),className:"form-select",disabled:g,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccionar rol --"}),c.role_groups.map(e=>(0,Ka.jsxs)("option",{value:e.role,children:[e.role_label," (",e.variables.length," campos)"]},e.role))]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{className:"form-label",children:["Tercero",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsxs)("select",{value:(null===i||void 0===i?void 0:i._id)||"",onChange:e=>(async e=>{if(!e)return o(null),void f(null);const n=l.find(t=>t._id===e);n&&(o(n),p&&t&&await S(e,p))})(e.target.value),className:"form-select",disabled:x||g,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccionar tercero --"}),l.map(e=>{const t=e.legal_name||e.full_name||e.identification_number;return(0,Ka.jsxs)("option",{value:e._id,children:[t," (",e.identification_number,")"]},e._id)})]}),x&&(0,Ka.jsx)("span",{className:"loading-text",children:"Cargando terceros..."})]}),g&&(0,Ka.jsx)("div",{className:"loading-message",children:"Auto-llenando perfil desde datos del tercero..."}),N&&(0,Ka.jsx)("div",{className:"error-message",children:N}),h&&(0,Ka.jsxs)("div",{className:"profile-preview",children:[(0,Ka.jsxs)("div",{className:"profile-header",children:[(0,Ka.jsxs)("div",{className:"profile-title",children:[(0,Ka.jsxs)("h5",{children:["Perfil: ",h.role_label]}),(0,Ka.jsx)("span",{className:"profile-meta",children:(null===i||void 0===i?void 0:i.legal_name)||(null===i||void 0===i?void 0:i.full_name)})]}),(0,Ka.jsxs)("div",{className:"completeness-indicator",children:[(0,Ka.jsx)("div",{className:"completeness-bar-container",children:(0,Ka.jsx)("div",{className:"completeness-bar",style:{width:"".concat(h.completeness.percentage,"%"),backgroundColor:(k=h.completeness.percentage,k>=80?"#4caf50":k>=50?"#ff9800":"#f44336")}})}),(0,Ka.jsxs)("span",{className:"completeness-text",children:[h.completeness.percentage,"% completo"]})]})]}),(0,Ka.jsxs)("div",{className:"profile-stats",children:[(0,Ka.jsxs)("span",{className:"stat",children:[h.field_mappings.filter(e=>e.is_auto_filled).length," auto-llenados"]}),(0,Ka.jsxs)("span",{className:"stat",children:[h.completeness.filled_fields_count,"/",h.field_mappings.length," llenos"]}),h.usage_count>0&&(0,Ka.jsxs)("span",{className:"stat",children:["Usado ",h.usage_count," vez(es)"]})]}),h.completeness.percentage<100&&(0,Ka.jsxs)("div",{className:"missing-fields-section",children:[(0,Ka.jsx)("h6",{children:"Campos Faltantes"}),(0,Ka.jsx)("div",{className:"fields-grid",children:h.field_mappings.filter(e=>!e.value||""===e.value).slice(0,5).map((e,t)=>{const n=e.template_variable.replace(/[{}]/g,"");return(0,Ka.jsxs)("div",{className:"field-item",children:[(0,Ka.jsx)("label",{className:"field-label",children:n}),(0,Ka.jsx)("input",{type:"text",className:"field-input",placeholder:"Ingrese ".concat(n),value:e.value||"",onChange:t=>((e,t)=>{if(!h)return;const n=h.field_mappings.map(n=>n.template_variable===e?u(u({},n),{},{value:t,is_auto_filled:!1}):n),a=u(u({},h),{},{field_mappings:n});f(a)})(e.template_variable,t.target.value)})]},t)})}),h.completeness.missing_fields.length>5&&(0,Ka.jsxs)("p",{className:"more-fields-text",children:["Y ",h.completeness.missing_fields.length-5," campo(s) m\xe1s..."]})]}),100===h.completeness.percentage&&(0,Ka.jsx)("div",{className:"success-message",children:"Todos los campos est\xe1n completos. El perfil est\xe1 listo para generar el contrato."})]}),!i&&!h&&(0,Ka.jsxs)("div",{className:"help-text",children:["Selecciona un tercero para auto-llenar los campos del contrato con su informaci\xf3n.",c&&c.roles_count>0&&(0,Ka.jsx)("span",{children:" Los campos detectados para el rol seleccionado se llenar\xe1n autom\xe1ticamente."})]})]});var k},ir=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)({}),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(!1),[N,_]=(0,r.useState)([]),[w,C]=(0,r.useState)(null),[S,k]=(0,r.useState)(!1),E=e=>{console.log("\ud83d\udd04 setAllFieldsFilled llamado con:",e),j(e)};console.log("\ud83d\udd04 ContractGenerator render - allFieldsFilled:",b),(0,r.useEffect)(()=>{(async()=>{try{const e=await Qa.get("/templates");t(e.data)}catch(e){console.error("Error fetching templates:",e),y("Error al cargar las plantillas")}})(),T()},[]);const T=async()=>{k(!0);try{console.log("\ud83d\udd0d [ContractGenerator] Fetching suppliers...");const e=await Qa.get("/suppliers");console.log("\u2705 [ContractGenerator] Suppliers fetched:",e.data),Array.isArray(e.data)?_(e.data):e.data&&Array.isArray(e.data.suppliers)?_(e.data.suppliers):(console.error("\u26a0\ufe0f [ContractGenerator] Unexpected response format:",e.data),_([]))}catch(x){var e;console.error("\u274c [ContractGenerator] Error fetching suppliers:",x),console.error("Error details:",null===(e=x.response)||void 0===e?void 0:e.data),_([])}finally{k(!1)}},P=e=>{return(t=e,t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase().replace(/[_\s\/\-]+/g,"").replace(/de/g,"").replace(/del/g,"").replace(/la/g,"").replace(/el/g,"");var t};(0,r.useEffect)(()=>{if(console.log("\ud83d\udd04 useEffect ejecutado - Validaci\xf3n"),console.log("  - selectedTemplate:",!!n),console.log("  - selectedTemplate name:",null===n||void 0===n?void 0:n.name),console.log("  - contractData keys:",Object.keys(l)),console.log("  - contractData values:",Object.values(l)),n){const e=new Map;n.fields.forEach(t=>{if(t.required){const n=P(t.field_name);e.has(n)||e.set(n,t)}});const t=Array.from(e.values());console.log("  - Required fields count (unique):",t.length),console.log("  - Required field names:",t.map(e=>e.field_name));const a=t.map(e=>{const t=l[e.field_name],n=t&&""!==t.trim();return console.log("    - ".concat(e.field_name,': "').concat(t,'" \u2192 ').concat(n?"LLENO":"VAC\xcdO")),n}).every(e=>e);console.log("  - Todos llenos:",a),console.log("  - Llamando setAllFieldsFilled con:",a),E(a)}else console.log("  - No hay plantilla seleccionada"),console.log("  - Llamando setAllFieldsFilled con: false"),E(!1)},[l,n]),(0,r.useEffect)(()=>{if(console.log("\ud83d\udd04 useEffect adicional - Forzar validaci\xf3n"),n&&Object.keys(l).length>0){const e=new Map;n.fields.forEach(t=>{if(t.required){const n=P(t.field_name);e.has(n)||e.set(n,t)}});const t=Array.from(e.values()).every(e=>{const t=l[e.field_name];return t&&""!==t.trim()});console.log("\ud83d\udd04 Validaci\xf3n forzada - Todos llenos:",t),b!==t&&(console.log("\ud83d\udd04 Estado cambi\xf3, actualizando..."),E(t))}});const L=(e,t)=>{const a=u({},l);if(a[e]=t,console.log("\ud83d\udcdd CAMPO ACTUALIZADO:",e,"\u2192",'"'.concat(t,'"')),n){const r=A(e);n.fields.filter(e=>A(e.field_name)===r).forEach(n=>{n.field_name!==e&&(a[n.field_name]=t,console.log("\ud83d\udd04 CAMPO SIMILAR ACTUALIZADO:",n.field_name,"\u2192",'"'.concat(t,'"')))});const l=n.fields.find(t=>t.field_name===e);if(l){n.fields.filter(e=>e.can_repeat&&e.repeat_source&&e.repeat_source===l.field_name).forEach(e=>{const n=e.field_name;a[n]=t,console.log("\ud83d\udd04 VARIABLE REPETIDA ACTUALIZADA:",n,"\u2192",'"'.concat(t,'"'))})}}s(a)},R=()=>b,A=e=>{return(t=e,t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase().replace(/[_\s\/\-]+/g,"").replace(/de/g,"").replace(/del/g,"").replace(/la/g,"").replace(/el/g,"");var t},z=()=>{if(!n)return[];const e=[],t=new Set;return n.fields.forEach(n=>{if(n.can_repeat&&n.repeat_source){const a=n.field_name;t.has(a)||(t.add(a),e.push(n))}}),e};return(0,Ka.jsxs)("div",{className:"contract-generator",children:[(0,Ka.jsxs)("div",{className:"generator-header",children:[(0,Ka.jsx)("h2",{children:"Generador de Contratos"}),(0,Ka.jsx)("p",{children:"Selecciona una plantilla y completa los datos para generar tu contrato"})]}),x&&(0,Ka.jsx)("div",{className:"error-message",children:x}),(0,Ka.jsxs)("div",{className:"template-selection",children:[(0,Ka.jsx)("h3",{children:"1. Seleccionar Plantilla"}),(0,Ka.jsx)("div",{className:"templates-grid",children:e.map(e=>(0,Ka.jsxs)("div",{className:"template-card ".concat((null===n||void 0===n?void 0:n._id)===e._id?"selected":""),onClick:()=>(e=>{a(e),s({}),o(""),d(""),m(""),f(""),y(""),C(null);const t={},n=new Set;e.fields.forEach(e=>{const a=e.field_name;n.has(a)||(n.add(a),t[a]="")}),console.log("\ud83d\udcdd Inicializando datos de plantilla:"),console.log("  - Total fields in template:",e.fields.length),console.log("  - Unique field names:",n.size),console.log("  - Field names:",Array.from(n)),s(t)})(e),children:[(0,Ka.jsx)("h4",{children:e.name}),(0,Ka.jsx)("p",{className:"template-category",children:e.category}),(0,Ka.jsx)("p",{className:"template-description",children:e.description}),(0,Ka.jsxs)("div",{className:"template-stats",children:[(0,Ka.jsxs)("span",{children:[e.fields.length," campos"]}),e.fields.filter(e=>e.can_repeat).length>0&&(0,Ka.jsxs)("span",{className:"repeat-info",children:[e.fields.filter(e=>e.can_repeat).length," variables reutilizables"]})]})]},e._id))})]}),n&&(0,Ka.jsxs)("div",{className:"contract-form",children:[(0,Ka.jsx)("h3",{children:"2. Completar Informaci\xf3n"}),(0,Ka.jsx)(sr,{templateId:n._id,onProfileSelect:e=>{console.log("\ud83d\udccb Profile data received:",e),s(t=>u(u({},t),e))},onChange:e=>{console.log("\ud83d\udd04 Profile changed:",e)}}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n Principal"}),(0,Ka.jsx)("div",{className:"form-grid",children:(()=>{if(!n)return[];const e=[],t=new Set;return n.fields.forEach(n=>{const a=A(n.field_name);t.has(a)?console.log('\u26a0\ufe0f  Campo duplicado omitido: "'.concat(n.field_name,'" (normalizado: "').concat(a,'")')):(t.add(a),e.push(n),console.log('\u2705 Campo \xfanico: "'.concat(n.field_name,'" (normalizado: "').concat(a,'")')))}),console.log("\ud83d\udd0d getUniqueFields:"),console.log("  - Total fields in template:",n.fields.length),console.log("  - Unique fields returned:",e.length),e})().map((e,t)=>{var n;const a=e.field_name;return(0,Ka.jsxs)("div",{className:"form-field",children:[(0,Ka.jsxs)("label",{htmlFor:a,children:[e.field_label,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),"textarea"===e.field_type?(0,Ka.jsx)("textarea",{id:a,value:l[a]||"",onChange:e=>L(a,e.target.value),className:"form-input",rows:3,required:e.required}):"select"===e.field_type?(0,Ka.jsxs)("select",{id:a,value:l[a]||"",onChange:e=>L(a,e.target.value),className:"form-input",required:e.required,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar..."}),null===(n=e.field_options)||void 0===n?void 0:n.map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))]}):(0,Ka.jsx)("input",{type:"date"===e.field_type?"date":"email"===e.field_type?"email":"text",id:a,value:l[a]||"",onChange:e=>L(a,e.target.value),className:"form-input",required:e.required}),e.repeat_count>1&&(0,Ka.jsxs)("div",{className:"repeat-indicator",children:["\ud83d\udccb Se usar\xe1 en ",e.repeat_count," ubicaciones"]})]},"".concat(e.field_name,"-").concat(t))})})]}),z().length>0&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Variables Reutilizadas"}),(0,Ka.jsx)("p",{className:"section-description",children:"Estas variables se llenan autom\xe1ticamente bas\xe1ndose en la informaci\xf3n principal"}),(0,Ka.jsx)("div",{className:"repeated-variables",children:z().map((e,t)=>{const a=e.field_name,r=n.fields.find(t=>t.field_name===String(e.repeat_source));return(0,Ka.jsxs)("div",{className:"repeated-variable",children:[(0,Ka.jsxs)("div",{className:"variable-info",children:[(0,Ka.jsx)("strong",{children:e.field_label}),(0,Ka.jsxs)("span",{className:"source-info",children:["\u2190 Copia de: ",null===r||void 0===r?void 0:r.field_label]})]}),(0,Ka.jsx)("div",{className:"variable-value",children:l[a]||"Se llenar\xe1 autom\xe1ticamente"})]},"".concat(e.field_name,"-").concat(t))})})]}),(0,Ka.jsxs)("div",{className:"form-actions",children:[(0,Ka.jsx)("button",{onClick:async()=>{if(n){if(!R()){const e=n.fields.filter(e=>e.required).filter(e=>{const t=l[e.field_name];return!t||""===t.trim()});return void y("Por favor completa todos los campos requeridos. Faltan: ".concat(e.map(e=>e.field_label).join(", ")))}v(!0),y("");try{const e={};n.fields.forEach(t=>{const n=t.field_name;e[n]=l[n]||""}),console.log("\ud83d\udce4 Enviando datos completos:",{templateId:n._id,dataFields:Object.keys(e).length,data:e}),console.log("\ud83d\udd0d DEBUG: Informaci\xf3n de la plantilla:"),console.log("  - Template ID:",n._id),console.log("  - Template Name:",n.name),console.log("  - Total fields:",n.fields.length);const t=n.fields.filter(e=>e.required);console.log("  - Required fields:",t.length),t.forEach((e,t)=>{console.log("    ".concat(t+1,". ").concat(e.field_label," (").concat(e.field_name,")"))}),console.log("\ud83d\udd0d DEBUG: Datos que se enviar\xe1n:"),Object.keys(e).forEach(t=>{const n=e[t],a=!n||""===n.trim();console.log("  - ".concat(t,': "').concat(n,'" ').concat(a?"(VAC\xcdO)":"(LLENO)"))});const a=t.filter(t=>!e[t.field_name]||""===e[t.field_name].trim());a.length>0?(console.log("\u274c CAMPOS FALTANTES:"),a.forEach(e=>{console.log("  - ".concat(e.field_label," (").concat(e.field_name,")"))})):console.log("\u2705 Todos los campos requeridos est\xe1n llenos");const r=await Qa.post("/contract-generator/generate",{templateId:n._id,data:e});o(r.data.contract),d(r.data.contractId),m(r.data.contract_number),f(r.data.word_file),console.log("\u2705 Contrato generado exitosamente:"),console.log("  - ID:",r.data.contractId),console.log("  - N\xfamero:",r.data.contract_number),console.log("  - Word file:",r.data.word_file)}catch(c){var e,t,a,r,s,i;console.error("\u274c Error generating contract:",c),console.error("\u274c Error response:",null===(e=c.response)||void 0===e?void 0:e.data),console.error("\u274c Error status:",null===(t=c.response)||void 0===t?void 0:t.status),null!==(a=c.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.missingFields&&console.error("\u274c Missing fields:",c.response.data.missingFields),y((null===(s=c.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Error al generar el contrato")}finally{v(!1)}}},disabled:g||!R(),className:"generate-button",children:g?"Generando...":"Generar Contrato"}),!R()&&(0,Ka.jsx)("p",{className:"validation-message",children:"\u26a0\ufe0f Completa todos los campos requeridos para generar el contrato"}),(0,Ka.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"10px"},children:["DEBUG: allFieldsFilled = ",b.toString()]})]})]}),i&&(0,Ka.jsxs)("div",{className:"generated-contract",children:[(0,Ka.jsx)("h3",{children:"3. Contrato Generado"}),p&&(0,Ka.jsxs)("div",{className:"contract-info",children:[(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"N\xfamero de Contrato:"})," ",p]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"ID:"})," ",c]})]}),(0,Ka.jsx)("div",{className:"contract-content",children:(0,Ka.jsx)("pre",{children:i})}),(0,Ka.jsxs)("div",{className:"contract-actions",children:[(0,Ka.jsx)("button",{onClick:()=>navigator.clipboard.writeText(i),className:"copy-button",children:"Copiar Contrato"}),h&&(0,Ka.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=await Qa.get("/contracts/download/".concat(encodeURIComponent(e)),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=a,r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(a)}catch(x){console.error("Error downloading file:",x),y("Error al descargar el archivo")}})(h,"contrato-".concat(p||(null===n||void 0===n?void 0:n.name)||"generado",".docx")),className:"download-button word-button",children:"\ud83d\udcc4 Descargar Word"}),(0,Ka.jsx)("button",{onClick:()=>{const e=new Blob([i],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="contrato-".concat(p||(null===n||void 0===n?void 0:n.name)||"generado",".txt"),a.click()},className:"download-button",children:"\ud83d\udcdd Descargar TXT"})]})]})]})},or=e=>{let{onTemplateCreated:t}=e;const[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)([]),[h,f]=(0,r.useState)({}),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),b=(0,r.useRef)(null);return(0,Ka.jsxs)("div",{className:"word-template-upload",children:[(0,Ka.jsxs)("div",{className:"upload-section",children:[(0,Ka.jsx)("h2",{children:"Crear Plantilla desde Word"}),(0,Ka.jsxs)("p",{className:"upload-description",children:["Sube un archivo Word con marcadores ","{{variable}}"," y se crear\xe1 autom\xe1ticamente una plantilla."]}),(0,Ka.jsxs)("div",{className:"file-upload-area",children:[(0,Ka.jsx)("input",{ref:b,type:"file",accept:".docx",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(n.name.toLowerCase().endsWith(".docx")?(a(n),s(n.name.replace(".docx",""))):alert("Por favor selecciona un archivo Word (.docx)"))},className:"file-input",id:"word-file"}),(0,Ka.jsx)("label",{htmlFor:"word-file",className:"file-label",children:n?n.name:"Seleccionar archivo Word (.docx)"})]}),c&&(0,Ka.jsxs)("div",{className:"processing",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Procesando archivo Word y creando plantilla..."})]}),n&&!c&&(0,Ka.jsxs)("div",{className:"template-form",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"template-name",children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{id:"template-name",type:"text",value:l,onChange:e=>s(e.target.value),placeholder:"Ej: Contrato de Servicios",required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{htmlFor:"template-description",children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{id:"template-description",value:i,onChange:e=>o(e.target.value),placeholder:"Descripci\xf3n de la plantilla...",rows:3})]}),(0,Ka.jsx)("div",{className:"submit-section",children:(0,Ka.jsx)("button",{onClick:()=>(async e=>{if(l.trim()){d(!0);try{const t=new FormData;t.append("wordFile",e),t.append("name",l),t.append("description",i),console.log("\ud83d\ude80 Enviando archivo para detectar variables..."),console.log("\ud83d\udcdd Datos enviados:"),console.log("  - Name:",l),console.log("  - Description:",i),console.log("  - File:",e.name);const n=await Qa.post("/templates/detect-variables",t,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 Respuesta recibida:",n.data),n.data.variables&&n.data.variables.length>0){console.log("\ud83c\udf89 VARIABLES DETECTADAS EXITOSAMENTE:"),console.log("  - Variables count:",n.data.variables.length),console.log("  - Message:",n.data.message),console.log("  - Variables:",n.data.variables),console.log("  - Requires field names:",n.data.requiresFieldNames),m(n.data.variables),y(n.data.previewHtml||""),v(!0);const e={};n.data.variables.forEach(t=>{e[t.field_name]=t.field_label}),f(e)}else console.log("\u26a0\ufe0f No se detectaron variables"),console.log("  - Response data:",n.data),alert("No se detectaron variables en el documento. Aseg\xfarate de usar marcadores {{variable}}")}catch(a){var t,n;console.error("Error processing Word file:",a),alert("Error al procesar el archivo Word: "+(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||0)}finally{d(!1)}}else alert("Por favor ingresa el nombre de la plantilla")})(n),className:"btn-submit",disabled:c||!l.trim(),children:c?"Procesando...":"Crear Plantilla"})})]}),g&&(0,Ka.jsxs)("div",{className:"name-assignment-form",children:[(0,Ka.jsx)("h3",{children:"Asignar Nombres Descriptivos a las Variables"}),(0,Ka.jsx)("p",{className:"assignment-description",children:"Asigna nombres descriptivos a cada variable detectada. Estos nombres aparecer\xe1n en el formulario de generaci\xf3n de contratos."}),(0,Ka.jsx)("div",{className:"variables-list",children:p.map((e,t)=>(0,Ka.jsxs)("div",{className:"variable-item",children:[(0,Ka.jsxs)("div",{className:"variable-info",children:[(0,Ka.jsxs)("strong",{children:["Variable ",t+1,":"]}),(0,Ka.jsxs)("code",{children:["{","{",e.original_marker,"}","}"]}),(0,Ka.jsxs)("span",{className:"variable-label",children:["(aparece ",e.repeat_count," veces)"]})]}),(0,Ka.jsxs)("div",{className:"name-assignment",children:[(0,Ka.jsx)("label",{htmlFor:"descriptive-name-".concat(e.field_name,"-").concat(t),children:"Nombre Descriptivo:"}),(0,Ka.jsx)("input",{id:"descriptive-name-".concat(e.field_name,"-").concat(t),type:"text",value:h[e.field_name]||"",onChange:t=>f(n=>u(u({},n),{},{[e.field_name]:t.target.value})),placeholder:"Ej: ".concat(e.field_label),required:!0})]})]},"".concat(e.field_name,"-").concat(t)))}),(0,Ka.jsx)("div",{className:"submit-section",children:(0,Ka.jsx)("button",{onClick:async()=>{if(l.trim()){d(!0);try{const e=p.map(e=>u(u({},e),{},{descriptive_name:h[e.field_name]||e.field_label}));console.log("\ud83c\udfd7\ufe0f CREANDO PLANTILLA CON NOMBRES DESCRIPTIVOS:"),console.log("  - Name:",l),console.log("  - Variables:",e);const n=await Qa.post("/templates/create-template-with-names",{name:l,description:i,variables:e,html:x});console.log("\u2705 PLANTILLA CREADA EXITOSAMENTE:"),console.log("  - Template ID:",n.data.templateId),console.log("  - Template name:",n.data.template.name),console.log("  - Fields:",n.data.template.fields),alert("\u2705 Plantilla creada exitosamente!\n\nNombre: ".concat(n.data.template.name,"\nVariables detectadas: ").concat(n.data.template.fields,"\nID: ").concat(n.data.templateId)),a(null),s(""),o(""),m([]),f({}),v(!1),y(""),b.current&&(b.current.value=""),t&&t(n.data.templateId)}catch(r){var e,n;console.error("Error creating template:",r),alert("Error al crear la plantilla: "+(null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||0)}finally{d(!1)}}else alert("Por favor ingresa el nombre de la plantilla")},className:"btn-submit",disabled:c,children:c?"Creando Plantilla...":"Crear Plantilla con Nombres Asignados"})})]})]}),(0,Ka.jsxs)("div",{className:"instructions",children:[(0,Ka.jsx)("h3",{children:"Instrucciones:"}),(0,Ka.jsxs)("ol",{children:[(0,Ka.jsxs)("li",{children:["Prepara tu documento Word con marcadores como: ",(0,Ka.jsx)("code",{children:"{{nombre_empresa}}"}),", ",(0,Ka.jsx)("code",{children:"{{fecha_contrato}}"}),", etc."]}),(0,Ka.jsx)("li",{children:"Selecciona el archivo Word (.docx)"}),(0,Ka.jsx)("li",{children:"Ingresa el nombre y descripci\xf3n de la plantilla"}),(0,Ka.jsx)("li",{children:'Haz clic en "Crear Plantilla"'}),(0,Ka.jsx)("li",{children:"El sistema detectar\xe1 autom\xe1ticamente las variables y crear\xe1 la plantilla"})]})]})]})},cr=e=>{let{onTemplateCreated:t}=e;const[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[x,y]=(0,r.useState)(!1),b=(e,t,n)=>{const a=[...i];a[e]=u(u({},a[e]),{},{[t]:n}),o(a)},j=(e,t,n)=>{const a=[...i];a[e]=u(u({},a[e]),{},{[t]:n}),o(a)};return(0,Ka.jsxs)("div",{className:"word-template-upload",children:[(0,Ka.jsx)("h3",{children:"\ud83d\udcc4 Cargar Plantilla desde Word (Con Formato Preservado)"}),(0,Ka.jsxs)("div",{className:"upload-section",children:[(0,Ka.jsx)("input",{type:"file",accept:".docx,.doc",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&a(n)},disabled:l}),n&&(0,Ka.jsxs)("div",{className:"file-info",children:[(0,Ka.jsxs)("p",{children:["\ud83d\udcc1 Archivo seleccionado: ",n.name]}),(0,Ka.jsx)("button",{onClick:async()=>{if(n){s(!0);try{var e,t,a,r,l;const s=new FormData;s.append("file",n),console.log("\ud83d\udcc4 Procesando archivo Word con formato preservado...");const i=await Qa.post("/templates/process-word-with-format",s,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 Respuesta recibida:",i.data),console.log("\ud83d\udcc4 HTML completo recibido:",null===(e=i.data.formattedHtml)||void 0===e?void 0:e.length,"caracteres"),console.log("\ud83d\udcc4 Vista previa recibida:",null===(t=i.data.previewHtml)||void 0===t?void 0:t.length,"caracteres"),console.log("\ud83d\udcc4 Primeros 500 caracteres del HTML completo:",null===(a=i.data.formattedHtml)||void 0===a?void 0:a.substring(0,500)),console.log("\ud83d\udcc4 \xdaltimos 500 caracteres del HTML completo:",null===(r=i.data.formattedHtml)||void 0===r?void 0:r.substring(Math.max(0,((null===(l=i.data.formattedHtml)||void 0===l?void 0:l.length)||0)-500))),i.data.variables&&i.data.variables.length>0){o(i.data.variables),d(i.data.formattedHtml),m(i.data.previewHtml),y(!0);const e=i.data.variables.map((e,t)=>u(u({},e),{},{descriptive_name:e.original_marker||"Variable ".concat(t+1),type:"text",required:!0}));o(e)}else alert("No se detectaron variables en el documento")}catch(i){console.error("Error procesando archivo Word:",i),alert("Error al procesar el archivo Word")}finally{s(!1)}}},disabled:l,className:"btn btn-primary",children:l?"Procesando...":"Procesar con Formato Completo"})]})]}),x&&(0,Ka.jsxs)("div",{className:"variable-form",children:[(0,Ka.jsx)("h4",{children:"\ud83d\udcdd Configurar Variables de la Plantilla"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Ej: Contrato de Servicios",className:"form-control"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n (opcional):"}),(0,Ka.jsx)("textarea",{value:g,onChange:e=>v(e.target.value),placeholder:"Descripci\xf3n de la plantilla...",className:"form-control",rows:3})]}),(0,Ka.jsxs)("h5",{children:["\ud83d\udd27 Variables Detectadas (",i.length,"):"]}),i.map((e,t)=>(0,Ka.jsxs)("div",{className:"variable-item",children:[(0,Ka.jsxs)("div",{className:"variable-header",children:[(0,Ka.jsxs)("strong",{children:["Variable ",t+1,":"]})," ",e.original_marker]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsxs)("select",{value:e.type,onChange:e=>b(t,"type",e.target.value),className:"form-control",children:[(0,Ka.jsx)("option",{value:"text",children:"Texto"}),(0,Ka.jsx)("option",{value:"number",children:"N\xfamero"}),(0,Ka.jsx)("option",{value:"date",children:"Fecha"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"textarea",children:"Texto Largo"})]})]}),(0,Ka.jsx)("div",{className:"form-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.required||!1,onChange:e=>j(t,"required",e.target.checked)}),"Requerido"]})})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.is_repeated||!1,onChange:e=>j(t,"is_repeated",e.target.checked)}),"Variable repetida"]}),e.is_repeated&&(0,Ka.jsxs)("div",{className:"form-group",style:{marginTop:"10px"},children:[(0,Ka.jsx)("label",{children:"Copiar informaci\xf3n de la variable n\xfamero:"}),(0,Ka.jsxs)("select",{value:e.repeat_source||"",onChange:e=>b(t,"repeat_source",e.target.value),className:"form-control",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar variable..."}),i.map((e,n)=>n!==t?(0,Ka.jsxs)("option",{value:n+1,children:["#",n+1," - ",e.original_marker||e.descriptive_name]},n):null)]})]})]})]},t)),(0,Ka.jsxs)("div",{className:"preview-section",children:[(0,Ka.jsx)("h5",{children:"\ud83d\udc41\ufe0f Vista Previa del Formato:"}),(0,Ka.jsx)("div",{className:"html-preview",dangerouslySetInnerHTML:{__html:c||p},style:{border:"1px solid #ddd",padding:"15px",borderRadius:"5px",backgroundColor:"#f9f9f9",maxHeight:"800px",overflow:"auto",minHeight:"400px"}})]}),(0,Ka.jsx)("div",{className:"form-actions",children:(0,Ka.jsx)("button",{onClick:async()=>{if(h.trim()){s(!0);try{console.log("\ud83c\udfd7\ufe0f Creando plantilla con formato preservado...");const e=i.map(e=>u(u({},e),{},{descriptive_name:e.original_marker||e.descriptive_name||"Variable ".concat(i.indexOf(e)+1)})),n=await Qa.post("/templates/create-template-with-names",{name:h,description:g,variables:e,html:p,formattedHtml:c});console.log("\u2705 Plantilla creada:",n.data),alert("Plantilla creada exitosamente con formato preservado"),t(n.data.template),a(null),o([]),d(""),m(""),f(""),v(""),y(!1)}catch(e){console.error("Error creando plantilla:",e),alert("Error al crear la plantilla")}finally{s(!1)}}else alert("Por favor ingresa un nombre para la plantilla")},disabled:l||!h.trim(),className:"btn btn-success",children:l?"Creando...":"Crear Plantilla con Formato Preservado"})})]})]})},dr=e=>{var t;let{onContractGenerated:n}=e;const[a,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)({}),[d,p]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)([]),[v,x]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{j(),N()},[]);const j=async()=>{try{const e=await Qa.get("/templates");l(e.data)}catch(e){console.error("Error fetching templates:",e)}finally{p(!1)}},N=async()=>{b(!0);try{console.log("\ud83d\udd0d [WordContractGenerator] Fetching suppliers...");const e=await Qa.get("/suppliers");console.log("\u2705 [WordContractGenerator] Suppliers fetched:",e.data),Array.isArray(e.data)?g(e.data):e.data&&Array.isArray(e.data.suppliers)?g(e.data.suppliers):(console.error("\u26a0\ufe0f [WordContractGenerator] Unexpected response format:",e.data),g([]))}catch(t){var e;console.error("\u274c [WordContractGenerator] Error fetching suppliers:",t),console.error("Error details:",null===(e=t.response)||void 0===e?void 0:e.data),g([])}finally{b(!1)}},_=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""),w=e=>{if(console.log("\ud83d\udd0d [handleSupplierSelect] Called with supplierId:",e),!e)return console.log("\u26a0\ufe0f [handleSupplierSelect] No supplier ID provided, clearing selection"),void x(null);const t=f.find(t=>t._id===e);if(console.log("\ud83d\udd0d [handleSupplierSelect] Found supplier:",t?t.legal_name||t.full_name:"NOT FOUND"),console.log("\ud83d\udd0d [handleSupplierSelect] Selected template:",s?s.name:"NO TEMPLATE"),!t||!s)return void console.error("\u274c [handleSupplierSelect] Missing supplier or template");x(t),console.log("\u2705 [handleSupplierSelect] Supplier set:",t.legal_name||t.full_name);const n=u({},o);console.log("\ud83d\udd0d [handleSupplierSelect] Template fields count:",s.fields.length);let a=0;s.fields.forEach(e=>{const r=((e,t)=>{const n=_(e),a={email:["email","correo","correelectronico","mail"],telefono:["phone","telefono","celular","movil","tel"],phone:["phone","telefono","celular","movil","tel"],direccion:["address","direccion","domicilio"],address:["address","direccion","domicilio"],ciudad:["city","ciudad","municipio"],city:["city","ciudad","municipio"],pais:["country","pais","nacion"],country:["country","pais","nacion"],identificacion:["identification_number","identificacion","nit","cedula","documento","nrodocumento"],nit:["identification_number","identificacion","nit"],cedula:["identification_number","identificacion","cedula"],documento:["identification_number","identificacion","documento"],tipodocumento:["identification_type","tipodocumento","tipoidentificacion"],tipoidentificacion:["identification_type","tipodocumento","tipoidentificacion"],nombre:["full_name","legal_name","nombre","nombreCompleto","razonsocial"],razonsocial:["legal_name","razonsocial","nombre","nombreCompleto"],nombreempresa:["legal_name","legal_name_short","nombreempresa","empresa"],empresa:["legal_name","legal_name_short","nombreempresa","empresa"],representantelegal:["legal_representative_name","representantelegal","representante"],representante:["legal_representative_name","representantelegal","representante"],cedularepresentante:["legal_representative_id_number","cedularepresentante","documentorepresentante"],documentorepresentante:["legal_representative_id_number","cedularepresentante","documentorepresentante"],tipoiddrepresentante:["legal_representative_id_type","tipoiddrepresentante"],ciudadexpedicion:["id_issue_city","ciudadexpedicion","lugarexpedicion"],lugarexpedicion:["id_issue_city","ciudadexpedicion","lugarexpedicion"]};for(const[l,s]of Object.entries(a)){const e=_(l);if(n.includes(e)||e.includes(n))for(const n of s){const e=t[n];if(void 0!==e&&null!==e&&""!==e)return e}}const r=Object.keys(t);for(const l of r){const e=_(l);if(n===e||n.includes(e)||e.includes(n)){const e=t[l];if(void 0!==e&&null!==e&&""!==e)return e}}if(t.custom_fields)for(const[l,s]of Object.entries(t.custom_fields)){const e=_(l);if((n===e||n.includes(e)||e.includes(n))&&void 0!==s&&null!==s&&""!==s)return s}return null})(e.name,t);console.log('  \ud83d\udccb Field "'.concat(e.name,'" -> ').concat(null!==r?'"'.concat(r,'"'):"NO MATCH")),null!==r&&(n[e.name]=r,a++)}),console.log("\u2705 [handleSupplierSelect] Matched ".concat(a,"/").concat(s.fields.length," fields")),console.log("\ud83d\udd0d [handleSupplierSelect] New form data:",n),c(n),console.log("\u2705 [handleSupplierSelect] Form data updated")},C=(e,t)=>{c(n=>u(u({},n),{},{[e]:t}))},S=e=>{var t;const n=o[e.name]||"";switch(e.type){case"text":case"email":return(0,Ka.jsx)("input",{type:e.type,value:n,onChange:t=>C(e.name,t.target.value),placeholder:e.description||e.name,required:e.required,className:"form-input"});case"number":return(0,Ka.jsx)("input",{type:"number",value:n,onChange:t=>C(e.name,t.target.value),placeholder:e.description||e.name,required:e.required,className:"form-input"});case"date":return(0,Ka.jsx)("input",{type:"date",value:n,onChange:t=>C(e.name,t.target.value),required:e.required,className:"form-input"});case"select":return(0,Ka.jsxs)("select",{value:n,onChange:t=>C(e.name,t.target.value),required:e.required,className:"form-input",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar..."}),null===(t=e.options)||void 0===t?void 0:t.map((e,t)=>(0,Ka.jsx)("option",{value:e,children:e},t))]});default:return(0,Ka.jsx)("input",{type:"text",value:n,onChange:t=>C(e.name,t.target.value),placeholder:e.description||e.name,required:e.required,className:"form-input"})}};return d?(0,Ka.jsx)("div",{className:"loading",children:"Cargando plantillas..."}):(0,Ka.jsxs)("div",{className:"word-contract-generator",children:[(0,Ka.jsxs)("div",{className:"generator-header",children:[(0,Ka.jsx)("h2",{children:"Generador de Contratos desde Word"}),(0,Ka.jsx)("p",{children:"Selecciona una plantilla y completa los campos para generar tu contrato"})]}),(0,Ka.jsxs)("div",{className:"generator-content",children:[(0,Ka.jsxs)("div",{className:"templates-section",children:[(0,Ka.jsx)("h3",{children:"Plantillas Disponibles"}),0===a.length?(0,Ka.jsx)("div",{className:"no-templates",children:(0,Ka.jsx)("p",{children:"No hay plantillas disponibles"})}):(0,Ka.jsx)("div",{className:"templates-grid",children:a.map(e=>{var t;return(0,Ka.jsxs)("div",{className:"template-card ".concat((null===s||void 0===s?void 0:s._id)===e._id?"selected":""),onClick:()=>(e=>{i(e),c({}),x(null)})(e),children:[(0,Ka.jsx)("h4",{children:e.name}),(0,Ka.jsx)("p",{children:e.description}),(0,Ka.jsxs)("div",{className:"template-info",children:[(0,Ka.jsxs)("span",{className:"field-count",children:[(null===(t=e.fields)||void 0===t?void 0:t.length)||0," campos"]}),(0,Ka.jsx)("span",{className:"template-type",children:"Word"})]})]},e._id)})})]}),s&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsxs)("div",{className:"form-header",children:[(0,Ka.jsx)("h3",{children:"Completar Informaci\xf3n"}),(0,Ka.jsxs)("p",{children:["Plantilla: ",s.name]})]}),(0,Ka.jsx)("div",{className:"supplier-selector-section",children:(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{className:"field-label",children:["Seleccionar Tercero (Opcional)",(0,Ka.jsx)("span",{className:"field-hint",children:" - Prellena autom\xe1ticamente los campos del formulario"})]}),(0,Ka.jsxs)("select",{value:(null===v||void 0===v?void 0:v._id)||"",onChange:e=>w(e.target.value),className:"form-input supplier-select",disabled:y,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccionar tercero existente --"}),f.map(e=>{const t=e.legal_name||e.full_name||e.identification_number,n=e.identification_number;return(0,Ka.jsxs)("option",{value:e._id,children:[t," (",n,")"]},e._id)})]}),y&&(0,Ka.jsx)("p",{className:"loading-text",children:"Cargando terceros..."}),v&&(0,Ka.jsxs)("div",{className:"selected-supplier-info",children:[(0,Ka.jsxs)("p",{className:"info-text",children:["Tercero seleccionado: ",(0,Ka.jsx)("strong",{children:v.legal_name||v.full_name})]}),(0,Ka.jsx)("p",{className:"info-subtext",children:"Los campos se han prellenado autom\xe1ticamente. Puedes modificarlos si es necesario."})]})]})}),(0,Ka.jsx)("div",{className:"form-fields",children:null===(t=s.fields)||void 0===t?void 0:t.map((e,t)=>(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{className:"field-label",children:[e.name,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),e.description&&(0,Ka.jsx)("p",{className:"field-description",children:e.description}),S(e)]},t))}),(0,Ka.jsx)("div",{className:"form-actions",children:(0,Ka.jsx)("button",{onClick:async()=>{if(s){h(!0);try{const e=await Qa.post("/templates/generate-word-contract",{templateId:s._id,formData:o},{responseType:"blob"}),t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="".concat(s.name,"_generado.docx"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a);const l=await Qa.post("/contracts",{title:"".concat(s.name," - ").concat((new Date).toLocaleDateString()),company:"Empresa del Usuario",status:"borrador",description:"Contrato generado desde plantilla: ".concat(s.name),template_id:s._id});n&&n(l.data.id),alert("Contrato generado exitosamente")}catch(e){console.error("Error generating contract:",e),alert("Error al generar el contrato")}finally{h(!1)}}},disabled:m,className:"btn-generate",children:m?"Generando...":"Generar Contrato"})})]})]})]})},ur=e=>{var t,n;let{templateId:a,onClose:l}=e;const[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[d,p]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{v()},[a]);const v=async()=>{try{p(!0);const e=await Qa.get("/templates/template-details/".concat(a));i(e.data.template),c(e.data.variables),g(e.data.variables)}catch(e){console.error("Error fetching template details:",e)}finally{p(!1)}},x=(e,t,n)=>{const a=[...f];a[e]=u(u({},a[e]),{},{[t]:n}),g(a)};return d?(0,Ka.jsx)("div",{className:"template-variables-overlay",children:(0,Ka.jsx)("div",{className:"template-variables-modal",children:(0,Ka.jsx)("div",{className:"loading",children:"Cargando detalles de la plantilla..."})})}):(0,Ka.jsx)("div",{className:"template-variables-overlay",children:(0,Ka.jsxs)("div",{className:"template-variables-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsxs)("h2",{children:["Variables de la Plantilla: ",null===s||void 0===s?void 0:s.name]}),(0,Ka.jsx)("button",{className:"close-button",onClick:l,children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"template-info",children:(0,Ka.jsxs)("div",{className:"info-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n de la Plantilla"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Categor\xeda:"})," ",null===s||void 0===s?void 0:s.category]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Descripci\xf3n:"})," ",(null===s||void 0===s?void 0:s.description)||"Sin descripci\xf3n"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Creado por:"})," ",null===s||void 0===s||null===(t=s.created_by)||void 0===t?void 0:t.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",(null===s||void 0===s||null===(n=s.company)||void 0===n?void 0:n.name)||"Sin empresa"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Total de variables:"})," ",o.length]})]})}),(0,Ka.jsxs)("div",{className:"variables-section",children:[(0,Ka.jsxs)("div",{className:"section-header",children:[(0,Ka.jsx)("h3",{children:"Variables Detectadas"}),(0,Ka.jsx)("div",{className:"section-actions",children:m?(0,Ka.jsxs)("div",{className:"edit-actions",children:[(0,Ka.jsx)("button",{className:"btn-save",onClick:async()=>{try{await Qa.put("/templates/template-variables/".concat(a),{variables:f}),c(f),h(!1),alert("Variables actualizadas correctamente")}catch(e){console.error("Error updating variables:",e),alert("Error al actualizar las variables")}},children:"Guardar Cambios"}),(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>{g(o),h(!1)},children:"Cancelar"})]}):(0,Ka.jsx)("button",{className:"btn-edit",onClick:()=>h(!0),children:"Editar Variables"})})]}),(0,Ka.jsx)("div",{className:"variables-list",children:(m?f:o).map((e,t)=>{var n;return(0,Ka.jsxs)("div",{className:"variable-card",children:[(0,Ka.jsxs)("div",{className:"variable-header",children:[(0,Ka.jsxs)("span",{className:"variable-number",children:["#",e.number]}),(0,Ka.jsx)("span",{className:"variable-marker",children:e.original_marker}),e.repeat_count>1&&(0,Ka.jsxs)("span",{className:"repeat-count",children:["(aparece ",e.repeat_count," veces)"]}),f.some((n,a)=>a!==t&&n.repeat_source===e.number)&&(0,Ka.jsx)("span",{className:"source-indicator",children:"\ud83d\udccb Variable origen"})]}),(0,Ka.jsxs)("div",{className:"variable-details",children:[(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Informaci\xf3n de Campo:"}),m?(0,Ka.jsx)("input",{type:"text",value:e.field_name,onChange:e=>x(t,"field_name",e.target.value),className:"field-input"}):(0,Ka.jsx)("span",{className:"field-value",children:e.field_name})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Nombre de Variable:"}),m?(0,Ka.jsx)("input",{type:"text",value:e.field_label,onChange:e=>x(t,"field_label",e.target.value),className:"field-input"}):(0,Ka.jsx)("span",{className:"field-value",children:e.field_label})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),m?(0,Ka.jsxs)("select",{value:e.field_type,onChange:e=>x(t,"field_type",e.target.value),className:"field-select",children:[(0,Ka.jsx)("option",{value:"text",children:"Texto"}),(0,Ka.jsx)("option",{value:"number",children:"N\xfamero"}),(0,Ka.jsx)("option",{value:"date",children:"Fecha"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"textarea",children:"\xc1rea de texto"}),(0,Ka.jsx)("option",{value:"select",children:"Selecci\xf3n"})]}):(0,Ka.jsx)("span",{className:"field-value",children:e.field_type})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),m?(0,Ka.jsx)("textarea",{value:e.description,onChange:e=>x(t,"description",e.target.value),className:"field-textarea",rows:2}):(0,Ka.jsx)("span",{className:"field-value",children:e.description})]}),(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Requerido:"}),m?(0,Ka.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>x(t,"required",e.target.checked),className:"field-checkbox"}):(0,Ka.jsx)("span",{className:"field-value",children:e.required?"S\xed":"No"})]}),m&&(0,Ka.jsxs)("div",{className:"repeat-section",children:[(0,Ka.jsx)("div",{className:"detail-row",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.can_repeat,onChange:()=>(e=>{const t=[...f];t[e]=u(u({},t[e]),{},{can_repeat:!t[e].can_repeat,repeat_source:t[e].can_repeat?t[e].repeat_source:null}),g(t)})(t),className:"field-checkbox"}),"Puede repetir informaci\xf3n"]})}),e.can_repeat&&(0,Ka.jsxs)("div",{className:"detail-row",children:[(0,Ka.jsx)("label",{children:"Repetir informaci\xf3n de la variable:"}),(0,Ka.jsxs)("select",{value:e.repeat_source||"",onChange:e=>((e,t)=>{const n=parseInt(t)-1,a=[...f];if(t&&n>=0&&n<f.length&&n!==e){const t=f[n];a[e]=u(u({},a[e]),{},{field_name:t.field_name,field_label:t.field_label,field_type:t.field_type,description:t.description,repeat_source:n+1})}else a[e]=u(u({},a[e]),{},""===t?{repeat_source:null}:{repeat_source:t?parseInt(t):null});g(a)})(t,e.target.value),className:"field-select",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar variable origen..."}),f.map((e,n)=>n!==t&&(0,Ka.jsxs)("option",{value:n+1,children:["#",n+1," - ",e.field_label," (","{","{",e.original_marker,"}","}",")"]},n))]}),e.repeat_source&&(0,Ka.jsx)("div",{className:"repeat-info",children:(0,Ka.jsxs)("small",{children:["Esta variable copiar\xe1 la informaci\xf3n de: ",(0,Ka.jsxs)("strong",{children:["#",e.repeat_source," - ",null===(n=f[e.repeat_source-1])||void 0===n?void 0:n.field_label]})]})})]})]})]})]},t)})})]})]})})},pr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)({name:"",type:"",description:"",content:""}),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),[w,C]=(0,r.useState)(null),[S,k]=(0,r.useState)({name:"",type:"",description:"",content:""});(0,r.useEffect)(()=>{E()},[]);const E=async()=>{try{const e=await Qa.get("/templates");t(e.data)}catch(e){console.error("Error fetching templates:",e)}finally{a(!1)}};return n?(0,Ka.jsx)("div",{className:"loading",children:"Cargando plantillas..."}):(0,Ka.jsxs)("div",{className:"templates",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Plantillas de Contratos"}),(0,Ka.jsxs)("div",{className:"header-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>o(!0),children:"Subir desde Word"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!0),children:"Subir Word (Con Formato)"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>m(!0),children:"Generar Contrato"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>s(!0),children:"Nueva Plantilla"})]})]}),(0,Ka.jsx)("div",{className:"templates-list",children:0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay plantillas"}),(0,Ka.jsx)("p",{children:"Crea tu primera plantilla para comenzar"})]}):e.map(e=>(0,Ka.jsxs)("div",{className:"template-card",children:[(0,Ka.jsx)("h3",{children:e.name}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Tipo:"})," ",e.type]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Descripci\xf3n:"})," ",e.description]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Creado:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,Ka.jsxs)("div",{className:"template-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{C(e),v(!0)})(e),children:"Ver"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{C(e),k({name:e.name,type:e.type,description:e.description,content:e.content||""}),y(!0)})(e),children:"Editar"}),(0,Ka.jsx)("button",{className:"btn-info",onClick:()=>(e=>{C(e),_(!0)})(e),children:"Variables"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>(e=>{C(e),j(!0)})(e),children:"Usar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta plantilla?"))try{await Qa.delete("/templates/".concat(e)),await E()}catch(t){console.error("Error deleting template:",t)}})(e._id||e.id),children:"Eliminar"})]})]},e._id||e.id))}),l&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nueva Plantilla"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:h.name,onChange:e=>f(u(u({},h),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsxs)("select",{value:h.type,onChange:e=>f(u(u({},h),{},{type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar tipo"}),(0,Ka.jsx)("option",{value:"contrato",children:"Contrato"}),(0,Ka.jsx)("option",{value:"acuerdo",children:"Acuerdo"}),(0,Ka.jsx)("option",{value:"convenio",children:"Convenio"}),(0,Ka.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{value:h.description,onChange:e=>f(u(u({},h),{},{description:e.target.value})),rows:3,required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contenido de la Plantilla:"}),(0,Ka.jsx)("textarea",{value:h.content,onChange:e=>f(u(u({},h),{},{content:e.target.value})),rows:10,placeholder:"Escribe el contenido de la plantilla aqu\xed...",required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>s(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/templates",h),await E(),s(!1),f({name:"",type:"",description:"",content:""})}catch(e){console.error("Error creating template:",e)}},disabled:!h.name||!h.type||!h.content,children:"Crear Plantilla"})]})]})}),g&&w&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsxs)("h3",{children:["Ver Plantilla: ",w.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre:"}),(0,Ka.jsx)("p",{children:w.name})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsx)("p",{children:w.type})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("p",{children:w.description})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contenido:"}),(0,Ka.jsx)("div",{className:"template-content-preview",style:{border:"1px solid #ddd",padding:"1rem",borderRadius:"4px",backgroundColor:"#f9f9f9",maxHeight:"400px",overflowY:"auto",fontFamily:"Times New Roman, serif",lineHeight:"1.6",color:"#333"},dangerouslySetInnerHTML:{__html:(e=>{if(!e)return"<p>Sin contenido</p>";return e.replace(/\{\{([^}]+)\}\}/g,'<span class="variable">{{$1}}</span>')})(w.content||"")}})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>v(!1),children:"Cerrar"})})]})}),x&&w&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsxs)("h3",{children:["Editar Plantilla: ",w.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla:"}),(0,Ka.jsx)("input",{type:"text",value:S.name,onChange:e=>k(u(u({},S),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo:"}),(0,Ka.jsxs)("select",{value:S.type,onChange:e=>k(u(u({},S),{},{type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar tipo"}),(0,Ka.jsx)("option",{value:"contrato",children:"Contrato"}),(0,Ka.jsx)("option",{value:"acuerdo",children:"Acuerdo"}),(0,Ka.jsx)("option",{value:"convenio",children:"Convenio"}),(0,Ka.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n:"}),(0,Ka.jsx)("textarea",{value:S.description,onChange:e=>k(u(u({},S),{},{description:e.target.value})),rows:3,required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contenido de la Plantilla:"}),(0,Ka.jsx)("textarea",{value:S.content,onChange:e=>k(u(u({},S),{},{content:e.target.value})),rows:10,placeholder:"Escribe el contenido de la plantilla aqu\xed...",required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>y(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(w)try{await Qa.put("/templates/".concat(w.id),S),await E(),y(!1),C(null)}catch(e){console.error("Error updating template:",e)}},disabled:!S.name||!S.type||!S.content,children:"Actualizar Plantilla"})]})]})}),b&&w&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsxs)("h3",{children:["Usar Plantilla: ",w.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Plantilla seleccionada:"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:w.name})," - ",w.type]}),(0,Ka.jsx)("p",{children:w.description})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"\xbfQu\xe9 quieres hacer con esta plantilla?"}),(0,Ka.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>{alert("Funcionalidad de crear contrato desde plantilla - En desarrollo"),j(!1)},children:"Crear Contrato"}),(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{const e=new Blob([w.content||""],{type:"text/plain"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="".concat(w.name,".txt"),n.click(),URL.revokeObjectURL(t),j(!1)},children:"Descargar Plantilla"})]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>j(!1),children:"Cancelar"})})]})}),i&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal large-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:"Subir Plantilla desde Word"}),(0,Ka.jsx)("button",{className:"btn-close",onClick:()=>o(!1),children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-content",children:(0,Ka.jsx)(or,{onTemplateCreated:e=>{o(!1),E()}})})]})}),c&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal large-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:"Subir Plantilla desde Word (Con Formato Preservado)"}),(0,Ka.jsx)("button",{className:"btn-close",onClick:()=>d(!1),children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-content",children:(0,Ka.jsx)(cr,{onTemplateCreated:e=>{d(!1),E()}})})]})}),p&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal large-modal",children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:"Generar Contrato desde Word"}),(0,Ka.jsx)("button",{className:"btn-close",onClick:()=>m(!1),children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-content",children:(0,Ka.jsx)(dr,{onContractGenerated:e=>{m(!1),alert("Contrato generado exitosamente")}})})]})}),N&&w&&(0,Ka.jsx)(ur,{templateId:w._id||w.id,onClose:()=>{_(!1),C(null)}})]})},mr=e=>{let{isOpen:t,onClose:n,detectedVariables:a,thirdPartyTypeCode:l,onConfigApplied:s}=e;const[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[v,x]=(0,r.useState)({}),[y,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[k,E]=(0,r.useState)("\ud83d\udcc4"),[T,P]=(0,r.useState)("NIT"),L={identification:"\ud83c\udd94 Identificaci\xf3n",personal:"\ud83d\udc64 Informaci\xf3n Personal",business:"\ud83c\udfe2 Informaci\xf3n Empresarial",legal:"\u2696\ufe0f Representaci\xf3n Legal",contact:"\ud83d\udcde Contacto",address:"\ud83d\udccd Direcci\xf3n",employment:"\ud83d\udcbc Informaci\xf3n Laboral",financial:"\ud83d\udcb0 Informaci\xf3n Financiera",dates:"\ud83d\udcc5 Fechas",other:"\ud83d\udccb Otros"};(0,r.useEffect)(()=>{t&&(R(),A())},[t,a,l]);const R=async()=>{try{const e=await Qa.get("/third-party-types");d(e.data);const t=e.data.find(e=>e.code===l);t&&p(t._id)}catch(e){console.error("Error al cargar tipos de terceros:",e)}},A=async()=>{if(a&&0!==a.length){g(!0);try{const e=a.map(e=>({field_name:e.field_name||e.marker,original_marker:e.marker}));console.log("\ud83d\udd0d Analizando variables:",e);const t=await Qa.post("/third-party-types/suggest-from-template",{fields:e,third_party_type:l});console.log("\u2705 Sugerencias recibidas:",t.data),o(t.data.suggested),x(t.data.categories||{})}catch(e){console.error("Error al analizar variables:",e),alert("Error al analizar las variables de la plantilla")}finally{g(!1)}}};if(!t)return null;const z=i.filter(e=>!e.excluded).length,O=i.filter(e=>e.required&&!e.excluded).length,D=i.filter(e=>e.excluded).length;return(0,Ka.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Ka.jsxs)("div",{className:"modal-content third-party-config-modal",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h2",{children:"\ud83d\udd27 Configurar Tipo de Tercero"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"})]}),(0,Ka.jsx)("div",{className:"modal-body",children:f?(0,Ka.jsxs)("div",{className:"analyzing-section",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Analizando variables de la plantilla..."})]}):(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"config-header",children:[(0,Ka.jsxs)("p",{className:"config-description",children:["Se detectaron ",(0,Ka.jsxs)("strong",{children:[a.length," variables"]})," en tu plantilla. Configura qu\xe9 campos ser\xe1n obligatorios o excluidos para el tipo de tercero seleccionado."]}),(0,Ka.jsxs)("div",{className:"config-stats",children:[(0,Ka.jsxs)("div",{className:"stat",children:[(0,Ka.jsx)("span",{className:"stat-label",children:"Incluidos:"}),(0,Ka.jsx)("span",{className:"stat-value",children:z})]}),(0,Ka.jsxs)("div",{className:"stat",children:[(0,Ka.jsx)("span",{className:"stat-label",children:"Requeridos:"}),(0,Ka.jsx)("span",{className:"stat-value required",children:O})]}),(0,Ka.jsxs)("div",{className:"stat",children:[(0,Ka.jsx)("span",{className:"stat-label",children:"Excluidos:"}),(0,Ka.jsx)("span",{className:"stat-value excluded",children:D})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero:"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"12px"},children:[(0,Ka.jsx)("button",{type:"button",onClick:()=>b(!1),style:{flex:1,padding:"8px 12px",backgroundColor:y?"#e5e7eb":"#3b82f6",color:y?"#6b7280":"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Usar Existente"}),(0,Ka.jsx)("button",{type:"button",onClick:()=>b(!0),style:{flex:1,padding:"8px 12px",backgroundColor:y?"#10b981":"#e5e7eb",color:y?"white":"#6b7280",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"+ Crear Nuevo"})]}),y?(0,Ka.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsxs)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:["Nombre del Tipo ",(0,Ka.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:j,onChange:e=>{N(e.target.value),w(e.target.value.toLowerCase().replace(/[^a-z0-9]/g,"_"))},placeholder:"Ej: Proveedor de Servicios",className:"form-select",style:{padding:"10px 12px"}})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsxs)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:["C\xf3digo ",(0,Ka.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:_,onChange:e=>w(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"Ej: proveedor_servicios",className:"form-select",style:{padding:"10px 12px",fontFamily:"monospace"}})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Descripci\xf3n"}),(0,Ka.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"Descripci\xf3n del tipo de tercero",className:"form-select",style:{padding:"10px 12px"}})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Icono (Emoji)"}),(0,Ka.jsx)("input",{type:"text",value:k,onChange:e=>E(e.target.value),placeholder:"\ud83d\udcc4",className:"form-select",style:{padding:"10px 12px",fontSize:"20px"},maxLength:2})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsxs)("label",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px",display:"block"},children:["Tipo de Identificaci\xf3n por Defecto ",(0,Ka.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Ka.jsxs)("select",{value:T,onChange:e=>P(e.target.value),className:"form-select",style:{padding:"10px 12px"},children:[(0,Ka.jsx)("option",{value:"NIT",children:"NIT (Empresa)"}),(0,Ka.jsx)("option",{value:"NIT (PH)",children:"NIT (Propiedad Horizontal)"}),(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"}),(0,Ka.jsx)("option",{value:"RUT",children:"RUT"}),(0,Ka.jsx)("option",{value:"Otro",children:"Otro"})]}),(0,Ka.jsx)("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"Este tipo de identificaci\xf3n se usar\xe1 por defecto al crear terceros de este tipo"})]})]}):(0,Ka.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"form-select",children:[(0,Ka.jsx)("option",{value:"",children:"Selecciona un tipo..."}),c.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id))]})]})]}),(0,Ka.jsx)("div",{className:"fields-by-category",children:Object.entries(v).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("div",{className:"category-section",children:[(0,Ka.jsx)("h3",{className:"category-title",children:L[t]||t}),(0,Ka.jsx)("div",{className:"fields-list",children:n.map((e,t)=>{const n=i.findIndex(t=>t.name===e.name),a=i[n];return(0,Ka.jsxs)("div",{className:"field-item ".concat(a.excluded?"excluded":""," ").concat("required"===a.recommended?"recommended-required":""," ").concat("excluded"===a.recommended?"recommended-excluded":""),children:[(0,Ka.jsxs)("div",{className:"field-info",children:[(0,Ka.jsxs)("div",{className:"field-header",children:[(0,Ka.jsx)("span",{className:"field-label",children:e.label}),(0,Ka.jsx)("span",{className:"field-type-badge",children:e.field_type})]}),(0,Ka.jsxs)("div",{className:"field-details",children:[(0,Ka.jsx)("span",{className:"field-marker",children:"{{"+e.original_marker+"}}"}),a.recommended&&(0,Ka.jsx)("span",{className:"recommendation-badge ".concat(a.recommended),children:"required"===a.recommended?"\u2b50 Recomendado como obligatorio":"\ud83d\udeab Recomendado excluir"})]})]}),(0,Ka.jsxs)("div",{className:"field-actions",children:[(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:a.required,onChange:()=>(e=>{const t=[...i];t[e].required=!t[e].required,o(t)})(n),disabled:a.excluded}),(0,Ka.jsx)("span",{children:"Requerido"})]}),(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:a.excluded,onChange:()=>(e=>{const t=[...i];t[e].excluded=!t[e].excluded,t[e].excluded&&(t[e].required=!1),o(t)})(n)}),(0,Ka.jsx)("span",{children:"Excluir"})]})]})]},e.name)})})]},t)})})]})}),(0,Ka.jsxs)("div",{className:"modal-footer",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:n,disabled:m,children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-apply",onClick:async()=>{h(!0);try{let e=u;if(y){if(!j.trim()||!_.trim())return alert("Por favor ingresa el nombre y c\xf3digo del nuevo tipo de tercero"),void h(!1);console.log("\ud83c\udd95 Creando nuevo tipo de tercero...");e=(await Qa.post("/third-party-types",{code:_.toLowerCase().trim(),label:j.trim(),description:C.trim()||"Tipo de tercero: ".concat(j),icon:k||"\ud83d\udcc4",default_identification_types:[T],fields:[]})).data.type._id,console.log("\u2705 Nuevo tipo creado:",e)}if(!e)return alert("Por favor selecciona o crea un tipo de tercero"),void h(!1);const t=await Qa.put("/third-party-types/".concat(e,"/apply-suggested-fields"),{fields:i});console.log("\u2705 Configuraci\xf3n aplicada:",t.data),alert("Configuraci\xf3n ".concat(y?"creada":"actualizada"," exitosamente!\n\n")+"Campos agregados: ".concat(t.data.fieldsAdded,"\n")+"Campos excluidos: ".concat(t.data.fieldsExcluded)),s&&s(e),n()}catch(a){var e,t;console.error("Error al aplicar configuraci\xf3n:",a),alert("Error al aplicar la configuraci\xf3n: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error desconocido"))}finally{h(!1)}},disabled:m||f||!y&&!u,children:m?y?"Creando...":"Aplicando...":"Aplicar Configuraci\xf3n"})]})]})})},hr=e=>{let{onTemplateCreated:t,onContractGenerated:n}=e;const[a,l]=(0,r.useState)(null),[s,i]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("otro"),[p,m]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)("upload"),[b,j]=(0,r.useState)(""),[N,_]=(0,r.useState)(!1),w=(0,r.useRef)(null),[C,S]=(0,r.useState)(""),[k,E]=(0,r.useState)(""),[T,P]=(0,r.useState)([]),[L,R]=(0,r.useState)(!1),[A,z]=(0,r.useState)([]),[O,D]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=localStorage.getItem("user"),t=localStorage.getItem("selectedCompanyId")||"";if(e){const n=JSON.parse(e);S(n.role),E(t),"admin"===n.role||"super_admin"===n.role?F():"lawyer"===n.role&&z([t])}},[]);const F=async()=>{try{const e=await Qa.get("/companies");P(e.data),console.log("\ud83d\udccb Empresas disponibles:",e.data.length)}catch(e){console.error("Error cargando empresas:",e)}};(0,r.useEffect)(()=>{(async()=>{try{const e="?t=".concat(Date.now()),t=(await Qa.get("/third-party-types".concat(e))).data||[];console.log("\ud83d\udd0d [DEBUG] Tipos de terceros recibidos (UnifiedWordTemplateUpload):",t.length),console.log("\ud83d\udccb [DEBUG] C\xf3digos:",t.map(e=>e.value||e.code).join(", ")),console.log("\u2705 [DEBUG] Tiene Propiedad Horizontal (ph):",t.some(e=>"ph"===(e.value||e.code))),console.log("\u2705 [DEBUG] Tiene Contador PH (contador_ph):",t.some(e=>"contador_ph"===(e.value||e.code))),m(t)}catch(e){console.error("Error cargando tipos de terceros:",e)}})()},[]);const I=async e=>{if(s.trim()){v(!0),y("variables");try{const t=new FormData;t.append("wordFile",e),t.append("name",s),t.append("description",o),t.append("thirdPartyType",d),console.log("\ud83d\ude80 Enviando archivo para detectar variables..."),console.log("\ud83c\udff7\ufe0f  Tipo de tercero:",d);const n=await Qa.post("/templates/process-word-with-format",t,{headers:{"Content-Type":"multipart/form-data"}});console.log("\u2705 Variables detectadas:",n.data.variables),console.log("\ud83d\udccb Detalle de variables:"),n.data.variables.forEach((e,t)=>{console.log("  ".concat(t+1,'. marker="').concat(e.marker,'", field_name="').concat(e.field_name,'", field_label="').concat(e.field_label,'"'))}),f(n.data.variables),j(n.data.previewHtml)}catch(a){var t,n;console.error("Error procesando archivo:",a),alert("Error al procesar el archivo: "+(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||0)}finally{v(!1)}}else alert("Por favor ingresa el nombre de la plantilla")},q=()=>{l(null),i(""),c(""),u("otro"),f([]),y("upload"),R(!1),z([]),w.current&&(w.current.value="")},M=()=>{_(!1),alert("Plantilla creada exitosamente. Ahora puedes generar contratos desde esta plantilla."),q()};return(0,Ka.jsxs)("div",{className:"unified-word-template-upload",children:[(0,Ka.jsx)("div",{className:"compact-header",children:(0,Ka.jsxs)("div",{className:"header-content",children:[(0,Ka.jsx)("h2",{children:"\ud83d\udcdd Crear Plantilla"}),(0,Ka.jsxs)("div",{className:"step-badges",children:[(0,Ka.jsx)("span",{className:"badge ".concat("upload"===x?"active":""),children:"1. Datos"}),(0,Ka.jsx)("span",{className:"badge ".concat("variables"===x?"active":""),children:"2. Variables"})]})]})}),"upload"===x&&(0,Ka.jsxs)("div",{className:"two-column-layout",children:[(0,Ka.jsxs)("div",{className:"left-column",children:[(0,Ka.jsxs)("div",{className:"section-card",children:[(0,Ka.jsx)("h3",{className:"card-title",children:"Informaci\xf3n B\xe1sica"}),(0,Ka.jsxs)("div",{className:"compact-field",children:[(0,Ka.jsx)("label",{children:"Nombre"}),(0,Ka.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Ej: NDA, Contrato de Servicios",className:"compact-input"})]}),(0,Ka.jsxs)("div",{className:"compact-field",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"Breve descripci\xf3n...",className:"compact-textarea",rows:2})]}),(0,Ka.jsxs)("div",{className:"compact-field",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero"}),(0,Ka.jsx)("select",{value:d,onChange:e=>u(e.target.value),className:"compact-select",children:p.map(e=>(0,Ka.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,Ka.jsxs)("div",{className:"file-upload-compact",children:[(0,Ka.jsx)("input",{ref:w,type:"file",accept:".docx",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(n.name.endsWith(".docx")?(l(n),s.trim()||i(n.name.replace(".docx","")),await I(n)):alert("Por favor selecciona un archivo Word (.docx)"))},className:"file-input",id:"word-file"}),(0,Ka.jsxs)("label",{htmlFor:"word-file",className:"file-label-compact",children:[(0,Ka.jsx)("span",{className:"file-icon",children:"\ud83d\udcc4"}),(0,Ka.jsx)("span",{className:"file-text",children:a?a.name:"Seleccionar .docx"})]})]})]}),"lawyer"===C&&(0,Ka.jsxs)("div",{className:"info-box",children:[(0,Ka.jsx)("span",{className:"info-icon",children:"\ud83d\udc54"}),(0,Ka.jsx)("span",{children:"Plantilla solo para tu empresa"})]})]}),(0,Ka.jsx)("div",{className:"right-column",children:("admin"===C||"super_admin"===C)&&(0,Ka.jsxs)("div",{className:"section-card",children:[(0,Ka.jsx)("h3",{className:"card-title",children:"\ud83c\udfe2 Compartir Plantilla"}),"super_admin"===C&&(0,Ka.jsx)("div",{className:"global-checkbox-wrapper",children:(0,Ka.jsxs)("label",{className:"global-checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",id:"shareWithAll",checked:L,onChange:e=>{return t=e.target.checked,R(t),void(t&&z([]));var t}}),(0,Ka.jsxs)("span",{className:"checkbox-text",children:[(0,Ka.jsx)("strong",{children:"\ud83c\udf10 Plantilla Global"}),(0,Ka.jsx)("small",{children:"Disponible para todas las empresas"})]})]})}),!L&&(0,Ka.jsxs)(Ka.Fragment,{children:[T.length>0&&(0,Ka.jsxs)("div",{className:"search-box-compact",children:[(0,Ka.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Buscar empresa o NIT...",value:O,onChange:e=>D(e.target.value),className:"search-input-compact"}),O&&(0,Ka.jsx)("button",{onClick:()=>D(""),className:"clear-btn",children:"\u2715"})]}),(0,Ka.jsx)("div",{className:"companies-list-compact",children:0===T.length?(0,Ka.jsx)("div",{className:"loading-compact",children:"Cargando..."}):(()=>{const e=T.filter(e=>{var t;return e.name.toLowerCase().includes(O.toLowerCase())||(null===(t=e.tax_id)||void 0===t?void 0:t.toLowerCase().includes(O.toLowerCase()))});return 0===e.length&&O?(0,Ka.jsx)("div",{className:"no-results-compact",children:"No se encontraron empresas"}):(0,Ka.jsx)("div",{className:"companies-grid",children:e.map(e=>(0,Ka.jsxs)("label",{className:"company-checkbox-item ".concat(A.includes(e._id)?"checked":""),children:[(0,Ka.jsx)("input",{type:"checkbox",checked:A.includes(e._id),onChange:()=>{return t=e._id,void(A.includes(t)?z(A.filter(e=>e!==t)):z([...A,t]));var t}}),(0,Ka.jsxs)("div",{className:"company-details",children:[(0,Ka.jsx)("div",{className:"company-name-compact",children:e.name}),(0,Ka.jsx)("div",{className:"company-nit-compact",children:e.tax_id||"Sin NIT"})]}),(0,Ka.jsx)("div",{className:"check-icon",children:A.includes(e._id)?"\u2713":""})]},e._id))})})()})]}),!L&&A.length>0&&(0,Ka.jsxs)("div",{className:"selection-summary",children:[(0,Ka.jsx)("strong",{children:A.length})," ",1===A.length?"empresa seleccionada":"empresas seleccionadas"]})]})})]}),"variables"===x&&(0,Ka.jsxs)("div",{className:"two-column-layout",children:[(0,Ka.jsx)("div",{className:"left-column",children:(0,Ka.jsxs)("div",{className:"section-card",children:[(0,Ka.jsxs)("h3",{className:"card-title",children:["Variables Detectadas (",h.length,")"]}),(0,Ka.jsx)("div",{className:"variables-list-compact",children:h.map((e,t)=>(0,Ka.jsxs)("div",{className:"variable-compact",children:[(0,Ka.jsxs)("div",{className:"var-header",children:[(0,Ka.jsx)("code",{children:"{{".concat(e.marker,"}}")}),e.required&&(0,Ka.jsx)("span",{className:"badge-required",children:"*"})]}),(0,Ka.jsx)("div",{className:"var-label",children:e.field_label}),(0,Ka.jsx)("div",{className:"var-type",children:e.field_type})]},t))}),(0,Ka.jsx)("button",{onClick:async()=>{if(a&&s.trim()){v(!0);try{const e=new FormData;e.append("wordFile",a),console.log("\ud83d\udce4 Subiendo archivo Word...");const n=await Qa.post("/templates/upload-word",e,{headers:{"Content-Type":"multipart/form-data"}}),{filePath:r,content:l}=n.data,i={name:s,description:o,third_party_type:d,content:l||"",fields:h,wordFilePath:r,wordFileOriginalName:a.name};"super_admin"===C?L?(i.is_shared=!0,console.log("\ud83c\udf10 Plantilla compartida con todas las empresas")):A.length>0&&(i.is_shared=!1,i.shared_with_companies=A,console.log("\ud83c\udfe2 Plantilla compartida con",A.length,"empresas")):"admin"===C?A.length>0?(i.shared_with_companies=A,console.log("\ud83c\udfe2 Admin compartiendo con",A.length,"empresas")):i.company=k:"lawyer"===C&&(i.company=k,console.log("\ud83d\udc54 Plantilla solo para empresa actual:",k)),console.log("\ud83d\udcdd Creando plantilla...");const c=await Qa.post("/templates",i);console.log("\u2705 Plantilla creada exitosamente"),h.length>0?(console.log("\ud83d\udd27 Mostrando modal de configuraci\xf3n de campos..."),_(!0)):(alert("Plantilla creada exitosamente. Ahora puedes generar contratos desde esta plantilla."),q()),t&&t(c.data.id)}catch(r){var e,n;console.error("Error al crear plantilla:",r),alert("Error al crear la plantilla: "+((null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Error desconocido"))}finally{v(!1)}}else alert("Por favor ingresa un nombre para la plantilla")},className:"btn-create-template",disabled:g,children:g?"Creando...":"\u2713 Crear Plantilla"})]})}),(0,Ka.jsx)("div",{className:"right-column",children:(0,Ka.jsxs)("div",{className:"section-card",children:[(0,Ka.jsx)("h3",{className:"card-title",children:"Vista Previa"}),(0,Ka.jsx)("div",{className:"preview-content-compact",dangerouslySetInnerHTML:{__html:b}})]})})]}),g&&(0,Ka.jsxs)("div",{className:"processing",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Procesando archivo Word..."})]}),(0,Ka.jsx)(mr,{isOpen:N,onClose:M,detectedVariables:h,thirdPartyTypeCode:d,onConfigApplied:M})]})},fr=()=>{const e=me(),t=ge(),n=()=>{const t=new URLSearchParams(e.search).get("tab");return"templates"===t||"contracts"===t||"create"===t?t:"create"},[a,l]=(0,r.useState)(n()),[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[d,p]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),[v,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[j,N]=(0,r.useState)({}),[_,w]=(0,r.useState)([]),[C,S]=(0,r.useState)(""),[k,E]=(0,r.useState)(!1),[T,P]=(0,r.useState)(!1),[L,R]=(0,r.useState)(!1),[A,z]=(0,r.useState)([]),[O,D]=(0,r.useState)(!1),[F,I]=(0,r.useState)([]),[q,M]=(0,r.useState)([]),[U,B]=(0,r.useState)(""),[H,V]=(0,r.useState)([]),[W,G]=(0,r.useState)({}),[$,Q]=(0,r.useState)(!1),[K,J]=(0,r.useState)({code:"",label:"",description:"",icon:"\ud83d\udcc4"}),[Y,X]=(0,r.useState)({identification_type:"NIT",identification_number:"",legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",email:"",phone:"",address:"",city:"",country:"Colombia"}),[Z,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(""),[ae,re]=(0,r.useState)(""),[le,se]=(0,r.useState)([]),[ie,oe]=(0,r.useState)(""),[ce,de]=(0,r.useState)(""),[ue,pe]=(0,r.useState)(!1),[he,fe]=(0,r.useState)(""),[ve,xe]=(0,r.useState)([]),[ye,be]=(0,r.useState)(""),[je,Ne]=(0,r.useState)(""),[_e,we]=(0,r.useState)(!1),[Ce,Se]=(0,r.useState)(!1),[ke,Ee]=(0,r.useState)(null),[Te,Pe]=(0,r.useState)({name:"",description:"",category:""}),Le=async()=>{p(!0);try{const e=await Qa.get("/templates");i(e.data)}catch(e){console.error("Error fetching templates:",e)}finally{p(!1)}},Re=async()=>{h(!0);try{const e=await Qa.get("/contracts");c(e.data)}catch(e){console.error("Error fetching contracts:",e)}finally{h(!1)}},Ae=async e=>{try{const t=await Qa.get("/templates/".concat(e._id,"/download-word"),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","".concat(e.name,".docx")),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(n)}catch(t){console.error("Error downloading template Word:",t),alert("Error al descargar el archivo Word de la plantilla")}},ze=async(e,t)=>{const n=prompt("Nombre para la copia de la plantilla:","Copia de ".concat(t));if(n&&""!==n.trim()){p(!0);try{const t=await Qa.post("/templates/".concat(e,"/copy"),{newName:n.trim()});alert("Plantilla copiada exitosamente: ".concat(t.data.template.name)),Le()}catch(l){var a,r;console.error("Error copying template:",l),alert("Error al copiar la plantilla: "+((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error desconocido"))}finally{p(!1)}}},Oe=()=>{Se(!1),Ee(null),Pe({name:"",description:"",category:""})},De=async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n&&f)if(n.name.toLowerCase().endsWith(".docx"))if(window.confirm('\xbfEst\xe1s seguro de que quieres reemplazar el archivo Word de la plantilla "'.concat(f.name,'"? Las variables existentes se mantendr\xe1n.'))){p(!0);try{const e=new FormData;e.append("wordFile",n),await Qa.post("/templates/".concat(f._id,"/replace-word"),e,{headers:{"Content-Type":"multipart/form-data"}}),alert("Archivo Word reemplazado exitosamente"),Le()}catch(l){var a,r;console.error("Error replacing Word file:",l),alert("Error al reemplazar el archivo Word: "+((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error desconocido"))}finally{p(!1),g(null)}}else g(null);else alert("Por favor selecciona un archivo Word (.docx)")},Fe=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),Ie=e=>{if(!e)return"";let t=Fe(e).toLowerCase().trim().replace(/[_\s\/\-\.,:;()[\]{}]+/g,"").replace(/\bde\b/g,"").replace(/\bdel\b/g,"").replace(/\bla\b/g,"").replace(/\bel\b/g,"").replace(/\blos\b/g,"").replace(/\blas\b/g,"");const n=[{keywords:["nombre","razon","social"],normalized:"razonsocial"},{keywords:["representante","legal"],normalized:"representantelegal"},{keywords:["numero","nit"],normalized:"numeronit"},{keywords:["cedula","representante"],normalized:"cedularepresentante"},{keywords:["correo","electronico"],normalized:"correoelectronico"},{keywords:["propiedad","horizontal"],normalized:"propiedadhorizontal"}];for(const a of n){if(a.keywords.every(e=>t.includes(e)))return a.normalized}return!(t.includes("nombre")||t.includes("razonsocial")||t.includes("razon"))||t.includes("representante")||t.includes("licenciatario")?t:"razonsocial"},qe=e=>{if(!e||0===e.length)return[];const t=new Set,n=new Set,a=[];return console.log("\ud83d\udd0d getUniqueVariables - Procesando campos (Sistema Robusto v2):"),e.forEach((e,r)=>{const l=e.field_name||"",s=l.trim(),i=Ie(l);if(console.log("  ".concat(r+1,'. "').concat(l,'"')),console.log('      Normalizado: "'.concat(i,'"')),t.has(i))return void console.log("      \u274c DUPLICADO por normalizaci\xf3n (ignorado)");const o=s.toLowerCase();if(n.has(o))console.log("      \u274c DUPLICADO por nombre exacto (ignorado)");else{for(const e of a){if((e.field_name||"").toLowerCase().trim()===o)return void console.log("      \u274c DUPLICADO por similitud exacta (ignorado)")}t.add(i),n.add(o),a.push(e),console.log("      \u2705 AGREGADO como campo \xfanico")}}),console.log("\n\ud83d\udcca Resumen: ".concat(e.length," campos totales \u2192 ").concat(a.length," campos \xfanicos\n")),a},Me=async()=>{try{const e="?t=".concat(Date.now()),t=await Qa.get("/third-party-types".concat(e));console.log("\ud83d\udccb Tipos de terceros cargados:",t.data.length),console.log("\ud83d\udccb [DEBUG] C\xf3digos:",t.data.map(e=>e.code).join(", ")),console.log("\u2705 [DEBUG] Tiene Propiedad Horizontal (ph):",t.data.some(e=>"ph"===e.code)),console.log("\u2705 [DEBUG] Tiene Contador PH (contador_ph):",t.data.some(e=>"contador_ph"===e.code)),M(t.data)}catch(e){console.error("Error cargando tipos de terceros:",e)}},Ue=async e=>{if("__CREATE_NEW__"===e)return Q(!0),B(""),void V([]);if(B(e),G({}),e)try{var t;const n=await Qa.get("/third-party-types/".concat(e));console.log("\ud83d\udcdd Campos del tipo de tercero:",n.data.fields),V(n.data.fields||[]);const a={};null===(t=n.data.fields)||void 0===t||t.forEach(e=>{a[e.name]=""}),G(a)}catch(n){console.error("Error cargando campos del tipo de tercero:",n),alert("Error al cargar la configuraci\xf3n del tipo de tercero")}else V([])},Be=e=>{var t;if(S(e),!e||!y)return;const n=_.find(t=>t._id===e);if(!n)return;const a={razon_social:n.legal_name,razonsocial:n.legal_name,"raz\xf3n social":n.legal_name,legal_name:n.legal_name,nombre:n.legal_name,"nombre / raz\xf3n social":n.legal_name,"nombre / razon social":n.legal_name,"nombre/raz\xf3n social":n.legal_name,"nombre/razon social":n.legal_name,nombre_razon_social:n.legal_name,nombrerazonsocial:n.legal_name,nombre_de_la_propiedad_horizontal:n.legal_name,"nombre de la propiedad horizontal":n.legal_name,nombredelapropiedadhorizontal:n.legal_name,propiedad_horizontal:n.legal_name,propiedadhorizontal:n.legal_name,razon_social_abreviada:n.legal_name_short,"razon social abreviada":n.legal_name_short,razonsocialabreviada:n.legal_name_short,legal_name_short:n.legal_name_short,nit:n.identification_number,numero_del_nit:n.identification_number,"numero del nit":n.identification_number,numerodelnit:n.identification_number,numero_nit:n.identification_number,numeronit:n.identification_number,identification_number:n.identification_number,nombre_representante_legal:n.legal_representative_name,"nombre representante legal":n.legal_representative_name,nombrerepresentantelegal:n.legal_representative_name,nombrederepresentantelegal:n.legal_representative_name,nombre_del_representante_legal:n.legal_representative_name,representante_legal:n.legal_representative_name,representantelegal:n.legal_representative_name,legal_representative_name:n.legal_representative_name,cedula:n.legal_representative_id_number,cedula_representante:n.legal_representative_id_number,cedularepresentante:n.legal_representative_id_number,cedula_rep_legal:n.legal_representative_id_number,cedulareplegal:n.legal_representative_id_number,cedula_representante_legal:n.legal_representative_id_number,cedularepresentantelegal:n.legal_representative_id_number,legal_representative_id_number:n.legal_representative_id_number,ciudad_expedicion:n.id_issue_city||"",ciudad_de_expedicion:n.id_issue_city||"",ciudaddeexpedicion:n.id_issue_city||"",ciudad_expedicion_cedula:n.id_issue_city||"",ciudad_de_expedicion_cedula:n.id_issue_city||"",ciudad_de_expedicion_cedula_rep_legal:n.id_issue_city||"",ciudaddeexpedicioncedulareplegal:n.id_issue_city||"",lugar_expedicion:n.id_issue_city||"",lugarexpedicion:n.id_issue_city||"",id_issue_city:n.id_issue_city||"",correo_electronico:n.email||"","correo electronico":n.email||"",correoelectronico:n.email||"",correo:n.email||"",email:n.email||"","e-mail":n.email||"",e_mail:n.email||"",email_licenciatario:n.email||"","e-mail_licenciatario":n.email||"",emaillicenciatario:n.email||"",e_mail_licenciatario:n.email||"",correo_licenciatario:n.email||"",correolicenciatario:n.email||"",telefono:n.phone||"",phone:n.phone||"",direccion:n.address||"",address:n.address||"",ciudad:n.city||"",city:n.city||"",ciudad_de_domicilio:n.city||"",nombre_licenciatario:n.licensee_name||n.full_name||"",nombrelicenciatario:n.licensee_name||n.full_name||"",nombre_del_licenciatario:n.licensee_name||n.full_name||"",nombredellicenciatario:n.licensee_name||n.full_name||"",licenciatario:n.licensee_name||n.full_name||"",licensee_name:n.licensee_name||"",full_name:n.full_name||"",fecha:(new Date).toLocaleDateString("es-ES"),dia_mes_y_ano:(new Date).toLocaleDateString("es-ES"),"d\xeda_mes_y_a\xf1o":(new Date).toLocaleDateString("es-ES"),"diamesy ano":(new Date).toLocaleDateString("es-ES"),"dia,_mes_y_ano":(new Date).toLocaleDateString("es-ES"),"d\xeda,_mes_y_a\xf1o":(new Date).toLocaleDateString("es-ES")},r=n;r.custom_fields&&"object"===typeof r.custom_fields&&(console.log("\ud83d\udd0d Campos personalizados del tercero:",r.custom_fields),Object.entries(r.custom_fields).forEach(e=>{let[t,n]=e;const r=Fe(t);[t,r,t.toLowerCase(),r.toLowerCase(),t.replace(/_/g," "),r.replace(/_/g," "),t.replace(/ /g,"_"),r.replace(/ /g,"_"),Ie(t),t.replace(/-/g,"_"),r.replace(/-/g,"_"),t.replace(/_/g,""),r.replace(/_/g,""),t.replace(/ /g,""),r.replace(/ /g,""),t.toLowerCase().replace(/[^a-z0-9]/g,""),r.toLowerCase().replace(/[^a-z0-9]/g,"")].forEach(e=>{a[e]=n}),console.log('   \ud83d\udccc Custom field mapeado: "'.concat(t,'" -> "').concat(n,'" (incluye sin acentos: "').concat(r,'")'))})),console.log("\ud83d\udccb Mapping completo:",a);const l={};null===(t=y.fields)||void 0===t||t.forEach(e=>{const t=e.field_name,n=Fe(t),r=[t,n,t.toLowerCase(),n.toLowerCase(),t.replace(/_/g," "),n.replace(/_/g," "),t.replace(/ /g,"_"),n.replace(/ /g,"_"),Ie(t),t.replace(/-/g,"_"),n.replace(/-/g,"_"),t.replace(/_/g,""),n.replace(/_/g,""),t.replace(/ /g,""),n.replace(/ /g,""),t.toLowerCase().replace(/[^a-z0-9]/g,""),n.toLowerCase().replace(/[^a-z0-9]/g,"")];let s=null;for(const l of r)if(void 0!==a[l]&&null!==a[l]&&""!==a[l]){s=a[l],console.log('\u2705 Campo "'.concat(t,'" coincide con variaci\xf3n "').concat(l,'" -> "').concat(s,'"'));break}if(!s){const e=Ie(t),n=Object.keys(a).find(t=>Ie(t)===e);n&&a[n]&&(s=a[n],console.log('\u2705 Campo "'.concat(t,'" llenado con: "').concat(s,'"')))}s?l[t]=s:(l[t]="",console.log('\u26a0\ufe0f  Campo "'.concat(t,'" no encontrado en mapping')))}),console.log("\ud83d\udcdd Datos del contrato actualizados:",l),N(l)},He=()=>{D(!1)},Ve=(()=>{let e=[...o];if(Z.trim()){const t=Z.toLowerCase();e=e.filter(e=>{var n;return null===(n=e.contract_number)||void 0===n?void 0:n.toLowerCase().includes(t)})}if(te.trim()){const t=te.toLowerCase();e=e.filter(e=>{var n,a;return null===(n=e.template)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.toLowerCase().includes(t)})}if(ae.trim()){const t=ae.toLowerCase();e=e.filter(e=>{var n,a,r,l,s;return(null===(n=e.content)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(l=e.company_name)||void 0===l?void 0:l.toLowerCase().includes(t))||(null===(s=e.contract_number)||void 0===s?void 0:s.toLowerCase().includes(t))})}if(le.length>0&&(e=e.filter(e=>le.includes(e.status))),ie){const t=new Date(ie);e=e.filter(e=>new Date(e.createdAt)>=t)}if(ce){const t=new Date(ce);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.createdAt)<=t)}return e})(),We=[Z.trim(),te.trim(),ae.trim(),le.length>0,ie,ce].filter(Boolean).length,Ge=()=>{fe(""),xe([]),be(""),Ne("")},$e=(()=>{let e=[...s];if(he.trim()){const t=he.toLowerCase();e=e.filter(e=>{var n,a;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(t))})}if(ve.length>0&&(e=e.filter(e=>ve.includes(e.category))),ye){const t=new Date(ye);e=e.filter(e=>new Date(e.createdAt)>=t)}if(je){const t=new Date(je);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.createdAt)<=t)}return e})(),Qe=[he.trim(),ve.length>0,ye,je].filter(Boolean).length,Ke=e=>{l(e),t("?tab=".concat(e),{replace:!0})};return(0,r.useEffect)(()=>{const e=n();e!==a&&l(e)},[e.search]),(0,r.useEffect)(()=>{"templates"===a&&0===s.length?Le():"contracts"===a&&0===o.length&&Re()},[a]),(0,Ka.jsxs)("div",{className:"unified-templates",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"\ud83d\ude80 Gesti\xf3n de Contratos"}),(0,Ka.jsx)("p",{children:"Crea plantillas, genera contratos y administra todo desde un solo lugar"})]}),(0,Ka.jsxs)("div",{className:"tabs-navigation",children:[(0,Ka.jsx)("button",{className:"tab-button ".concat("create"===a?"active":""),onClick:()=>Ke("create"),children:"\u2728 Crear Contrato"}),(0,Ka.jsx)("button",{className:"tab-button ".concat("templates"===a?"active":""),onClick:()=>Ke("templates"),children:"\ud83d\udccb Plantillas"}),(0,Ka.jsx)("button",{className:"tab-button ".concat("contracts"===a?"active":""),onClick:()=>Ke("contracts"),children:"\ud83d\udcc4 Contratos Generados"})]}),(0,Ka.jsxs)("div",{className:"tab-content",children:["create"===a&&(0,Ka.jsx)("div",{className:"create-tab",children:(0,Ka.jsx)(hr,{onTemplateCreated:e=>{console.log("Plantilla creada:",e),Le()},onContractGenerated:e=>{console.log("Contrato generado:",e),Le(),Re()}})}),"templates"===a&&(0,Ka.jsxs)("div",{className:"templates-tab",children:[(0,Ka.jsxs)("div",{className:"tab-header",children:[(0,Ka.jsx)("h2",{children:"Plantillas Creadas"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>Ke("create"),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:"\u2728 Nueva Plantilla"}),(0,Ka.jsxs)("button",{className:"btn-refresh",onClick:e=>{e.preventDefault(),Le()},disabled:d,title:"Recargar lista de plantillas sin cambiar de p\xe1gina",children:[(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,Ka.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,Ka.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),"Actualizar Plantillas"]})]})]}),(0,Ka.jsxs)("div",{className:"filters-container",children:[(0,Ka.jsxs)("div",{className:"filters-header",children:[(0,Ka.jsxs)("button",{className:"btn-toggle-filters",onClick:()=>we(!_e),children:[_e?"\u25bc":"\u25b6"," Filtros",Qe>0&&(0,Ka.jsx)("span",{className:"filter-badge",children:Qe})]}),Qe>0&&(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:Ge,children:"Limpiar Filtros"}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",$e.length," de ",s.length," plantillas"]})]}),_e&&(0,Ka.jsxs)("div",{className:"filters-content",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por nombre o descripci\xf3n...",value:he,onChange:e=>fe(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Categor\xeda:"}),(0,Ka.jsx)("div",{className:"status-checkboxes",children:Array.from(new Set(s.map(e=>e.category||"General"))).map(e=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:ve.includes(e),onChange:()=>(e=>{xe(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e)}),(0,Ka.jsx)("span",{className:"status-label status-".concat(e.toLowerCase().replace(/\s+/g,"-")),children:e})]},e))})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha de creaci\xf3n:"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Ka.jsx)("input",{type:"date",value:ye,onChange:e=>be(e.target.value),className:"filter-input",placeholder:"Desde"}),(0,Ka.jsx)("span",{children:"hasta"}),(0,Ka.jsx)("input",{type:"date",value:je,onChange:e=>Ne(e.target.value),className:"filter-input",placeholder:"Hasta"})]})]})]})]}),d?(0,Ka.jsx)("div",{className:"loading",children:"Cargando plantillas..."}):0===s.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay plantillas"}),(0,Ka.jsx)("p",{children:'Ve al tab "Crear Contrato" para crear tu primera plantilla'})]}):0===$e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No se encontraron plantillas"}),(0,Ka.jsx)("p",{children:"No hay plantillas que coincidan con los filtros aplicados"}),(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:Ge,children:"Limpiar Filtros"})]}):(0,Ka.jsx)("div",{className:"templates-view",children:(0,Ka.jsx)("div",{className:"templates-table-container",children:(0,Ka.jsxs)("table",{className:"templates-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"Nombre"}),(0,Ka.jsx)("th",{className:"hide-mobile",children:"Descripci\xf3n"}),(0,Ka.jsx)("th",{children:"Categor\xeda"}),(0,Ka.jsx)("th",{className:"hide-tablet",children:"Variables"}),(0,Ka.jsx)("th",{className:"hide-tablet",children:"Fecha"}),(0,Ka.jsx)("th",{className:"hide-mobile-tablet",children:"Hora"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:$e.map(e=>{var t,n;const a=new Date(e.createdAt);return(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("td",{className:"template-name",children:(0,Ka.jsxs)("div",{className:"name-wrapper",children:[(0,Ka.jsx)("span",{className:"name-text",children:e.name}),(0,Ka.jsxs)("span",{className:"mobile-meta",children:[(0,Ka.jsxs)("span",{className:"meta-item",children:[(null===(t=e.fields)||void 0===t?void 0:t.length)||0," vars"]}),(0,Ka.jsx)("span",{className:"meta-item",children:a.toLocaleDateString("es-ES")})]})]})}),(0,Ka.jsx)("td",{className:"template-description hide-mobile",children:e.description||"Sin descripci\xf3n"}),(0,Ka.jsx)("td",{children:(0,Ka.jsx)("span",{className:"item-badge",children:e.category||"General"})}),(0,Ka.jsx)("td",{className:"template-variables hide-tablet",children:(null===(n=e.fields)||void 0===n?void 0:n.length)||0}),(0,Ka.jsx)("td",{className:"template-date hide-tablet",children:a.toLocaleDateString("es-ES")}),(0,Ka.jsx)("td",{className:"template-time hide-mobile-tablet",children:a.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}),(0,Ka.jsx)("td",{className:"template-actions",children:(0,Ka.jsxs)("div",{className:"actions-buttons",children:[(0,Ka.jsx)("button",{className:"btn-action btn-generate",onClick:()=>(async e=>{var t;b(e),x(!0);const n={};null===(t=e.fields)||void 0===t||t.forEach(e=>{n[e.field_name]=""}),N(n);try{const e=await Qa.get("/suppliers");w(e.data.suppliers||[]),await Me()}catch(a){console.error("Error fetching suppliers:",a)}})(e),title:"Generar Contrato",children:"\ud83d\ude80"}),(0,Ka.jsx)("button",{className:"btn-action btn-edit",onClick:()=>(e=>{Ee(e),Pe({name:e.name,description:e.description||"",category:e.category||""}),Se(!0)})(e),title:"Editar",children:"\u270f\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-action btn-copy hide-mobile",onClick:()=>ze(e._id,e.name),title:"Copiar",children:"\ud83d\udccb"}),(0,Ka.jsx)("button",{className:"btn-action btn-replace hide-mobile",onClick:()=>{var t;g(e),null===(t=document.getElementById("replace-word-".concat(e._id)))||void 0===t||t.click()},title:"Reemplazar",children:"\ud83d\udd04"}),(0,Ka.jsx)("input",{id:"replace-word-".concat(e._id),type:"file",accept:".docx",style:{display:"none"},onChange:De}),(0,Ka.jsx)("button",{className:"btn-action btn-download hide-mobile",onClick:()=>Ae(e),title:"Descargar",children:"\ud83d\udce5"}),(0,Ka.jsx)("button",{className:"btn-action btn-delete",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta plantilla?"))try{await Qa.delete("/templates/".concat(e)),Le(),alert("Plantilla eliminada exitosamente")}catch(t){console.error("Error deleting template:",t),alert("Error al eliminar la plantilla")}})(e._id),title:"Eliminar",children:"\ud83d\uddd1\ufe0f"}),(0,Ka.jsxs)("div",{className:"mobile-menu-wrapper show-mobile-only",children:[(0,Ka.jsx)("button",{className:"btn-action btn-menu",onClick:e=>{e.stopPropagation();const t=e.currentTarget.nextElementSibling;null===t||void 0===t||t.classList.toggle("show")},title:"M\xe1s acciones",children:"\u22ee"}),(0,Ka.jsxs)("div",{className:"mobile-actions-menu",children:[(0,Ka.jsx)("button",{onClick:()=>ze(e._id,e.name),children:"\ud83d\udccb Copiar"}),(0,Ka.jsx)("button",{onClick:()=>{var t;g(e),null===(t=document.getElementById("replace-word-".concat(e._id)))||void 0===t||t.click()},children:"\ud83d\udd04 Reemplazar"}),(0,Ka.jsx)("button",{onClick:()=>Ae(e),children:"\ud83d\udce5 Descargar"})]})]})]})})]},e._id)})})]})})})]}),"contracts"===a&&(0,Ka.jsxs)("div",{className:"contracts-tab",children:[(0,Ka.jsxs)("div",{className:"tab-header",children:[(0,Ka.jsx)("h2",{children:"Contratos Generados"}),(0,Ka.jsxs)("button",{className:"btn-refresh",onClick:e=>{e.preventDefault(),Re()},disabled:m,title:"Recargar lista de contratos sin cambiar de p\xe1gina",children:[(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,Ka.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,Ka.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),"Actualizar Contratos"]})]}),(0,Ka.jsxs)("div",{className:"filters-container",children:[(0,Ka.jsxs)("div",{className:"filters-header",children:[(0,Ka.jsxs)("button",{className:"btn-toggle-filters",onClick:()=>pe(!ue),children:[ue?"\u25bc":"\u25b6"," Filtros",We>0&&(0,Ka.jsx)("span",{className:"filter-badge",children:We})]}),We>0&&(0,Ka.jsx)("button",{className:"btn-clear-filters",onClick:()=>{ee(""),ne(""),re(""),se([]),oe(""),de("")},children:"Limpiar Filtros"}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",Ve.length," de ",o.length," contratos"]})]}),ue&&(0,Ka.jsxs)("div",{className:"filters-content",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por n\xfamero de contrato...",value:Z,onChange:e=>ee(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Plantilla:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre de plantilla...",value:te,onChange:e=>ne(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Tercero:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Filtrar por nombre o identificaci\xf3n del tercero...",value:ae,onChange:e=>re(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Estado:"}),(0,Ka.jsx)("div",{className:"status-checkboxes",children:["borrador","revision","aprobado","firmado","cancelado"].map(e=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:le.includes(e),onChange:()=>(e=>{se(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e)}),(0,Ka.jsx)("span",{className:"status-label ".concat(e),children:e})]},e))})]}),(0,Ka.jsxs)("div",{className:"filter-group-row",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha desde:"}),(0,Ka.jsx)("input",{type:"date",value:ie,onChange:e=>oe(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Fecha hasta:"}),(0,Ka.jsx)("input",{type:"date",value:ce,onChange:e=>de(e.target.value),className:"filter-input"})]})]})]})]}),m?(0,Ka.jsx)("div",{className:"loading",children:"Cargando contratos..."}):0===o.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay contratos generados"}),(0,Ka.jsx)("p",{children:'Ve al tab "Crear Contrato" para generar tu primer contrato'})]}):0===Ve.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No se encontraron contratos"}),(0,Ka.jsx)("p",{children:"Intenta ajustar los filtros para ver m\xe1s resultados"})]}):(0,Ka.jsx)("div",{className:"contracts-view",children:(0,Ka.jsx)("div",{className:"contracts-table-container",children:(0,Ka.jsxs)("table",{className:"contracts-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"N\xfamero de Contrato"}),(0,Ka.jsx)("th",{children:"T\xedtulo/Descripci\xf3n"}),(0,Ka.jsx)("th",{children:"Plantilla"}),(0,Ka.jsx)("th",{children:"Tercero Involucrado"}),(0,Ka.jsx)("th",{children:"Estado"}),(0,Ka.jsx)("th",{className:"hide-mobile",children:"Generado por"}),(0,Ka.jsx)("th",{className:"hide-tablet",children:"Fecha"}),(0,Ka.jsx)("th",{className:"hide-mobile-tablet",children:"Hora"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:Ve.map(e=>{var t,n,a;const r=new Date(e.createdAt),l=e.company_name||(e.content?(e=>{if(!e)return"N/A";const t=e.replace(/<[^>]*>/g," ").replace(/\s+/g," "),n=["raz\xf3n social","razon social","nombre_tercero","nombre tercero","empresa_tercero","empresa tercero","nombre_empresa","nombre empresa","proveedor","cliente","contratista","tercero"],a=[/raz\xf3n\s*social[:\s]+([^<\n,;]+)/i,/razon\s*social[:\s]+([^<\n,;]+)/i,/nombre\s+(?:del\s+)?(?:tercero|proveedor|cliente)[:\s]+([^<\n,;]+)/i,/tercero[:\s]+([^<\n,;]+)/i,/proveedor[:\s]+([^<\n,;]+)/i,/cliente[:\s]+([^<\n,;]+)/i,/legal_name[:\s]+([^<\n,;]+)/i,/nombre_empresa[:\s]+([^<\n,;]+)/i,/empresa[:\s]+([^<\n,;]+)/i];for(const r of a){const e=t.match(r);if(e&&e[1]){const t=e[1].trim();if(t.length>3&&t.length<100&&!t.match(/^\d+$/))return t}}for(const r of n){const e=new RegExp("".concat(r,"[:s]+([^<\n,;]{5,80})"),"i"),n=t.match(e);if(n&&n[1]){const e=n[1].trim();if(e.length>3&&e.length<100)return e}}return"N/A"})(e.content):"N/A");return(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("td",{className:"contract-number",children:(0,Ka.jsxs)("div",{className:"name-wrapper",children:[(0,Ka.jsx)("span",{className:"name-text",children:e.contract_number}),(0,Ka.jsxs)("span",{className:"mobile-meta",children:[(0,Ka.jsx)("span",{className:"meta-item",children:(null===(t=e.template)||void 0===t?void 0:t.name)||"Sin plantilla"}),(0,Ka.jsx)("span",{className:"meta-item",children:r.toLocaleDateString("es-ES")})]})]})}),(0,Ka.jsx)("td",{className:"contract-title",children:(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("strong",{children:e.title||e.contract_number}),e.description&&(0,Ka.jsx)("div",{style:{fontSize:"0.85rem",color:"#6c757d",marginTop:"0.25rem"},children:e.description.length>50?e.description.substring(0,50)+"...":e.description})]})}),(0,Ka.jsx)("td",{className:"contract-template",children:(0,Ka.jsx)("span",{className:"item-badge",children:(null===(n=e.template)||void 0===n?void 0:n.name)||"Sin plantilla"})}),(0,Ka.jsx)("td",{className:"contract-tercero",children:(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("div",{style:{fontWeight:"600",color:"#495057",marginBottom:"0.25rem"},children:"N/A"!==l?l:(0,Ka.jsx)("span",{style:{color:"#94a3b8",fontStyle:"italic",fontSize:"0.9rem"},children:"No disponible"})}),e.description&&(0,Ka.jsx)("div",{style:{fontSize:"0.8rem",color:"#94a3b8",marginTop:"0.25rem"},children:e.description.length>30?e.description.substring(0,30)+"...":e.description})]})}),(0,Ka.jsx)("td",{className:"contract-status",children:(0,Ka.jsx)("span",{className:"item-badge status-".concat(e.status),children:e.status})}),(0,Ka.jsx)("td",{className:"contract-generator hide-mobile",children:(null===(a=e.generated_by)||void 0===a?void 0:a.name)||"Usuario"}),(0,Ka.jsx)("td",{className:"contract-date hide-tablet",children:r.toLocaleDateString("es-ES")}),(0,Ka.jsx)("td",{className:"contract-time hide-mobile-tablet",children:r.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}),(0,Ka.jsx)("td",{className:"contract-actions",children:(0,Ka.jsxs)("div",{className:"actions-buttons",children:[e.file_path&&(0,Ka.jsx)("button",{className:"btn-action btn-download",onClick:()=>(async(e,t)=>{try{const n=await Qa.get("/documents/download/word/".concat(e),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(t,".docx")),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(a)}catch(n){console.error("Error downloading contract:",n),alert("Error al descargar el contrato")}})(e._id,e.contract_number),title:"Descargar Word",children:"\ud83d\udce5"}),(0,Ka.jsx)("button",{className:"btn-action btn-delete",onClick:()=>{window.confirm("\xbfEst\xe1s seguro de eliminar este contrato?")&&(async e=>{try{await Qa.delete("/contracts/".concat(e)),Re(),alert("Contrato eliminado exitosamente")}catch(t){console.error("Error deleting contract:",t),alert("Error al eliminar el contrato")}})(e._id)},title:"Eliminar",children:"\ud83d\uddd1\ufe0f"})]})})]},e._id)})})]})})})]})]}),v&&y&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>{x(!1),R(!1),z([]),D(!1),I([])},children:(0,Ka.jsxs)("div",{className:"modal-content-generate",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header-generate",children:[(0,Ka.jsx)("h2",{children:"\ud83d\ude80 Generar Contrato"}),(0,Ka.jsxs)("p",{children:["Plantilla: ",(0,Ka.jsx)("strong",{children:y.name})]}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>{x(!1),R(!1),z([]),D(!1),I([])},children:"\u2715"})]}),(0,Ka.jsxs)("div",{className:"modal-body-generate",children:[(0,Ka.jsxs)("div",{className:"supplier-selector",children:[(0,Ka.jsxs)("h3",{children:["Seleccionar Tercero ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("p",{children:"Selecciona el tercero con el cual se generar\xe1 el contrato"}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[(0,Ka.jsx)("div",{style:{flex:1},children:(0,Ka.jsxs)("select",{value:C,onChange:e=>Be(e.target.value),className:"form-input",required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccionar tercero --"}),_.filter(e=>!1!==e.active&&(null===y||void 0===y||!y.category||!e.third_party_type_id||e.third_party_type_id===y.category)).map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.legal_name," - ",e.identification_number]},e._id))]})}),(0,Ka.jsx)("button",{type:"button",className:"btn-create-supplier",onClick:async()=>{P(!0),await Me()},style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"600"},children:"+ Crear Tercero"})]}),(0,Ka.jsx)("button",{type:"button",onClick:async()=>{if(y){R(!0);try{var e,t;const n=(null===(e=y.fields)||void 0===e?void 0:e.map(e=>({field_name:e.field_name,original_marker:e.marker||e.field_name})))||[],a=await Qa.post("/third-party-types/suggest-from-template",{fields:n,third_party_type:y.category||"otro"});z(a.data.suggested||[]);const r=(null===(t=y.fields)||void 0===t?void 0:t.map(e=>({marker:e.marker||e.field_name,field_name:e.field_name,field_label:e.field_label||e.field_name,field_type:e.field_type||"text"})))||[];I(r)}catch(n){console.error("Error al obtener sugerencias:",n),alert("Error al analizar los campos de la plantilla")}}},style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",width:"fit-content"},children:"\ud83d\udca1 Ver campos sugeridos para esta plantilla"}),L&&A.length>0&&(0,Ka.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#E3F2FD",border:"2px solid #2196F3",borderRadius:"6px"},children:[(0,Ka.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#1976D2"},children:"\ud83d\udccb Campos necesarios para el tercero:"}),(0,Ka.jsx)("p",{style:{fontSize:"13px",color:"#555",marginBottom:"10px"},children:"Bas\xe1ndonos en las variables de esta plantilla, el tercero deber\xeda tener los siguientes datos:"}),(0,Ka.jsx)("ul",{style:{margin:"0",paddingLeft:"20px",fontSize:"14px"},children:A.filter(e=>!e.excluded).slice(0,10).map((e,t)=>(0,Ka.jsxs)("li",{style:{marginBottom:"5px"},children:[(0,Ka.jsx)("strong",{children:e.label}),e.required&&(0,Ka.jsx)("span",{style:{color:"#D32F2F",marginLeft:"5px"},children:"*"}),(0,Ka.jsx)("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#666",backgroundColor:"#fff",padding:"2px 6px",borderRadius:"3px"},children:e.field_type})]},t))}),A.filter(e=>!e.excluded).length>10&&(0,Ka.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",marginBottom:"0"},children:["... y ",A.filter(e=>!e.excluded).length-10," campos m\xe1s"]}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,Ka.jsx)("button",{onClick:()=>{D(!0)},style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"\ud83d\udd27 Configurar Tipo de Tercero"}),(0,Ka.jsx)("button",{onClick:()=>R(!1),style:{padding:"5px 12px",backgroundColor:"#fff",color:"#2196F3",border:"1px solid #2196F3",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:"Ocultar sugerencias"})]})]})]}),(0,Ka.jsxs)("div",{className:"contract-fields-modal",children:[(0,Ka.jsx)("h3",{children:"Datos del Contrato"}),qe(y.fields||[]).map((e,t)=>(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{children:[e.field_label||e.field_name,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:j[e.field_name]||"",onChange:t=>((e,t)=>{var n;const a=Ie(e),r=(null===y||void 0===y||null===(n=y.fields)||void 0===n?void 0:n.filter(e=>Ie(e.field_name)===a).map(e=>e.field_name))||[],l={};r.forEach(e=>{l[e]=t}),N(e=>u(u({},e),l))})(e.field_name,t.target.value),placeholder:"Ingresa ".concat((e.field_label||e.field_name).toLowerCase()),className:"form-input",required:e.required})]},t))]})]}),(0,Ka.jsxs)("div",{className:"modal-footer-generate",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>{x(!1),R(!1),z([]),D(!1),I([])},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-generate-final",onClick:async()=>{if(!y)return;if(!C)return void alert("Por favor selecciona un tercero para generar el contrato");const e=qe(y.fields||[]).filter(e=>e.required).filter(e=>{var t;return!(null!==(t=j[e.field_name])&&void 0!==t&&t.trim())});if(e.length>0)alert("Por favor completa los siguientes campos requeridos: ".concat(e.map(e=>e.field_label||e.field_name).join(", ")));else{E(!0);try{const e=await Qa.post("/templates/".concat(y._id,"/generate-contract"),{contractData:j});alert("\xa1Contrato generado exitosamente!\n\nN\xfamero: ".concat(e.data.contract.contract_number)),x(!1),b(null),N({}),S(""),R(!1),z([]),D(!1),I([]),Re()}catch(a){var t,n;console.error("Error generating contract:",a),alert("Error al generar el contrato: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error desconocido"))}finally{E(!1)}}},disabled:k,children:k?"Generando...":"\ud83d\ude80 Generar Contrato"})]})]})}),T&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>P(!1),children:(0,Ka.jsxs)("div",{className:"modal-content-generate",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},children:[(0,Ka.jsxs)("div",{className:"modal-header-generate",children:[(0,Ka.jsx)("h2",{children:"Crear Nuevo Tercero"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>P(!1),children:"\u2715"})]}),(0,Ka.jsx)("div",{className:"modal-body-generate",style:{maxHeight:"60vh",overflowY:"auto"},children:(0,Ka.jsxs)("div",{className:"contract-fields-modal",children:[(0,Ka.jsxs)("div",{className:"field-group",style:{backgroundColor:"#f0f9ff",padding:"15px",borderRadius:"8px",border:"2px solid #3b82f6",marginBottom:"20px"},children:[(0,Ka.jsxs)("label",{style:{fontSize:"16px",fontWeight:"600",color:"#1e40af"},children:["1. Tipo de Tercero ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("p",{style:{fontSize:"13px",color:"#64748b",marginBottom:"10px"},children:"Selecciona el tipo de tercero para cargar los campos correspondientes"}),(0,Ka.jsxs)("select",{value:U,onChange:e=>Ue(e.target.value),className:"form-input",style:{fontSize:"14px",padding:"12px"},children:[(0,Ka.jsx)("option",{value:"",children:"-- Selecciona un tipo --"}),q.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id)),(0,Ka.jsx)("option",{value:"__CREATE_NEW__",style:{backgroundColor:"#f0fdf4",color:"#16a34a",fontWeight:"600"},children:"+ Crear Nuevo Tipo de Tercero"})]})]}),U&&"__CREATE_NEW__"!==U&&0===H.length&&(0,Ka.jsxs)("div",{style:{backgroundColor:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"8px",padding:"20px",marginBottom:"20px",textAlign:"center"},children:[(0,Ka.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#92400e",marginBottom:"10px"},children:"\u26a0\ufe0f Este tipo de tercero no tiene campos configurados"}),(0,Ka.jsx)("p",{style:{fontSize:"14px",color:"#78350f",marginBottom:"15px"},children:"Para poder crear terceros de este tipo, primero debes configurar los campos desde el m\xf3dulo de Gesti\xf3n de Tipos de Terceros o desde una plantilla Word."}),(0,Ka.jsx)("p",{style:{fontSize:"13px",color:"#78350f",fontStyle:"italic"},children:"\ud83d\udca1 Sugerencia: Sube una plantilla Word con variables y el sistema te ayudar\xe1 a configurar los campos autom\xe1ticamente."})]}),U&&H.length>0&&(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h3",{style:{marginBottom:"15px",color:"#1e293b"},children:"2. Informaci\xf3n del Tercero"}),H.filter(e=>"legal_name_short"!==e.name).map((e,t)=>(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{children:[e.label,e.required&&(0,Ka.jsx)("span",{className:"required",children:" *"})]}),"text"===e.field_type&&(0,Ka.jsx)("input",{type:"text",value:W[e.name]||"",onChange:t=>{const n=u(u({},W),{},{[e.name]:t.target.value});"legal_name"===e.name&&(n.legal_name_short=t.target.value),G(n)},placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"email"===e.field_type&&(0,Ka.jsx)("input",{type:"email",value:W[e.name]||"",onChange:t=>G(u(u({},W),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"phone"===e.field_type&&(0,Ka.jsx)("input",{type:"tel",value:W[e.name]||"",onChange:t=>G(u(u({},W),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"number"===e.field_type&&(0,Ka.jsx)("input",{type:"number",value:W[e.name]||"",onChange:t=>G(u(u({},W),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",required:e.required}),"date"===e.field_type&&(0,Ka.jsx)("input",{type:"date",value:W[e.name]||"",onChange:t=>G(u(u({},W),{},{[e.name]:t.target.value})),className:"form-input",required:e.required}),"textarea"===e.field_type&&(0,Ka.jsx)("textarea",{value:W[e.name]||"",onChange:t=>G(u(u({},W),{},{[e.name]:t.target.value})),placeholder:"Ingrese ".concat(e.label.toLowerCase()),className:"form-input",rows:3,required:e.required}),"select"===e.field_type&&e.options&&(0,Ka.jsxs)("select",{value:W[e.name]||"",onChange:t=>G(u(u({},W),{},{[e.name]:t.target.value})),className:"form-input",required:e.required,children:[(0,Ka.jsx)("option",{value:"",children:"-- Seleccione --"}),e.options.map((e,t)=>(0,Ka.jsx)("option",{value:e,children:e},t))]}),"checkbox"===e.field_type&&(0,Ka.jsx)("div",{style:{marginTop:"5px"},children:(0,Ka.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"normal"},children:[(0,Ka.jsx)("input",{type:"checkbox",checked:W[e.name]||!1,onChange:t=>G(u(u({},W),{},{[e.name]:t.target.checked})),style:{marginRight:"8px",width:"18px",height:"18px"}}),e.label]})})]},e.name||t))]}),!U&&(0,Ka.jsxs)("div",{style:{padding:"30px",textAlign:"center",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"2px dashed #cbd5e1"},children:[(0,Ka.jsx)("div",{style:{fontSize:"48px",marginBottom:"10px"},children:"\ud83d\udccb"}),(0,Ka.jsx)("p",{style:{margin:"0",fontSize:"14px"},children:"Selecciona un tipo de tercero para ver los campos disponibles"})]})]})}),(0,Ka.jsxs)("div",{className:"modal-footer-generate",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>P(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-generate-final",onClick:async()=>{if(!U)return void alert("Por favor selecciona un tipo de tercero");const e=[];if(H.forEach(t=>{if(t.required){const n=W[t.name];n&&("string"!==typeof n||n.trim())||e.push(t.label)}}),e.length>0)alert("Por favor completa los siguientes campos requeridos:\n\n".concat(e.join("\n")));else try{const e=Object.keys(W).some(e=>["numero_del_nit","nit","numero_de_identificacion"].includes(e.toLowerCase().trim())),t={numero_del_nit:"identification_number",nit:"identification_number",numero_de_identificacion:"identification_number",numero_identificacion:"identification_number",numero_de_cedula:"identification_number",numero_cedula:"identification_number",cedula_numero:"identification_number",numero_documento:"identification_number",documento:"identification_number",cc:"identification_number",tipo_de_identificacion:"identification_type",tipo_identificacion:"identification_type",nombre_de_la_propiedad_horizontal:"legal_name",nombre_propiedad_horizontal:"legal_name",razon_social:"legal_name",nombre_empresa:"legal_name",empresa:"legal_name",nombre_completo:"full_name",nombre:"full_name",nombre_del_trabajador:"full_name",nombre_del_empleado:"full_name",nombre_trabajador:"full_name",trabajador:"full_name",empleado:"full_name",nombre_persona:"full_name",razon_social_abreviada:"legal_name_short",nombre_abreviado:"legal_name_short",nombre_corto:"legal_name_short",nombre_del_representante_legal:"legal_representative_name",representante_legal:"legal_representative_name",nombre_representante:"legal_representative_name",representante:"legal_representative_name",cedula_representante:"legal_representative_id_number",cedula_del_representante:"legal_representative_id_number",identificacion_representante:"legal_representative_id_number",tipo_id_representante:"legal_representative_id_type",correo:"email",email:"email",correo_electronico:"email",telefono:"phone",celular:"phone",tel:"phone",direccion:"address",dir:"address",ciudad:"city",ciudad_de_domicilio:"city",municipio:"city",pais:"country",country:"country",licenciatario:"licensee_name",nombre_licenciatario:"licensee_name"};e?(t.cedula="legal_representative_id_number",console.log('\ud83d\udccb Campo "cedula" mapeado a representante legal (se detect\xf3 NIT)')):(t.cedula="identification_number",console.log('\ud83d\udccb Campo "cedula" mapeado a identificaci\xf3n del tercero (no se detect\xf3 NIT)'));const n=["identification_type","identification_number","legal_name","legal_name_short","legal_representative_name","legal_representative_id_type","legal_representative_id_number"],a={},r={};Object.entries(W).forEach(e=>{let[l,s]=e;const i=l.toLowerCase().trim(),o=t[i]||l;n.includes(o)||["email","phone","address","city","country","licensee_name","full_name"].includes(o)?a[o]=s:r[l]=s});const l=q.find(e=>e._id===U),s=l&&l.default_identification_types&&l.default_identification_types.length>0?l.default_identification_types[0]:"NIT";console.log("\ud83c\udfe2 Usando tipo de identificaci\xf3n para",(null===l||void 0===l?void 0:l.label)||"tipo desconocido",":",s);const i={identification_type:a.identification_type||s,identification_number:a.identification_number||"",legal_name:a.legal_name||"",legal_name_short:a.legal_name_short||a.legal_name||"",full_name:a.full_name||a.legal_name||"",legal_representative_name:a.legal_representative_name||"",legal_representative_id_type:a.legal_representative_id_type||"CC",legal_representative_id_number:a.legal_representative_id_number||"",email:a.email||"",phone:a.phone||"",address:a.address||"",city:a.city||"",country:a.country||"Colombia",licensee_name:a.licensee_name||"",third_party_type_id:U,custom_fields:r};console.log("\ud83d\udce4 Creando tercero con datos mapeados:",i),console.log("\ud83d\udd04 Mapeo aplicado:",{camposDinamicos:Object.keys(W),camposMapeados:Object.keys(a),camposPersonalizados:Object.keys(r)});const o=await Qa.post("/suppliers",i);alert("Tercero creado exitosamente");const c=await Qa.get("/suppliers");w(c.data.suppliers||[]);const d=o.data.supplier._id;S(d),Be(d),P(!1),B(""),V([]),G({})}catch(s){var t,n,a;if(console.error("Error creating supplier:",s),console.error("Error details:",null===(t=s.response)||void 0===t?void 0:t.data),null!==(n=s.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errors&&Array.isArray(s.response.data.errors)){const e=s.response.data.errors.map(e=>"\u2022 ".concat(e.msg," (campo: ").concat(e.path,")")).join("\n");alert("Errores de validaci\xf3n:\n\n"+e)}else{var r,l;alert("Error al crear el tercero: "+((null===(r=s.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.error)||s.message||"Error desconocido"))}}},disabled:!U||0===H.length,style:{backgroundColor:U&&H.length>0?"#4CAF50":"#94a3b8",cursor:U&&H.length>0?"pointer":"not-allowed"},children:"Guardar Tercero"})]})]})}),$&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>Q(!1),children:(0,Ka.jsxs)("div",{className:"modal-content-generate",onClick:e=>e.stopPropagation(),style:{maxWidth:"700px"},children:[(0,Ka.jsxs)("div",{className:"modal-header-generate",children:[(0,Ka.jsx)("h2",{children:"Crear Nuevo Tipo de Tercero"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>Q(!1),children:"\u2715"})]}),(0,Ka.jsx)("div",{className:"modal-body-generate",style:{maxHeight:"70vh",overflowY:"auto"},children:(0,Ka.jsxs)("div",{className:"contract-fields-modal",children:[(0,Ka.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[(0,Ka.jsx)("h3",{style:{margin:"0 0 15px 0",color:"#334155"},children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsxs)("label",{children:["C\xf3digo ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:K.code,onChange:e=>J(u(u({},K),{},{code:e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})),placeholder:"ej: proveedor",className:"form-input",style:{fontFamily:"monospace"}}),(0,Ka.jsx)("small",{style:{fontSize:"12px",color:"#64748b",display:"block",marginTop:"4px"},children:"Solo letras min\xfasculas, n\xfameros y gui\xf3n bajo"})]}),(0,Ka.jsxs)("div",{className:"field-group",children:[(0,Ka.jsx)("label",{children:"\xcdcono"}),(0,Ka.jsx)("input",{type:"text",value:K.icon,onChange:e=>J(u(u({},K),{},{icon:e.target.value})),placeholder:"\ud83d\udcc4",className:"form-input",style:{fontSize:"24px",textAlign:"center"},maxLength:2}),(0,Ka.jsx)("small",{style:{fontSize:"12px",color:"#64748b",display:"block",marginTop:"4px"},children:"Emoji que representa el tipo"})]})]}),(0,Ka.jsxs)("div",{className:"field-group",style:{marginTop:"20px"},children:[(0,Ka.jsxs)("label",{children:["Nombre ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:K.label,onChange:e=>{J(u(u({},K),{},{label:e.target.value,code:K.code||e.target.value.toLowerCase().replace(/[^a-z0-9]/g,"_")}))},placeholder:"Proveedor",className:"form-input"}),(0,Ka.jsx)("small",{style:{fontSize:"12px",color:"#64748b",display:"block",marginTop:"4px"},children:"Nombre descriptivo del tipo de tercero"})]}),(0,Ka.jsxs)("div",{className:"field-group",style:{marginTop:"20px"},children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:K.description,onChange:e=>J(u(u({},K),{},{description:e.target.value})),placeholder:"Descripci\xf3n del tipo de tercero",className:"form-input",rows:3,style:{resize:"vertical"}})]})]}),(0,Ka.jsxs)("div",{style:{backgroundColor:"#fffbeb",border:"1px solid #fbbf24",borderRadius:"8px",padding:"12px",display:"flex",gap:"10px",alignItems:"flex-start"},children:[(0,Ka.jsx)("span",{style:{fontSize:"20px"},children:"\u2139\ufe0f"}),(0,Ka.jsxs)("div",{style:{fontSize:"13px",color:"#92400e"},children:[(0,Ka.jsx)("strong",{children:"Nota:"})," El tipo se crear\xe1 sin campos inicialmente. Despu\xe9s podr\xe1s configurar los campos desde el modal de configuraci\xf3n de tipos."]})]})]})}),(0,Ka.jsxs)("div",{className:"modal-footer-generate",children:[(0,Ka.jsx)("button",{className:"btn-cancel",onClick:()=>{Q(!1),J({code:"",label:"",description:"",icon:"\ud83d\udcc4"})},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-generate-final",onClick:async()=>{if(K.code.trim()&&K.label.trim())try{console.log("\ud83c\udd95 Creando nuevo tipo de tercero...");const e=(await Qa.post("/third-party-types",{code:K.code.toLowerCase().trim(),label:K.label.trim(),description:K.description.trim()||"Tipo de tercero: ".concat(K.label),icon:K.icon||"\ud83d\udcc4",fields:[]})).data.type;console.log("\u2705 Nuevo tipo creado:",e),await Me(),B(e._id),await Ue(e._id),Q(!1),J({code:"",label:"",description:"",icon:"\ud83d\udcc4"}),alert("Tipo de tercero creado exitosamente")}catch(n){var e,t;console.error("Error al crear tipo de tercero:",n),alert("Error al crear el tipo de tercero: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error desconocido"))}else alert("El c\xf3digo y el nombre son requeridos")},disabled:!K.code.trim()||!K.label.trim(),style:{backgroundColor:K.code.trim()&&K.label.trim()?"#10b981":"#94a3b8",cursor:K.code.trim()&&K.label.trim()?"pointer":"not-allowed"},children:"Crear Tipo"})]})]})}),O&&y&&(0,Ka.jsx)(mr,{isOpen:O,onClose:He,detectedVariables:F,thirdPartyTypeCode:y.category||"otro",onConfigApplied:async e=>{console.log("\ud83c\udfaf Tipo de tercero configurado, abriendo modal de creaci\xf3n con tipo:",e),He(),await Me(),P(!0),await Ue(e),console.log("\u2705 Modal de creaci\xf3n de tercero abierto con tipo pre-seleccionado")}}),Ce&&ke&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:Oe,children:(0,Ka.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h2",{children:"Editar Plantilla"}),(0,Ka.jsx)("button",{className:"modal-close",onClick:Oe,children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Plantilla *"}),(0,Ka.jsx)("input",{type:"text",value:Te.name,onChange:e=>Pe(u(u({},Te),{},{name:e.target.value})),placeholder:"Nombre de la plantilla",className:"form-input"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:Te.description,onChange:e=>Pe(u(u({},Te),{},{description:e.target.value})),placeholder:"Descripci\xf3n de la plantilla",className:"form-input",rows:3})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Categor\xeda"}),(0,Ka.jsx)("input",{type:"text",value:Te.category,onChange:e=>Pe(u(u({},Te),{},{category:e.target.value})),placeholder:"Categor\xeda de la plantilla",className:"form-input"})]})]}),(0,Ka.jsxs)("div",{className:"modal-footer",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:Oe,children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(ke)if(Te.name.trim())try{await Qa.put("/templates/".concat(ke._id),{name:Te.name.trim(),description:Te.description.trim(),category:Te.category.trim()}),alert("Plantilla actualizada exitosamente"),Oe(),Le()}catch(n){var e,t;console.error("Error updating template:",n),alert("Error al actualizar la plantilla: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error desconocido"))}else alert("El nombre de la plantilla es requerido")},children:"Guardar Cambios"})]})]})})]})},gr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[x,y]=(0,r.useState)({name:"",tax_id:"",email:"",phone:"",address:""}),[b,j]=(0,r.useState)({name:"",tax_id:"",email:"",phone:"",address:""});(0,r.useEffect)(()=>{N()},[]),(0,r.useEffect)(()=>{if(""===l.trim())a(e);else{const t=e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.tax_id&&e.tax_id.toLowerCase().includes(l.toLowerCase()));a(t)}},[l,e]);const N=async()=>{try{const e=await Qa.get("/companies");t(e.data),a(e.data)}catch(e){console.error("Error fetching companies:",e)}finally{o(!1)}};return i?(0,Ka.jsx)("div",{className:"loading",children:"Cargando empresas..."}):(0,Ka.jsxs)("div",{className:"companies",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Empresas"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>d(!0),children:"Nueva Empresa"})]}),(0,Ka.jsxs)("div",{className:"filter-section",children:[(0,Ka.jsx)("input",{type:"text",className:"search-input",placeholder:"Buscar por nombre o NIT...",value:l,onChange:e=>s(e.target.value)}),(0,Ka.jsxs)("span",{className:"results-count",children:[n.length," ",1===n.length?"empresa":"empresas"]})]}),0===n.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:0===e.length?"No hay empresas":"No se encontraron empresas"}),(0,Ka.jsx)("p",{children:0===e.length?"Agrega tu primera empresa para comenzar":"Intenta con otro t\xe9rmino de b\xfasqueda"})]}):(0,Ka.jsx)("div",{className:"companies-table-container",children:(0,Ka.jsxs)("table",{className:"companies-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"Nombre"}),(0,Ka.jsx)("th",{children:"NIT"}),(0,Ka.jsx)("th",{children:"Email"}),(0,Ka.jsx)("th",{children:"Tel\xe9fono"}),(0,Ka.jsx)("th",{children:"Direcci\xf3n"}),(0,Ka.jsx)("th",{children:"Fecha Registro"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:n.map(e=>(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("td",{className:"company-name",children:e.name}),(0,Ka.jsx)("td",{children:e.tax_id||"N/A"}),(0,Ka.jsx)("td",{children:e.email}),(0,Ka.jsx)("td",{children:e.phone}),(0,Ka.jsx)("td",{className:"company-address",children:e.address}),(0,Ka.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,Ka.jsxs)("td",{className:"actions-cell",children:[(0,Ka.jsx)("button",{className:"btn-icon btn-view",onClick:()=>(e=>{v(e),m(!0)})(e),title:"Ver detalles",children:"\ud83d\udc41\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-icon btn-edit",onClick:()=>(e=>{y({name:e.name,tax_id:e.tax_id||"",email:e.email,phone:e.phone,address:e.address}),v(e),f(!0)})(e),title:"Editar",children:"\u270f\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-icon btn-delete",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar esta empresa?"))try{await Qa.delete("/companies/".concat(e)),await N()}catch(t){console.error("Error deleting company:",t),alert("Error al eliminar la empresa. Puede que tenga contratos o plantillas asociadas.")}})(e._id),title:"Eliminar",children:"\ud83d\uddd1\ufe0f"})]})]},e._id))})]})}),c&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nueva Empresa"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:b.name,onChange:e=>j(u(u({},b),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"NIT:"}),(0,Ka.jsx)("input",{type:"text",value:b.tax_id,onChange:e=>j(u(u({},b),{},{tax_id:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:b.email,onChange:e=>j(u(u({},b),{},{email:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:b.phone,onChange:e=>j(u(u({},b),{},{phone:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:b.address,onChange:e=>j(u(u({},b),{},{address:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/companies",b),await N(),d(!1),j({name:"",tax_id:"",email:"",phone:"",address:""})}catch(e){console.error("Error creating company:",e)}},disabled:!b.name||!b.tax_id||!b.email,children:"Crear Empresa"})]})]})}),p&&g&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Detalles de la Empresa"}),(0,Ka.jsxs)("div",{className:"view-details",children:[(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Nombre:"})," ",g.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"NIT:"})," ",g.tax_id||"N/A"]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," ",g.email]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Tel\xe9fono:"})," ",g.phone]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Direcci\xf3n:"})," ",g.address]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Fecha de Registro:"})," ",new Date(g.createdAt).toLocaleDateString()]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>m(!1),children:"Cerrar"})})]})}),h&&g&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Empresa"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Empresa:"}),(0,Ka.jsx)("input",{type:"text",value:x.name,onChange:e=>y(u(u({},x),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"NIT:"}),(0,Ka.jsx)("input",{type:"text",value:x.tax_id,onChange:e=>y(u(u({},x),{},{tax_id:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:x.email,onChange:e=>y(u(u({},x),{},{email:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:x.phone,onChange:e=>y(u(u({},x),{},{phone:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:x.address,onChange:e=>y(u(u({},x),{},{address:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{f(!1),v(null)},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(g)try{await Qa.put("/companies/".concat(g._id),x),await N(),f(!1),v(null)}catch(e){console.error("Error editing company:",e)}},disabled:!x.name||!x.tax_id||!x.email,children:"Guardar Cambios"})]})]})})]})},vr=()=>{var e;const[t,n]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[d,p]=(0,r.useState)(""),[m,h]=(0,r.useState)("requester"),[f,g]=(0,r.useState)({canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1}),[v,x]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[_,w]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!1),[T,P]=(0,r.useState)(null),[L,R]=(0,r.useState)(new Set),[A,z]=(0,r.useState)({id:"",name:"",email:"",role:"requester"}),[O,D]=(0,r.useState)(""),[F,I]=(0,r.useState)("all"),[q,M]=(0,r.useState)("all"),[U,B]=(0,r.useState)("name"),[H,V]=(0,r.useState)("asc"),[W,G]=(0,r.useState)({email:"",name:"",password:"",role:"requester",companyId:""});(0,r.useEffect)(()=>{$()},[]);const $=async()=>{try{const[e,t]=await Promise.all([Qa.get("/multi-companies/users"),Qa.get("/multi-companies/companies")]);n(e.data),l(t.data)}catch(e){console.error("Error fetching data:",e)}finally{i(!1)}},Q=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),K=a.filter(e=>Q(e.name).includes(Q(v))||Q(e.tax_id).includes(Q(v))),J=t.filter(e=>{var t;const n=!O||Q(e.email).includes(Q(O))||Q(e.name).includes(Q(O)),a="all"===F||e.role===F,r=(null===(t=e.companies)||void 0===t?void 0:t.length)||0;let l=!0;return"none"===q?l=0===r:"one"===q?l=1===r:"multiple"===q&&(l=r>1),n&&a&&l}).sort((e,t)=>{var n,a;let r=0;switch(U){case"name":r=e.name.localeCompare(t.name);break;case"email":r=e.email.localeCompare(t.email);break;case"role":r=e.role.localeCompare(t.role);break;case"companies":r=((null===(n=e.companies)||void 0===n?void 0:n.length)||0)-((null===(a=t.companies)||void 0===a?void 0:a.length)||0);break;default:r=0}return"asc"===H?r:-r});return s?(0,Ka.jsx)("div",{className:"loading",children:"Cargando gesti\xf3n de usuarios..."}):(0,Ka.jsxs)("div",{className:"user-management",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Usuarios y Empresas"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>N(!0),children:"Crear Usuario"})]}),(0,Ka.jsxs)("div",{className:"filters-section",children:[(0,Ka.jsxs)("div",{className:"filters-row",children:[(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Buscar:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Email o nombre...",value:O,onChange:e=>D(e.target.value),className:"filter-input"})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:F,onChange:e=>I(e.target.value),className:"filter-select",children:[(0,Ka.jsx)("option",{value:"all",children:"Todos"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"admin",children:"Admin"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Lawyer"}),(0,Ka.jsx)("option",{value:"requester",children:"Requester"})]})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Empresas:"}),(0,Ka.jsxs)("select",{value:q,onChange:e=>M(e.target.value),className:"filter-select",children:[(0,Ka.jsx)("option",{value:"all",children:"Todas"}),(0,Ka.jsx)("option",{value:"none",children:"Sin empresas"}),(0,Ka.jsx)("option",{value:"one",children:"1 empresa"}),(0,Ka.jsx)("option",{value:"multiple",children:"M\xfaltiples"})]})]}),(0,Ka.jsxs)("div",{className:"filter-group",children:[(0,Ka.jsx)("label",{children:"Ordenar por:"}),(0,Ka.jsxs)("select",{value:U,onChange:e=>B(e.target.value),className:"filter-select",children:[(0,Ka.jsx)("option",{value:"name",children:"Nombre"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"role",children:"Rol"}),(0,Ka.jsx)("option",{value:"companies",children:"N\xb0 Empresas"})]})]}),(0,Ka.jsx)("div",{className:"filter-group",children:(0,Ka.jsx)("button",{onClick:()=>V("asc"===H?"desc":"asc"),className:"btn-sort",title:"asc"===H?"Orden ascendente":"Orden descendente",children:"asc"===H?"\u2191":"\u2193"})}),(0,Ka.jsx)("div",{className:"filter-group",children:(0,Ka.jsx)("button",{onClick:()=>{D(""),I("all"),M("all"),B("name"),V("asc")},className:"btn-clear-filters",children:"Limpiar"})})]}),(0,Ka.jsxs)("div",{className:"results-count",children:["Mostrando ",J.length," de ",t.length," usuarios"]})]}),(0,Ka.jsx)("div",{className:"users-list",children:J.map(e=>{var t;return(0,Ka.jsxs)("div",{className:"user-row",children:[(0,Ka.jsxs)("div",{className:"user-main-info",children:[(0,Ka.jsxs)("div",{className:"user-email-section",children:[(0,Ka.jsx)("span",{className:"user-email",children:e.email}),(0,Ka.jsx)("span",{className:"user-name-visible",children:e.name})]}),(0,Ka.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role}),(0,Ka.jsx)("span",{className:"status-badge ".concat(e.active?"active":"inactive"),children:e.active?"Activo":"Inactivo"}),(0,Ka.jsxs)("div",{className:"user-actions",children:[(0,Ka.jsx)("button",{className:"btn-view-info",onClick:()=>(e=>{c(e),S(!0)})(e),title:"Ver informaci\xf3n del usuario",children:"\ud83d\udc41\ufe0f"}),(0,Ka.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{z({id:e._id,name:e.name,email:e.email,role:e.role}),E(!0)})(e),title:"Editar usuario",children:"\u270e"}),(0,Ka.jsx)("button",{className:"btn-toggle-status ".concat(e.active?"deactivate":"activate"),onClick:()=>(async(e,t,n)=>{const a=n?"desactivar":"activar";if(window.confirm("\xbfEst\xe1 seguro de ".concat(a," al usuario ").concat(t,"?")))try{await Qa.patch("/multi-companies/toggle-user-status/".concat(e)),await $(),alert("Usuario ".concat("desactivar"===a?"desactivado":"activado"," exitosamente"))}catch(s){var r,l;alert((null===(r=s.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.error)||"Error al ".concat(a," usuario"))}})(e._id,e.name,e.active),title:e.active?"Desactivar usuario":"Activar usuario",children:e.active?"\ud83d\udd12":"\ud83d\udd13"}),(0,Ka.jsx)("button",{className:"btn-delete",onClick:()=>(async(e,t)=>{if(window.confirm("\xbfEst\xe1 seguro de eliminar al usuario ".concat(t,"?\n\nEsta acci\xf3n desactivar\xe1 el usuario y todas sus asignaciones a empresas.")))try{await Qa.delete("/multi-companies/delete-user/".concat(e)),await $(),alert("Usuario eliminado exitosamente")}catch(r){var n,a;alert((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Error al eliminar usuario")}})(e._id,e.name),title:"Eliminar usuario",children:"\ud83d\uddd1\ufe0f"}),(0,Ka.jsxs)("button",{className:"btn-view-companies",onClick:()=>{return t=e._id,void R(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},title:L.has(e._id)?"Ocultar empresas":"Ver empresas",children:[(0,Ka.jsx)("span",{className:"toggle-arrow ".concat(L.has(e._id)?"expanded":""),children:"\u25b6"}),"Empresas (",(null===(t=e.companies)||void 0===t?void 0:t.length)||0,")"]}),(0,Ka.jsx)("button",{className:"btn-small btn-primary",onClick:()=>(e=>{c(e),p(""),h("requester"),g({canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1}),x(""),b(!0)})(e),children:"Asignar"})]})]}),L.has(e._id)&&(0,Ka.jsx)("div",{className:"user-companies-expanded",children:e.companies&&0!==e.companies.length?e.companies.map(t=>(0,Ka.jsxs)("div",{className:"company-row",children:[(0,Ka.jsxs)("div",{className:"company-name",children:[(0,Ka.jsx)("strong",{children:t.company.name}),(0,Ka.jsxs)("span",{className:"tax-id",children:["(",t.company.tax_id,")"]})]}),(0,Ka.jsx)("span",{className:"role-badge-mini ".concat(t.role),children:t.role}),(0,Ka.jsxs)("div",{className:"perms",children:[(0,Ka.jsx)("span",{className:t.permissions.canView?"on":"off",title:"Ver",children:"V"}),(0,Ka.jsx)("span",{className:t.permissions.canEdit?"on":"off",title:"Editar",children:"E"}),(0,Ka.jsx)("span",{className:t.permissions.canDelete?"on":"off",title:"Eliminar",children:"D"}),(0,Ka.jsx)("span",{className:t.permissions.canManageUsers?"on":"off",title:"Gestionar",children:"G"})]}),(0,Ka.jsxs)("div",{className:"actions-mini",children:[(0,Ka.jsx)("button",{onClick:()=>((e,t)=>{c(e),P(t),h(t.role),g(t.permissions),w(!0)})(e,t),title:"Editar",children:"\u270e"}),(0,Ka.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("\xbfEst\xe1 seguro de remover este usuario de la empresa?"))try{await Qa.post("/multi-companies/remove-user-company",{userId:e,companyId:t}),await $()}catch(r){var n,a;console.error("Error removing user:",r),alert((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Error al remover usuario de empresa")}})(e._id,t.company._id),title:"Eliminar",children:"\u2715"})]})]},t._id)):(0,Ka.jsx)("p",{className:"no-companies",children:"Sin empresas asignadas"})})]},e._id)})}),y&&o&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:"Asignar Usuario a Empresa"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Usuario:"})," ",o.name," (",o.email,")"]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Buscar Empresa:"}),(0,Ka.jsx)("input",{type:"text",placeholder:"Buscar por nombre o NIT/RUC...",value:v,onChange:e=>x(e.target.value),className:"search-input"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Seleccionar Empresa:"}),(0,Ka.jsx)("div",{className:"company-list",children:0===K.length?(0,Ka.jsx)("p",{className:"no-results",children:"No se encontraron empresas"}):(0,Ka.jsxs)("select",{value:d,onChange:e=>p(e.target.value),size:Math.min(K.length,8),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar empresa..."}),K.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.tax_id]},e._id))]})})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol en la Empresa:"}),(0,Ka.jsxs)("select",{value:m,onChange:e=>h(e.target.value),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"talento_humano",children:"Talento Humano"}),(0,Ka.jsx)("option",{value:"colaboradores",children:"Colaboradores"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsxs)("div",{className:"permissions-grid",children:[(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canView,onChange:e=>g(u(u({},f),{},{canView:e.target.checked}))}),"Ver"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canEdit,onChange:e=>g(u(u({},f),{},{canEdit:e.target.checked}))}),"Editar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canDelete,onChange:e=>g(u(u({},f),{},{canDelete:e.target.checked}))}),"Eliminar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canManageUsers,onChange:e=>g(u(u({},f),{},{canManageUsers:e.target.checked}))}),"Gestionar Usuarios"]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{b(!1),c(null),x("")},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(o&&d)try{await Qa.post("/multi-companies/assign-user-company",{userId:o._id,companyId:d,role:m,permissions:f}),await $(),b(!1),c(null),p(""),h("requester"),g({canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1}),x("")}catch(n){var e,t;console.error("Error assigning user:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al asignar usuario a empresa")}},disabled:!d,children:"Asignar"})]})]})}),_&&T&&o&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Permisos"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Usuario:"})," ",o.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",T.company.name]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol en la Empresa:"}),(0,Ka.jsxs)("select",{value:m,onChange:e=>h(e.target.value),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"talento_humano",children:"Talento Humano"}),(0,Ka.jsx)("option",{value:"colaboradores",children:"Colaboradores"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsxs)("div",{className:"permissions-grid",children:[(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canView,onChange:e=>g(u(u({},f),{},{canView:e.target.checked}))}),"Ver"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canEdit,onChange:e=>g(u(u({},f),{},{canEdit:e.target.checked}))}),"Editar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canDelete,onChange:e=>g(u(u({},f),{},{canDelete:e.target.checked}))}),"Eliminar"]}),(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.canManageUsers,onChange:e=>g(u(u({},f),{},{canManageUsers:e.target.checked}))}),"Gestionar Usuarios"]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{w(!1),P(null),c(null)},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(T&&o)try{await Qa.put("/multi-companies/update-user-company-permissions",{userId:o._id,companyId:T.company._id,role:m,permissions:f}),await $(),w(!1),P(null)}catch(n){var e,t;console.error("Error updating permissions:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al actualizar permisos")}},children:"Actualizar"})]})]})}),j&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Crear Nuevo Usuario"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre:"}),(0,Ka.jsx)("input",{type:"text",value:W.name,onChange:e=>G(u(u({},W),{},{name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:W.email,onChange:e=>G(u(u({},W),{},{email:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Contrase\xf1a:"}),(0,Ka.jsx)("input",{type:"password",value:W.password,onChange:e=>G(u(u({},W),{},{password:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:W.role,onChange:e=>G(u(u({},W),{},{role:e.target.value})),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"talento_humano",children:"Talento Humano"}),(0,Ka.jsx)("option",{value:"colaboradores",children:"Colaboradores"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa (opcional):"}),(0,Ka.jsxs)("select",{value:W.companyId,onChange:e=>G(u(u({},W),{},{companyId:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Sin empresa"}),a.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.tax_id]},e._id))]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>N(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/super-admin/create-user",W),await $(),N(!1),G({email:"",name:"",password:"",role:"requester",companyId:""})}catch(n){var e,t;console.error("Error creating user:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al crear usuario")}},disabled:!W.name||!W.email||!W.password,children:"Crear Usuario"})]})]})}),C&&o&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n del Usuario"}),(0,Ka.jsxs)("div",{className:"user-info-details",children:[(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Nombre Completo:"}),(0,Ka.jsx)("span",{className:"info-value",children:o.name})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Email:"}),(0,Ka.jsx)("span",{className:"info-value",children:o.email})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Rol del Sistema:"}),(0,Ka.jsx)("span",{className:"role-badge ".concat(o.role),children:o.role})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Estado:"}),(0,Ka.jsx)("span",{className:"status-badge ".concat(o.active?"active":"inactive"),children:o.active?"Activo":"Inactivo"})]}),(0,Ka.jsxs)("div",{className:"info-row",children:[(0,Ka.jsx)("span",{className:"info-label",children:"Empresas Asignadas:"}),(0,Ka.jsx)("span",{className:"info-value",children:(null===(e=o.companies)||void 0===e?void 0:e.length)||0})]}),o.companies&&o.companies.length>0&&(0,Ka.jsxs)("div",{className:"info-section",children:[(0,Ka.jsx)("h4",{children:"Empresas y Roles:"}),(0,Ka.jsx)("div",{className:"companies-info-list",children:o.companies.map(e=>(0,Ka.jsxs)("div",{className:"company-info-item",children:[(0,Ka.jsxs)("div",{className:"company-info-header",children:[(0,Ka.jsx)("strong",{children:e.company.name}),(0,Ka.jsx)("span",{className:"role-badge-mini ".concat(e.role),children:e.role})]}),(0,Ka.jsxs)("div",{className:"company-info-details",children:[(0,Ka.jsxs)("span",{className:"tax-id",children:["NIT/RUC: ",e.company.tax_id]}),(0,Ka.jsxs)("div",{className:"perms",children:[(0,Ka.jsx)("span",{className:e.permissions.canView?"on":"off",title:"Ver",children:"V"}),(0,Ka.jsx)("span",{className:e.permissions.canEdit?"on":"off",title:"Editar",children:"E"}),(0,Ka.jsx)("span",{className:e.permissions.canDelete?"on":"off",title:"Eliminar",children:"D"}),(0,Ka.jsx)("span",{className:e.permissions.canManageUsers?"on":"off",title:"Gestionar",children:"G"})]})]})]},e._id))})]})]}),(0,Ka.jsx)("div",{className:"modal-actions",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{S(!1),c(null)},children:"Cerrar"})})]})}),k&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>E(!1),children:(0,Ka.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsx)("h2",{children:"Editar Usuario"}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre:"}),(0,Ka.jsx)("input",{type:"text",value:A.name,onChange:e=>z(u(u({},A),{},{name:e.target.value})),placeholder:"Nombre completo del usuario"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:A.email,onChange:e=>z(u(u({},A),{},{email:e.target.value})),placeholder:"correo@ejemplo.com"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:A.role,onChange:e=>z(u(u({},A),{},{role:e.target.value})),children:[(0,Ka.jsx)("option",{value:"requester",children:"Usuario"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"talento_humano",children:"Talento Humano"}),(0,Ka.jsx)("option",{value:"colaboradores",children:"Colaboradores"})]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>E(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.put("/multi-companies/edit-user/".concat(A.id),{name:A.name,email:A.email,role:A.role}),await $(),E(!1),alert("Usuario actualizado exitosamente")}catch(n){var e,t;alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al editar usuario")}},children:"Guardar Cambios"})]})]})})]})},xr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[g,v]=(0,r.useState)({companyId:"",userId:"",role:"requester",permissions:{canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1,canManageContracts:!1,canManageTemplates:!1}});(0,r.useEffect)(()=>{x()},[]);const x=async()=>{try{const[e,n,r]=await Promise.all([Qa.get("/company-users/companies"),Qa.get("/company-users/users"),Qa.get("/company-users/relations")]);t(e.data),a(n.data),s(r.data)}catch(e){console.error("Error fetching data:",e)}finally{o(!1)}};return i?(0,Ka.jsx)("div",{className:"loading",children:"Cargando relaciones empresa-usuario..."}):(0,Ka.jsxs)("div",{className:"company-user-management",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Relaciones Empresa-Usuario"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>d(!0),children:"Asignar Usuario a Empresa"})]}),(0,Ka.jsx)("div",{className:"relations-list",children:0===l.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay relaciones"}),(0,Ka.jsx)("p",{children:"Asigna usuarios a empresas para comenzar"})]}):l.map(e=>(0,Ka.jsxs)("div",{className:"relation-card",children:[(0,Ka.jsxs)("div",{className:"relation-info",children:[(0,Ka.jsx)("h3",{children:e.user.name}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Email:"})," ",e.user.email]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Empresa:"})," ",e.company.name]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Rol:"})," ",(0,Ka.jsx)("span",{className:"role-badge role-".concat(e.role),children:e.role})]}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Asignado:"})," ",new Date(e.assignedAt).toLocaleDateString()]})]}),(0,Ka.jsxs)("div",{className:"permissions-info",children:[(0,Ka.jsx)("h4",{children:"Permisos:"}),(0,Ka.jsx)("div",{className:"permissions-grid",children:Object.entries(e.permissions).map(e=>{let[t,n]=e;return(0,Ka.jsx)("span",{className:"permission ".concat(n?"granted":"denied"),children:t.replace("can","").replace(/([A-Z])/g," $1").trim()},t)})})]}),(0,Ka.jsxs)("div",{className:"relation-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{f(e),m(!0)})(e),children:"Editar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres remover esta relaci\xf3n?"))try{await Qa.delete("/company-users/remove/".concat(e)),await x()}catch(t){console.error("Error removing relation:",t)}})(e._id),children:"Remover"})]})]},e._id))}),c&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Asignar Usuario a Empresa"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsxs)("select",{value:g.companyId,onChange:e=>v(u(u({},g),{},{companyId:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar empresa"}),e.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.tax_id]},e._id))]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Usuario:"}),(0,Ka.jsxs)("select",{value:g.userId,onChange:e=>v(u(u({},g),{},{userId:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar usuario"}),n.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.name," - ",e.email]},e._id))]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:g.role,onChange:e=>v(u(u({},g),{},{role:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"requester",children:"Solicitante"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"talento_humano",children:"Talento Humano"}),(0,Ka.jsx)("option",{value:"colaboradores",children:"Colaboradores"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsx)("div",{className:"permissions-grid",children:Object.entries(g.permissions).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("label",{className:"permission-checkbox",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:n,onChange:e=>v(u(u({},g),{},{permissions:u(u({},g.permissions),{},{[t]:e.target.checked})}))}),t.replace("can","").replace(/([A-Z])/g," $1").trim()]},t)})})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Qa.post("/company-users/assign",g),await x(),d(!1),v({companyId:"",userId:"",role:"requester",permissions:{canView:!0,canEdit:!1,canDelete:!1,canManageUsers:!1,canManageContracts:!1,canManageTemplates:!1}})}catch(e){console.error("Error assigning user:",e)}},disabled:!g.companyId||!g.userId,children:"Asignar"})]})]})}),p&&h&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal",children:[(0,Ka.jsx)("h3",{children:"Editar Relaci\xf3n"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Usuario:"}),(0,Ka.jsxs)("p",{children:[h.user.name," - ",h.user.email]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Empresa:"}),(0,Ka.jsx)("p",{children:h.company.name})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Rol:"}),(0,Ka.jsxs)("select",{value:h.role,onChange:e=>f(u(u({},h),{},{role:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"requester",children:"Solicitante"}),(0,Ka.jsx)("option",{value:"lawyer",children:"Abogado"}),(0,Ka.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ka.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ka.jsx)("option",{value:"talento_humano",children:"Talento Humano"}),(0,Ka.jsx)("option",{value:"colaboradores",children:"Colaboradores"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Permisos:"}),(0,Ka.jsx)("div",{className:"permissions-grid",children:Object.entries(h.permissions).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("label",{className:"permission-checkbox",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:n,onChange:e=>((e,t)=>{h&&f(u(u({},h),{},{permissions:u(u({},h.permissions),{},{[e]:t})}))})(t,e.target.checked)}),t.replace("can","").replace(/([A-Z])/g," $1").trim()]},t)})})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(h)try{await Qa.put("/company-users/update-permissions/".concat(h._id),{role:h.role,permissions:h.permissions}),await x(),m(!1),f(null)}catch(e){console.error("Error updating relation:",e)}},children:"Actualizar"})]})]})})]})},yr=e=>{let{supplierId:t,onFieldsAdded:n}=e;const[a,l]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[d,p]=(0,r.useState)(!1),[m,h]=(0,r.useState)({}),[f,g]=(0,r.useState)(!1),[v,x]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&j()},[t]);const j=async()=>{try{i(!0),c(null),console.log("\ud83d\udd0d Fetching analysis for supplier:",t);const e=await Qa.get("/field-management/supplier/".concat(t,"/analysis"));console.log("\u2705 Analysis response:",e.data),l(e.data.analysis)}catch(r){var e,n,a;const t=(null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||r.message||"Error al obtener an\xe1lisis de campos";console.error("\u274c Error fetching analysis:",r),console.error("Error details:",null===(a=r.response)||void 0===a?void 0:a.data),c(t)}finally{i(!1)}},N=e=>e>=80?"success":e>=50?"warning":"error";return s?(0,Ka.jsx)("div",{className:"field-suggestions-panel",children:(0,Ka.jsxs)("div",{className:"loading-container",children:[(0,Ka.jsx)("div",{className:"spinner"}),(0,Ka.jsx)("p",{children:"Cargando an\xe1lisis de campos..."})]})}):o?(0,Ka.jsx)("div",{className:"field-suggestions-panel",children:(0,Ka.jsxs)("div",{className:"alert alert-error",children:[(0,Ka.jsx)("strong",{children:"Error:"})," ",o,(0,Ka.jsx)("button",{className:"btn-link",onClick:j,children:"Reintentar"})]})}):a&&a.hasType?(0,Ka.jsxs)("div",{className:"field-suggestions-panel",children:[(0,Ka.jsxs)("div",{className:"completion-card",children:[(0,Ka.jsxs)("div",{className:"completion-header",children:[(0,Ka.jsx)("h5",{children:"Completitud de Datos"}),(0,Ka.jsx)("button",{className:"btn-refresh",onClick:j,title:"Recargar an\xe1lisis",children:"\u21bb"})]}),(0,Ka.jsxs)("div",{className:"completion-percentage",children:[(0,Ka.jsxs)("div",{className:"percentage-value percentage-".concat(N(a.completionPercentage)),children:[a.completionPercentage,"%"]}),(0,Ka.jsxs)("div",{className:"completion-badge badge-".concat(N(a.completionPercentage)),children:[(_=a.completionPercentage,_>=80?"Buen estado":_>=50?"Completar campos faltantes":"Requiere atenci\xf3n"),a.totalMissing>0&&" (".concat(a.totalMissing," faltantes)")]})]}),(0,Ka.jsx)("div",{className:"progress-bar",children:(0,Ka.jsx)("div",{className:"progress-fill progress-".concat(N(a.completionPercentage)),style:{width:"".concat(a.completionPercentage,"%")}})}),(0,Ka.jsxs)("div",{className:"stats-grid",children:[(0,Ka.jsxs)("div",{className:"stat-item",children:[(0,Ka.jsx)("div",{className:"stat-value stat-primary",children:a.totalRequired}),(0,Ka.jsx)("div",{className:"stat-label",children:"Campos requeridos"})]}),(0,Ka.jsxs)("div",{className:"stat-item",children:[(0,Ka.jsx)("div",{className:"stat-value stat-success",children:a.totalMatched}),(0,Ka.jsx)("div",{className:"stat-label",children:"Completos"})]}),(0,Ka.jsxs)("div",{className:"stat-item",children:[(0,Ka.jsx)("div",{className:"stat-value stat-error",children:a.totalMissing}),(0,Ka.jsx)("div",{className:"stat-label",children:"Faltantes"})]})]})]}),a.missingFields&&a.missingFields.length>0&&(0,Ka.jsxs)("div",{className:"missing-fields-card",children:[(0,Ka.jsxs)("h5",{children:["Campos Faltantes (",a.missingFields.length,")"]}),(0,Ka.jsxs)("div",{className:"alert alert-warning",children:[(0,Ka.jsx)("strong",{children:"\u26a0\ufe0f Completa estos campos para generar contratos"}),(0,Ka.jsx)("p",{style:{marginTop:"0.5rem",marginBottom:0},children:"Los campos marcados como requeridos son necesarios para usar las plantillas asociadas."})]}),(0,Ka.jsx)("div",{className:"fields-list",children:a.missingFields.map((e,t)=>(0,Ka.jsxs)("div",{className:"field-item",children:[(0,Ka.jsxs)("div",{className:"field-info",children:[(0,Ka.jsxs)("div",{className:"field-header",children:[(0,Ka.jsx)("span",{className:"field-icon ".concat(e.required?"required":"optional"),children:e.required?"\u26a0\ufe0f":"\u2139\ufe0f"}),(0,Ka.jsx)("strong",{className:"field-label",children:e.label}),e.required&&(0,Ka.jsx)("span",{className:"badge badge-error",children:"Requerido"})]}),(0,Ka.jsx)("div",{className:"field-details",children:(0,Ka.jsxs)("small",{children:["Campo: ",(0,Ka.jsx)("code",{children:e.name})," | Tipo: ",e.type]})}),(0,Ka.jsxs)("div",{className:"field-templates",children:[(0,Ka.jsxs)("small",{children:["Usado en ",e.usedInTemplates.length," plantilla(s):"]}),(0,Ka.jsxs)("div",{className:"templates-chips",children:[e.usedInTemplates.slice(0,3).map((e,t)=>(0,Ka.jsxs)("span",{className:"template-chip",children:["\ud83d\udcc4 ",e]},t)),e.usedInTemplates.length>3&&(0,Ka.jsxs)("span",{className:"template-chip",children:["+",e.usedInTemplates.length-3," m\xe1s"]})]})]})]}),(0,Ka.jsx)("button",{className:"btn-add",onClick:()=>(e=>{x(e),h(u(u({},m),{},{[e.name]:""})),g(!0)})(e),children:"+ Agregar"})]},e.name))})]}),a.currentFieldsDetail&&a.currentFieldsDetail.length>0&&(0,Ka.jsxs)("div",{className:"current-fields-card",children:[(0,Ka.jsxs)("div",{className:"collapsible-header",onClick:()=>b(!y),children:[(0,Ka.jsxs)("h5",{children:["Campos Actuales (",a.currentFieldsDetail.length,")"]}),(0,Ka.jsx)("span",{className:"collapse-icon",children:y?"\u25bc":"\u25b6"})]}),y&&(0,Ka.jsx)("div",{className:"fields-list",children:a.currentFieldsDetail.map((e,t)=>(0,Ka.jsxs)("div",{className:"field-item current-field",children:[(0,Ka.jsx)("span",{className:"field-icon success",children:"\u2713"}),(0,Ka.jsxs)("div",{className:"field-info",children:[(0,Ka.jsx)("strong",{children:e.name}),(0,Ka.jsxs)("div",{className:"field-details",children:[(0,Ka.jsxs)("small",{children:[(0,Ka.jsx)("strong",{children:"Valor:"})," ",e.value]}),(0,Ka.jsx)("br",{}),(0,Ka.jsxs)("small",{children:["Fuente: ","standard"===e.source?"Campo est\xe1ndar":"Campo personalizado",e.originalField&&" (".concat(e.originalField,")")]})]})]})]},t))})]}),100===a.completionPercentage&&(0,Ka.jsxs)("div",{className:"alert alert-success",children:[(0,Ka.jsx)("strong",{children:"\u2705 Tercero Completo"}),(0,Ka.jsx)("p",{style:{marginTop:"0.5rem",marginBottom:0},children:"Este tercero tiene todos los campos necesarios para generar contratos con las plantillas disponibles."})]}),f&&v&&(0,Ka.jsx)("div",{className:"dialog-overlay",onClick:()=>g(!1),children:(0,Ka.jsxs)("div",{className:"dialog",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"dialog-header",children:[(0,Ka.jsxs)("h4",{children:["Agregar Campo: ",v.label]}),(0,Ka.jsx)("button",{className:"dialog-close",onClick:()=>g(!1),children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"dialog-content",children:[(0,Ka.jsxs)("div",{className:"alert alert-info",children:[(0,Ka.jsx)("strong",{children:"Usado en plantillas:"}),(0,Ka.jsx)("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:v.usedInTemplates.map((e,t)=>(0,Ka.jsx)("li",{children:(0,Ka.jsx)("small",{children:e})},t))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{children:[v.label," ",v.required&&(0,Ka.jsx)("span",{className:"required-mark",children:"*"})]}),(0,Ka.jsx)("input",{type:"email"===v.type?"email":"number"===v.type?"number":"text",value:m[v.name]||"",onChange:e=>h(u(u({},m),{},{[v.name]:e.target.value})),required:v.required,placeholder:"Ingrese ".concat(v.label.toLowerCase()),autoFocus:!0}),(0,Ka.jsxs)("small",{children:["Campo: ",v.name]})]})]}),(0,Ka.jsxs)("div",{className:"dialog-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>g(!1),disabled:d,children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(v&&m[v.name])try{p(!0),console.log("\ud83d\udcbe Saving field:",v.name,"=",m[v.name]),await Qa.post("/field-management/supplier/".concat(t,"/fields"),{fields:[{name:v.name,value:m[v.name],label:v.label}]}),console.log("\u2705 Field saved successfully");const e=u({},m);delete e[v.name],h(e),g(!1),x(null),await j(),n&&n(),alert("Campo agregado exitosamente")}catch(r){var e,a;const t=(null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||r.message||"Error al agregar campo";console.error("\u274c Error saving field:",r),alert("Error: ".concat(t))}finally{p(!1)}else alert("Por favor ingresa un valor para el campo")},disabled:d||!m[v.name],children:d?"Guardando...":"Guardar"})]})]})})]}):(0,Ka.jsx)("div",{className:"field-suggestions-panel",children:(0,Ka.jsxs)("div",{className:"alert alert-info",children:[(0,Ka.jsx)("strong",{children:"Sin tipo de tercero:"})," Asigna un tipo a este tercero para ver sugerencias de campos."]})});var _},br=e=>{let{supplierId:t,customFields:n,thirdPartyTypeId:a,onMergeComplete:l}=e;const[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g()},[n]);const g=()=>{if(!n||0===Object.keys(n).length)return void i([]);const e={};Object.entries(n).forEach(t=>{let[n,a]=t;const r=v(n);e[r]||(e[r]=[]),e[r].push({name:n,value:a,normalizedName:r,suggestion:x(r)})});const t=Object.entries(e).filter(e=>{let[t,n]=e;return n.length>1}).map(e=>{let[t,n]=e;const a=n.find(e=>e.value&&""!==e.value)||n[0];return{normalizedName:t,suggestedName:n[0].suggestion||t,fields:n,selectedValue:a.value,selectedField:a.name}});i(t)},v=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),x=e=>({cedula_rep_legal:"cedula_representante_legal",cedula_representante:"cedula_representante_legal",tel:"telefono",phone:"telefono",mail:"email",correo:"email",dir:"direccion",address:"direccion",razon_social:"legal_name",nombre_empresa:"legal_name"}[e]||e),y=(e,t,n)=>{const a=[...s];a[e].selectedField=t,a[e].selectedValue=n,i(a)};return 0===s.length?null:(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsx)("div",{className:"field-merger-summary",children:(0,Ka.jsxs)("div",{className:"merger-header",children:[(0,Ka.jsxs)("div",{className:"merger-info",children:[(0,Ka.jsx)("span",{className:"merger-icon",children:"\ud83d\udd04"}),(0,Ka.jsxs)("span",{className:"merger-text",children:[s.length," grupo(s) de campos duplicados detectados"]})]}),(0,Ka.jsx)("button",{className:"btn-show-merger",onClick:()=>f(!0),children:"Ver y Fusionar"})]})}),h&&(0,Ka.jsx)("div",{className:"merger-dialog-overlay",onClick:()=>f(!1),children:(0,Ka.jsxs)("div",{className:"merger-dialog",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"merger-dialog-header",children:[(0,Ka.jsx)("h3",{children:"Fusionar Campos Duplicados"}),(0,Ka.jsx)("button",{className:"merger-dialog-close",onClick:()=>f(!1),children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"merger-dialog-content",children:[(0,Ka.jsxs)("div",{className:"merger-alert",children:[(0,Ka.jsx)("strong",{children:"\u26a0\ufe0f Campos duplicados detectados"}),(0,Ka.jsx)("p",{children:"Se encontraron campos con nombres similares o duplicados. Puedes fusionarlos para mantener tu informaci\xf3n organizada."})]}),s.map((e,n)=>(0,Ka.jsxs)("div",{className:"merge-group-card",children:[(0,Ka.jsxs)("div",{className:"merge-group-header",children:[(0,Ka.jsxs)("h4",{children:["Grupo: ",e.normalizedName]}),(0,Ka.jsxs)("span",{className:"merge-group-count",children:[e.fields.length," campos"]})]}),(0,Ka.jsxs)("div",{className:"merge-suggestion",children:[(0,Ka.jsx)("strong",{children:"Nombre sugerido:"})," ",(0,Ka.jsx)("code",{children:e.suggestedName})]}),(0,Ka.jsx)("div",{className:"merge-fields-list",children:e.fields.map((t,a)=>(0,Ka.jsxs)("div",{className:"merge-field-item ".concat(e.selectedField===t.name?"selected":""),onClick:()=>y(n,t.name,t.value),children:[(0,Ka.jsx)("div",{className:"merge-field-radio",children:(0,Ka.jsx)("input",{type:"radio",name:"group-".concat(n),checked:e.selectedField===t.name,onChange:()=>y(n,t.name,t.value)})}),(0,Ka.jsxs)("div",{className:"merge-field-info",children:[(0,Ka.jsxs)("div",{className:"merge-field-name",children:[(0,Ka.jsx)("code",{children:t.name}),t.value&&""!==t.value?null:(0,Ka.jsx)("span",{className:"merge-field-badge empty",children:"Vac\xedo"})]}),(0,Ka.jsxs)("div",{className:"merge-field-value",children:[(0,Ka.jsx)("strong",{children:"Valor:"})," ",t.value||(0,Ka.jsx)("em",{className:"empty-value",children:"(vac\xedo)"})]})]})]},a))}),(0,Ka.jsxs)("div",{className:"merge-group-actions",children:[(0,Ka.jsx)("button",{className:"btn-merge",onClick:()=>(async e=>{const n=s[e];try{u(!0),console.log("\ud83d\udd04 Merging fields:",{group:n.normalizedName,fields:n.fields.map(e=>e.name),selectedField:n.selectedField,selectedValue:n.selectedValue,suggestedName:n.suggestedName}),await Qa.post("/field-management/supplier/".concat(t,"/merge-fields"),{fieldsToMerge:n.fields.map(e=>e.name),targetFieldName:n.suggestedName,targetValue:n.selectedValue,removeOriginals:!0}),console.log("\u2705 Fields merged successfully");const a=s.filter((t,n)=>n!==e);i(a),l&&l(),alert("Campos fusionados exitosamente en: ".concat(n.suggestedName))}catch(o){var a,r;const e=(null===(a=o.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||o.message||"Error al fusionar campos";console.error("\u274c Error merging fields:",o),alert("Error: ".concat(e))}finally{u(!1)}})(n),disabled:d||p,children:d?"Fusionando...":"Fusionar Este Tercero"}),a&&(0,Ka.jsx)("button",{className:"btn-merge-bulk",onClick:()=>(async e=>{const t=s[e];if(!a)return void alert("No se puede determinar el tipo de tercero para la fusi\xf3n masiva");const n="\xbfAplicar esta fusi\xf3n a TODOS los terceros del mismo tipo?\n\nCampos: ".concat(t.fields.map(e=>e.name).join(", "),"\nFusionar en: ").concat(t.suggestedName,"\n\nEsto afectar\xe1 a todos los terceros de este tipo en la empresa.");if(window.confirm(n))try{m(!0),console.log("\ud83d\ude80 Iniciando fusi\xf3n masiva:",{thirdPartyTypeId:a,fieldsToMerge:t.fields.map(e=>e.name),targetFieldName:t.suggestedName});const n=await Qa.post("/field-management/merge-fields-bulk",{thirdPartyTypeId:a,fieldsToMerge:t.fields.map(e=>e.name),targetFieldName:t.suggestedName});console.log("\u2705 Fusi\xf3n masiva completada:",n.data);const r=n.data.results,o="\u2705 Fusi\xf3n masiva completada exitosamente\n\n\ud83d\udcca Resultados:\n"+"\u2022 Total de terceros: ".concat(r.total,"\n")+"\u2022 Terceros actualizados: ".concat(r.merged,"\n")+"\u2022 Terceros sin cambios: ".concat(r.skipped,"\n\n")+"Los campos duplicados han sido fusionados en: ".concat(t.suggestedName);alert(o);const c=s.filter((t,n)=>n!==e);i(c),l&&l()}catch(c){var r,o;console.error("\u274c Error en fusi\xf3n masiva:",c);const e=(null===(r=c.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error)||c.message||"Error al realizar fusi\xf3n masiva";alert("Error: ".concat(e))}finally{m(!1)}})(n),disabled:d||p,title:"Aplicar esta fusi\xf3n a todos los terceros del mismo tipo",children:p?"Aplicando a todos...":"\u26a1 Fusionar Todos del Mismo Tipo"})]})]},n)),s.length>1&&(0,Ka.jsx)("div",{className:"merger-bulk-actions",children:(0,Ka.jsx)("button",{className:"btn-merge-all",onClick:async()=>{if(0!==s.length&&window.confirm("\xbfFusionar ".concat(s.length," grupo(s) de campos duplicados?")))try{u(!0);for(let e=0;e<s.length;e++){const n=s[e];await Qa.post("/field-management/supplier/".concat(t,"/merge-fields"),{fieldsToMerge:n.fields.map(e=>e.name),targetFieldName:n.suggestedName,targetValue:n.selectedValue,removeOriginals:!0})}i([]),l&&l(),alert("Todos los campos han sido fusionados exitosamente")}catch(a){var e,n;const t=(null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||a.message||"Error al fusionar campos";console.error("\u274c Error merging all fields:",a),alert("Error: ".concat(t))}finally{u(!1)}},disabled:d,children:d?"Fusionando...":"Fusionar Todos (".concat(s.length," grupos)")})})]}),(0,Ka.jsx)("div",{className:"merger-dialog-footer",children:(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"Nota:"})," La fusi\xf3n eliminar\xe1 los campos originales y crear\xe1 un nuevo campo con el nombre sugerido y el valor seleccionado."]})})]})})]})},jr={Colombia:["Bogot\xe1","Medell\xedn","Cali","Barranquilla","Cartagena","C\xfacuta","Bucaramanga","Pereira","Santa Marta","Ibagu\xe9","Pasto","Manizales","Neiva","Villavicencio","Armenia","Valledupar","Monter\xeda","Popay\xe1n","Sincelejo","Tunja"],"Estados Unidos":["Nueva York","Los \xc1ngeles","Chicago","Houston","Phoenix","Filadelfia","San Antonio","San Diego","Dallas","San Jos\xe9","Austin","Jacksonville","Fort Worth","Columbus","Charlotte"],"M\xe9xico":["Ciudad de M\xe9xico","Guadalajara","Monterrey","Puebla","Tijuana","Le\xf3n","Ju\xe1rez","Zapopan","M\xe9rida","San Luis Potos\xed","Aguascalientes","Hermosillo","Saltillo","Mexicali","Culiac\xe1n"],"Espa\xf1a":["Madrid","Barcelona","Valencia","Sevilla","Zaragoza","M\xe1laga","Murcia","Palma","Las Palmas","Bilbao","Alicante","C\xf3rdoba","Valladolid","Vigo","Gij\xf3n"],Argentina:["Buenos Aires","C\xf3rdoba","Rosario","Mendoza","La Plata","San Miguel de Tucum\xe1n","Mar del Plata","Salta","Santa Fe","San Juan","Resistencia","Santiago del Estero","Corrientes","Posadas","Bah\xeda Blanca"],Chile:["Santiago","Valpara\xedso","Concepci\xf3n","La Serena","Antofagasta","Temuco","Rancagua","Talca","Arica","Chill\xe1n","Iquique","Los \xc1ngeles","Puerto Montt","Coquimbo","Osorno"],"Per\xfa":["Lima","Arequipa","Trujillo","Chiclayo","Piura","Iquitos","Cusco","Huancayo","Chimbote","Tacna","Juliaca","Ica","Sullana","Ayacucho","Cajamarca"],Ecuador:["Quito","Guayaquil","Cuenca","Santo Domingo","Machala","Dur\xe1n","Manta","Portoviejo","Loja","Ambato","Esmeraldas","Quevedo","Riobamba","Milagro","Ibarra"],Brasil:["S\xe3o Paulo","R\xedo de Janeiro","Brasilia","Salvador","Fortaleza","Belo Horizonte","Manaos","Curitiba","Recife","Porto Alegre","Bel\xe9m","Goi\xe2nia","Guarulhos","Campinas","S\xe3o Lu\xeds"],Venezuela:["Caracas","Maracaibo","Valencia","Barquisimeto","Maracay","Ciudad Guayana","Barcelona","Matur\xedn","Puerto La Cruz","Petare","Turmero","Ciudad Bol\xedvar","M\xe9rida","Santa Teresa","Valera"],"Panam\xe1":["Ciudad de Panam\xe1","San Miguelito","Tocumen","David","Arraij\xe1n","Col\xf3n","Las Cumbres","La Chorrera","Pacora","Santiago","Chitr\xe9","Penonom\xe9","Changuinola","Aguadulce","Bocas del Toro"],"Costa Rica":["San Jos\xe9","Lim\xf3n","San Francisco","Alajuela","Heredia","Cartago","Puntarenas","Liberia","Para\xedso","Curridabat","San Vicente","San Isidro","Desamparados","Purral","San Felipe"]},Nr=()=>{var e,t,n;const[a,l]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[d,p]=(0,r.useState)("all"),[m,h]=(0,r.useState)(!0),[f,g]=(0,r.useState)(!1),[v,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[j,N]=(0,r.useState)([]),[_,w]=(0,r.useState)({identification_type:"",identification_number:"",id_issue_city:"",legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:"",email:"",phone:"",address:"",city:"",country:"Colombia",third_party_type:"",custom_fields:{}});(0,r.useEffect)(()=>{console.log("\ud83d\udd35 Suppliers component loaded - VERSION 2025-11-11-00:25 with supplier extraction fix"),S(),C()},[]),(0,r.useEffect)(()=>{let e=a;if("all"!==d&&(e=e.filter(e=>{var t;return(null===(t=e.third_party_type)||void 0===t?void 0:t.code)===d})),""!==o.trim()){const t=o.toLowerCase();e=e.filter(e=>e.legal_name.toLowerCase().includes(t)||e.identification_number.toLowerCase().includes(t)||e.email&&e.email.toLowerCase().includes(t))}i(e)},[o,d,a]);const C=async()=>{try{const e="?t=".concat(Date.now()),t=(await Qa.get("/suppliers/types".concat(e))).data.types||[];console.log("\ud83d\udd0d [DEBUG] Tipos de terceros recibidos:",t.length),console.log("\ud83d\udccb [DEBUG] C\xf3digos:",t.map(e=>e.code).join(", ")),console.log("\u2705 [DEBUG] Tiene Propiedad Horizontal (ph):",t.some(e=>"ph"===e.code)),console.log("\u2705 [DEBUG] Tiene Contador PH (contador_ph):",t.some(e=>"contador_ph"===e.code)),N(t)}catch(e){console.error("Error fetching third party types:",e)}},S=async()=>{try{const e=(await Qa.get("/suppliers")).data.suppliers||[],t=await Promise.all(e.map(async e=>{try{const t=await Qa.get("/suppliers/".concat(e._id,"/check-references")),{references:n}=t.data;return u(u({},e),{},{canDelete:n.canDelete,hasReferences:n.hasReferences,referenceDetails:n.details})}catch(t){return console.error("Error checking references for supplier ".concat(e._id,":"),t),u(u({},e),{},{canDelete:!1,hasReferences:!1})}}));l(t)}catch(e){console.error("Error fetching suppliers:",e)}finally{h(!1)}},k=async()=>{if(null!==y&&void 0!==y&&y._id)try{var e;console.log("\ud83d\udd04 Recargando supplier actual:",y._id);const t=await Qa.get("/suppliers/".concat(y._id)),n=t.data.supplier||t.data;console.log("\ud83d\udce6 Response completo:",t.data),console.log("\ud83d\udce6 Supplier extra\xeddo:",n),console.log("\ud83d\udce6 Custom fields del backend:",n.custom_fields),console.log("\ud83d\udce6 identification_type:",n.identification_type),console.log("\ud83d\udce6 identification_number:",n.identification_number),console.log("\ud83d\udce6 legal_name:",n.legal_name),console.log("\ud83d\udce6 third_party_type:",n.third_party_type),b(n);const a=n.country||"Colombia",r={identification_type:n.identification_type,identification_number:n.identification_number,id_issue_city:n.id_issue_city||"",legal_name:n.legal_name,legal_name_short:n.legal_name_short,full_name:n.legal_name,legal_representative_name:n.legal_representative_name,legal_representative_id_type:n.legal_representative_id_type,legal_representative_id_number:n.legal_representative_id_number,licensee_name:n.licensee_name||"",email:n.email||"",phone:n.phone||"",address:n.address||"",city:n.city||"",country:a,third_party_type:(null===(e=n.third_party_type)||void 0===e?void 0:e._id)||"",custom_fields:n.custom_fields||{}};console.log("\ud83d\udcdd Nuevo formData completo:",r),console.log("\ud83d\udcdd Nuevo formData.custom_fields:",r.custom_fields),console.log("\ud83d\udcdd Nuevo formData.third_party_type:",r.third_party_type),w(r),console.log("\u2705 Supplier recargado exitosamente - formData actualizado")}catch(t){console.error("\u274c Error recargando supplier:",t)}},E=e=>{const t=jr[e]||[];w(u(u({},_),{},{country:e,city:t.length>0?t[0]:""}))},T=()=>{w({identification_type:"NIT",identification_number:"",id_issue_city:"",legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:"",email:"",phone:"",address:"",city:"",country:"Colombia",third_party_type:"",custom_fields:{}})},P=()=>{const e="NIT"===_.identification_type;if(console.log("=== VALIDACI\xd3N DE FORMULARIO ==="),console.log("Tipo de tercero:",_.third_party_type),console.log("Tipos disponibles:",j.length),console.log("Tipo de identificaci\xf3n:",_.identification_type),console.log("N\xfamero de identificaci\xf3n:",_.identification_number),console.log("Es empresa:",e),console.log("Nombre completo:",_.full_name),console.log("Raz\xf3n social:",_.legal_name),j.length>0&&!_.third_party_type)return console.log("\u274c Falta tipo de tercero"),!1;if(!_.identification_type||!_.identification_number)return console.log("\u274c Falta tipo o n\xfamero de identificaci\xf3n"),!1;if(e){const e=!!(_.legal_name&&_.legal_name_short&&_.legal_representative_name&&_.legal_representative_id_type&&_.legal_representative_id_number);return console.log("Validaci\xf3n empresa:",e),e}{const e=!(!_.full_name||!_.full_name.trim());return console.log("Validaci\xf3n persona natural:",e),e}},L=()=>{const e="NIT"===_.identification_type,t=[];return j.length>0&&!_.third_party_type&&t.push("Tipo de Tercero"),_.identification_type||t.push("Tipo de Identificaci\xf3n"),_.identification_number||t.push("N\xfamero de Identificaci\xf3n"),e?(_.legal_name||t.push("Raz\xf3n Social"),_.legal_name_short||t.push("Nombre Corto"),_.legal_representative_name||t.push("Nombre del Representante Legal"),_.legal_representative_id_type||t.push("Tipo de ID del Representante"),_.legal_representative_id_number||t.push("N\xfamero de ID del Representante")):_.full_name&&_.full_name.trim()||t.push("Nombre Completo"),t};return m?(0,Ka.jsx)("div",{className:"loading",children:"Cargando terceros..."}):(0,Ka.jsxs)("div",{className:"suppliers",children:[(0,Ka.jsx)("div",{className:"gradient-header",children:(0,Ka.jsxs)("div",{className:"header-content",children:[(0,Ka.jsxs)("div",{className:"header-text",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Terceros"}),(0,Ka.jsx)("p",{children:"Administra proveedores, clientes y contactos de tu organizaci\xf3n"})]}),(0,Ka.jsx)("button",{className:"btn-create-supplier",onClick:()=>g(!0),children:"+ Nuevo Tercero"})]})}),(0,Ka.jsx)("div",{className:"filters-container",children:(0,Ka.jsxs)("div",{className:"filters-row",children:[(0,Ka.jsxs)("select",{className:"filter-select",value:d,onChange:e=>p(e.target.value),children:[(0,Ka.jsx)("option",{value:"all",children:"Todos los tipos"}),j.map(e=>(0,Ka.jsxs)("option",{value:e.code,children:[e.icon," ",e.label]},e._id))]}),(0,Ka.jsx)("input",{type:"text",className:"search-input",placeholder:"Buscar por raz\xf3n social, n\xfamero ID o email...",value:o,onChange:e=>c(e.target.value)}),(0,Ka.jsxs)("div",{className:"results-badge",children:[s.length," ",1===s.length?"tercero":"terceros"]})]})}),(0,Ka.jsx)("div",{className:"suppliers-list",children:0===s.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:0===a.length?"No hay terceros":"No se encontraron terceros"}),(0,Ka.jsx)("p",{children:0===a.length?"Agrega tu primer tercero para comenzar":"Intenta con otro t\xe9rmino de b\xfasqueda"})]}):(0,Ka.jsx)("div",{className:"table-wrapper",children:(0,Ka.jsxs)("table",{className:"suppliers-table-compact",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{children:"Estado"}),(0,Ka.jsx)("th",{children:"Tipo"}),(0,Ka.jsx)("th",{children:"Informaci\xf3n del Tercero"}),(0,Ka.jsx)("th",{children:"Identificaci\xf3n"}),(0,Ka.jsx)("th",{children:"Contacto"}),(0,Ka.jsx)("th",{children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:s.map(e=>{var t,n;return(0,Ka.jsxs)("tr",{className:e.active?"":"inactive-row",children:[(0,Ka.jsx)("td",{children:(0,Ka.jsx)("span",{className:"status-badge ".concat("approved"===e.approval_status?"approved":"pending"===e.approval_status?"pending":"rejected"),children:"approved"===e.approval_status?"\u2713 Aprobado":"pending"===e.approval_status?"\u23f3 Pendiente":"\u2717 Rechazado"})}),(0,Ka.jsx)("td",{className:"type-col",children:e.third_party_type?(0,Ka.jsxs)("span",{className:"type-badge",title:e.third_party_type.description,children:[e.third_party_type.icon," ",e.third_party_type.label]}):(0,Ka.jsx)("span",{className:"no-type",children:"-"})}),(0,Ka.jsxs)("td",{className:"supplier-info-col",children:[(0,Ka.jsxs)("div",{className:"supplier-name",children:[(0,Ka.jsx)("strong",{children:e.legal_name}),e.legal_name_short&&e.legal_name_short!==e.legal_name&&(0,Ka.jsx)("small",{children:e.legal_name_short})]}),e.legal_representative_name&&(0,Ka.jsxs)("div",{className:"representative-compact",children:[(0,Ka.jsx)("span",{className:"rep-label",children:"Rep. Legal:"})," ",e.legal_representative_name]})]}),(0,Ka.jsx)("td",{className:"id-col",children:(0,Ka.jsxs)("div",{className:"id-info",children:[(0,Ka.jsx)("span",{className:"id-type",children:e.identification_type}),(0,Ka.jsx)("span",{className:"id-number",children:e.identification_number})]})}),(0,Ka.jsx)("td",{className:"contact-col",children:(0,Ka.jsxs)("div",{className:"contact-info",children:[e.email&&(0,Ka.jsx)("div",{className:"contact-email",children:e.email}),e.phone&&(0,Ka.jsx)("div",{className:"contact-phone",children:e.phone}),!e.email&&!e.phone&&(0,Ka.jsx)("span",{className:"no-contact",children:"Sin contacto"})]})}),(0,Ka.jsx)("td",{className:"actions-col",children:(0,Ka.jsxs)("div",{className:"supplier-actions",children:[(0,Ka.jsx)("button",{className:"btn-action btn-edit",onClick:()=>(e=>{var t;b(e);const n=e.country||"Colombia";w({identification_type:e.identification_type,identification_number:e.identification_number,id_issue_city:e.id_issue_city||"",legal_name:e.legal_name,legal_name_short:e.legal_name_short,full_name:e.legal_name,legal_representative_name:e.legal_representative_name,legal_representative_id_type:e.legal_representative_id_type,legal_representative_id_number:e.legal_representative_id_number,licensee_name:e.licensee_name||"",email:e.email||"",phone:e.phone||"",address:e.address||"",city:e.city||"",country:n,third_party_type:(null===(t=e.third_party_type)||void 0===t?void 0:t._id)||"",custom_fields:e.custom_fields||{}}),x(!0)})(e),title:"Editar informaci\xf3n de ".concat(e.legal_name),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Ka.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,Ka.jsx)("button",{className:"btn-action ".concat(e.active?"btn-toggle-off":"btn-toggle-on"),onClick:()=>(async e=>{try{await Qa.patch("/suppliers/".concat(e._id,"/toggle-status")),await S()}catch(a){var t,n;console.error("Error toggling supplier status:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al cambiar estado del proveedor")}})(e),title:e.hasReferences?"\u26a0\ufe0f Este tercero tiene ".concat((null===(t=e.referenceDetails)||void 0===t?void 0:t.contracts)||0," contrato(s) y ").concat((null===(n=e.referenceDetails)||void 0===n?void 0:n.templates)||0," plantilla(s) asociados. Solo puede ser desactivado, no eliminado."):e.active?"Desactivar a ".concat(e.legal_name," (ya no aparecer\xe1 en listados activos)"):"Activar a ".concat(e.legal_name," (volver\xe1 a aparecer en listados)"),children:e.active?(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ka.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,Ka.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}):(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,Ka.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e.canDelete&&(0,Ka.jsx)("button",{className:"btn-action btn-delete",onClick:()=>(async e=>{try{const t=await Qa.get("/suppliers/".concat(e._id,"/check-references")),{references:n}=t.data;if(!n.canDelete){const e="No se puede eliminar este tercero porque tiene:\n"+"- ".concat(n.details.contracts," contrato(s) asociado(s)\n")+"- ".concat(n.details.templates," plantilla(s) del mismo tipo\n\n")+"Desact\xedvalo en lugar de eliminarlo para mantener la integridad de los datos.";return void alert(e)}if(!window.confirm('\xbfEst\xe1 seguro de eliminar el tercero "'.concat(e.legal_name,'"?\n\nEsta acci\xf3n no se puede deshacer.')))return;await Qa.delete("/suppliers/".concat(e._id)),await S()}catch(l){var t,n,a,r;console.error("Error deleting supplier:",l),null!==(t=l.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.suggestion?alert("".concat(l.response.data.error,"\n\n").concat(l.response.data.suggestion)):alert((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error al eliminar tercero")}})(e),title:"\ud83d\uddd1\ufe0f Eliminar permanentemente a ".concat(e.legal_name,". Esta acci\xf3n no se puede deshacer."),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,Ka.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,Ka.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,Ka.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})})]},e._id)})})]})})}),f&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:"Crear Nuevo Tercero"}),(0,Ka.jsxs)("div",{className:"modal-content",children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n del Tercero"}),j.length>0&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero:"}),(0,Ka.jsxs)("select",{value:_.third_party_type,onChange:e=>{const t=e.target.value;if(!t)return void w(u(u({},_),{},{third_party_type:""}));const n=j.find(e=>e._id===t),a=null===n||void 0===n?void 0:n.default_identification_types;let r="CC";a&&Array.isArray(a)&&a.length>0&&(r=a[0]);const l="NIT"===r||"NIT"===r;console.log("=== CAMBIO DE TIPO DE TERCERO ==="),console.log("Tipo seleccionado:",null===n||void 0===n?void 0:n.label),console.log("allowedIdTypes:",a),console.log("newIdType asignado:",r),console.log("Es empresa:",l),w(u(u({},_),{},{third_party_type:t,identification_type:r,legal_name:l?_.legal_name:"",legal_name_short:l?_.legal_name_short:"",legal_representative_name:l?_.legal_representative_name:"",legal_representative_id_type:l?_.legal_representative_id_type:"CC",legal_representative_id_number:l?_.legal_representative_id_number:"",licensee_name:l?_.licensee_name:"",full_name:l?"":_.full_name}))},children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione un tipo (opcional)"}),j.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id))]}),_.third_party_type&&(0,Ka.jsx)("small",{style:{display:"block",marginTop:"0.5rem",color:"#7f8c8d"},children:null===(e=j.find(e=>e._id===_.third_party_type))||void 0===e?void 0:e.description})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsx)("select",{value:_.identification_type,onChange:e=>w(u(u({},_),{},{identification_type:e.target.value,legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:""})),required:!0,children:(()=>{const e=j.find(e=>e._id===_.third_party_type),t=null===e||void 0===e?void 0:e.default_identification_types;return t&&t.length>0?t.map(e=>(0,Ka.jsx)("option",{value:e,children:e},e)):(0,Ka.jsxs)(Ka.Fragment,{children:[!_.identification_type&&(0,Ka.jsx)("option",{value:"",children:"Seleccione tipo de identificaci\xf3n"}),(0,Ka.jsx)("option",{value:"NIT",children:"NIT (Empresa)"}),(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]})})()}),_.third_party_type&&(()=>{const e=j.find(e=>e._id===_.third_party_type),t=null===e||void 0===e?void 0:e.default_identification_types;return t&&t.length>0?(0,Ka.jsxs)("small",{style:{display:"block",marginTop:"0.25rem",color:"#2563eb",fontSize:"0.85rem"},children:["Tipos permitidos para este tipo de tercero: ",t.join(", ")]}):null})()]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:_.identification_number,onChange:e=>w(u(u({},_),{},{identification_number:e.target.value})),required:!0})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Ciudad de Expedici\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:_.id_issue_city,onChange:e=>w(u(u({},_),{},{id_issue_city:e.target.value})),placeholder:"Ej: Bogot\xe1, Medell\xedn, etc."})]}),"NIT"===_.identification_type&&(0,Ka.jsx)(Ka.Fragment,{children:"NIT"===_.identification_type?(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Propiedad Horizontal: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_name,onChange:e=>w(u(u({},_),{},{legal_name:e.target.value,legal_name_short:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Licenciatario:"}),(0,Ka.jsx)("input",{type:"text",value:_.licensee_name,onChange:e=>w(u(u({},_),{},{licensee_name:e.target.value}))})]})]}):(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n Social / Nombre: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_name,onChange:e=>w(u(u({},_),{},{legal_name:e.target.value,legal_name_short:e.target.value})),required:!0,placeholder:"Ej: Constructora ABC S.A.S."})]})}),"NIT"!==_.identification_type&&(0,Ka.jsx)("div",{className:"form-row",children:(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre Completo: *"}),(0,Ka.jsx)("input",{type:"text",value:_.full_name,onChange:e=>w(u(u({},_),{},{full_name:e.target.value})),required:!0,placeholder:"Ej: Juan P\xe9rez Garc\xeda"})]})})]}),"NIT"===_.identification_type&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Representante Legal"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Representante Legal: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_representative_name,onChange:e=>w(u(u({},_),{},{legal_representative_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsxs)("select",{value:_.legal_representative_id_type,onChange:e=>w(u(u({},_),{},{legal_representative_id_type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_representative_id_number,onChange:e=>w(u(u({},_),{},{legal_representative_id_number:e.target.value})),required:!0})]})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n de Contacto (Opcional)"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:_.email,onChange:e=>w(u(u({},_),{},{email:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:_.phone,onChange:e=>w(u(u({},_),{},{phone:e.target.value}))})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:_.address,onChange:e=>w(u(u({},_),{},{address:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Pa\xeds:"}),(0,Ka.jsx)("select",{value:_.country,onChange:e=>E(e.target.value),children:Object.keys(jr).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Ciudad:"}),(0,Ka.jsxs)("select",{value:_.city,onChange:e=>w(u(u({},_),{},{city:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione una ciudad"}),(jr[_.country||"Colombia"]||[]).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))]})]})]})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{g(!1),T()},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{const e="NIT"===_.identification_type;if(e){if(!_.legal_name.trim())return void alert("La raz\xf3n social es requerida");if(!_.legal_representative_name.trim())return void alert("El nombre del representante legal es requerido")}else if(!_.full_name.trim())return void alert("El nombre completo es requerido");try{const t=u(u({},_),{},e?{full_name:void 0}:{legal_name:_.full_name,legal_name_short:_.full_name,legal_representative_name:void 0,legal_representative_id_type:void 0,legal_representative_id_number:void 0});await Qa.post("/suppliers",t),await S(),g(!1),T()}catch(a){var t,n;console.error("Error creating supplier:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al crear proveedor")}},disabled:!P(),title:P()?"":"Campos faltantes: ".concat(L().join(", ")),children:"Crear Tercero"})]}),!P()&&(0,Ka.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",color:"#856404"},children:[(0,Ka.jsx)("strong",{children:"\u26a0\ufe0f Campos obligatorios faltantes:"}),(0,Ka.jsxs)("div",{style:{fontSize:"0.85rem",marginTop:"0.5rem",color:"#666"},children:["Tipo de ID actual: ",(0,Ka.jsx)("strong",{children:_.identification_type||"(vac\xedo)"})]}),(0,Ka.jsx)("ul",{style:{marginTop:"0.5rem",marginBottom:0,paddingLeft:"1.5rem"},children:L().map((e,t)=>(0,Ka.jsx)("li",{children:e},t))})]})]})}),v&&y&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:"Editar Tercero"}),(0,Ka.jsxs)("div",{className:"modal-content",children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n del Tercero"}),j.length>0&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Tercero:"}),(0,Ka.jsxs)("select",{value:_.third_party_type,onChange:e=>{const t=e.target.value;if(!t)return void w(u(u({},_),{},{third_party_type:""}));const n=j.find(e=>e._id===t),a=null===n||void 0===n?void 0:n.default_identification_types;let r="CC";a&&Array.isArray(a)&&a.length>0&&(r=a[0]);const l="NIT"===r||"NIT"===r;console.log("=== CAMBIO DE TIPO DE TERCERO ==="),console.log("Tipo seleccionado:",null===n||void 0===n?void 0:n.label),console.log("allowedIdTypes:",a),console.log("newIdType asignado:",r),console.log("Es empresa:",l),w(u(u({},_),{},{third_party_type:t,identification_type:r,legal_name:l?_.legal_name:"",legal_name_short:l?_.legal_name_short:"",legal_representative_name:l?_.legal_representative_name:"",legal_representative_id_type:l?_.legal_representative_id_type:"CC",legal_representative_id_number:l?_.legal_representative_id_number:"",licensee_name:l?_.licensee_name:"",full_name:l?"":_.full_name}))},children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione un tipo (opcional)"}),j.map(e=>(0,Ka.jsxs)("option",{value:e._id,children:[e.icon," ",e.label]},e._id))]}),_.third_party_type&&(0,Ka.jsx)("small",{style:{display:"block",marginTop:"0.5rem",color:"#7f8c8d"},children:null===(t=j.find(e=>e._id===_.third_party_type))||void 0===t?void 0:t.description})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsx)("select",{value:_.identification_type,onChange:e=>w(u(u({},_),{},{identification_type:e.target.value,legal_name:"",legal_name_short:"",full_name:"",legal_representative_name:"",legal_representative_id_type:"CC",legal_representative_id_number:"",licensee_name:""})),required:!0,children:(()=>{const e=j.find(e=>e._id===_.third_party_type),t=null===e||void 0===e?void 0:e.default_identification_types;return t&&t.length>0?t.map(e=>(0,Ka.jsx)("option",{value:e,children:e},e)):(0,Ka.jsxs)(Ka.Fragment,{children:[!_.identification_type&&(0,Ka.jsx)("option",{value:"",children:"Seleccione tipo de identificaci\xf3n"}),(0,Ka.jsx)("option",{value:"NIT",children:"NIT (Empresa)"}),(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]})})()}),_.third_party_type&&(()=>{const e=j.find(e=>e._id===_.third_party_type),t=null===e||void 0===e?void 0:e.default_identification_types;return t&&t.length>0?(0,Ka.jsxs)("small",{style:{display:"block",marginTop:"0.25rem",color:"#2563eb",fontSize:"0.85rem"},children:["Tipos permitidos para este tipo de tercero: ",t.join(", ")]}):null})()]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:_.identification_number,onChange:e=>w(u(u({},_),{},{identification_number:e.target.value})),required:!0})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Ciudad de Expedici\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:_.id_issue_city,onChange:e=>w(u(u({},_),{},{id_issue_city:e.target.value})),placeholder:"Ej: Bogot\xe1, Medell\xedn, etc."})]}),"NIT"===_.identification_type&&(0,Ka.jsx)(Ka.Fragment,{children:"NIT"===_.identification_type?(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Propiedad Horizontal: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_name,onChange:e=>w(u(u({},_),{},{legal_name:e.target.value,legal_name_short:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Licenciatario:"}),(0,Ka.jsx)("input",{type:"text",value:_.licensee_name,onChange:e=>w(u(u({},_),{},{licensee_name:e.target.value}))})]})]}):(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n Social / Nombre: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_name,onChange:e=>w(u(u({},_),{},{legal_name:e.target.value,legal_name_short:e.target.value})),required:!0,placeholder:"Ej: Constructora ABC S.A.S."})]})}),"NIT"!==_.identification_type&&(0,Ka.jsx)("div",{className:"form-row",children:(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre Completo: *"}),(0,Ka.jsx)("input",{type:"text",value:_.full_name,onChange:e=>w(u(u({},_),{},{full_name:e.target.value})),required:!0,placeholder:"Ej: Juan P\xe9rez Garc\xeda"})]})})]}),"NIT"===_.identification_type&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Representante Legal"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Representante Legal: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_representative_name,onChange:e=>w(u(u({},_),{},{legal_representative_name:e.target.value})),required:!0})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Identificaci\xf3n: *"}),(0,Ka.jsxs)("select",{value:_.legal_representative_id_type,onChange:e=>w(u(u({},_),{},{legal_representative_id_type:e.target.value})),required:!0,children:[(0,Ka.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,Ka.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,Ka.jsx)("option",{value:"Pasaporte",children:"Pasaporte"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"N\xfamero de Identificaci\xf3n: *"}),(0,Ka.jsx)("input",{type:"text",value:_.legal_representative_id_number,onChange:e=>w(u(u({},_),{},{legal_representative_id_number:e.target.value})),required:!0})]})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n de Contacto (Opcional)"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Email:"}),(0,Ka.jsx)("input",{type:"email",value:_.email,onChange:e=>w(u(u({},_),{},{email:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tel\xe9fono:"}),(0,Ka.jsx)("input",{type:"text",value:_.phone,onChange:e=>w(u(u({},_),{},{phone:e.target.value}))})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Direcci\xf3n:"}),(0,Ka.jsx)("input",{type:"text",value:_.address,onChange:e=>w(u(u({},_),{},{address:e.target.value}))})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Pa\xeds:"}),(0,Ka.jsx)("select",{value:_.country,onChange:e=>E(e.target.value),children:Object.keys(jr).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Ciudad:"}),(0,Ka.jsxs)("select",{value:_.city,onChange:e=>w(u(u({},_),{},{city:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccione una ciudad"}),(jr[_.country||"Colombia"]||[]).map(e=>(0,Ka.jsx)("option",{value:e,children:e},e))]})]})]})]}),y._id&&(0,Ka.jsxs)("div",{className:"form-section",style:{marginTop:"2rem",borderTop:"2px solid #e0e0e0",paddingTop:"2rem"},children:[(0,Ka.jsx)("h4",{children:"Sugerencias de Campos"}),(0,Ka.jsx)(yr,{supplierId:y._id,onFieldsAdded:async()=>{await k()}})]}),y._id&&y.custom_fields&&Object.keys(y.custom_fields).length>0&&(0,Ka.jsx)("div",{className:"form-section",style:{marginTop:"1rem"},children:(0,Ka.jsx)(br,{supplierId:y._id,customFields:y.custom_fields,thirdPartyTypeId:null===(n=y.third_party_type)||void 0===n?void 0:n._id,onMergeComplete:async()=>{await k()}})})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>{x(!1),b(null),T()},children:"Cancelar"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:async()=>{if(!y)return;console.log("\ud83d\ude80 Iniciando actualizaci\xf3n de tercero"),console.log("\ud83d\udccb formData.custom_fields antes de enviar:",_.custom_fields);const e="NIT"===_.identification_type;if(e){if(!_.legal_name.trim())return void alert("La raz\xf3n social es requerida");if(!_.legal_representative_name.trim())return void alert("El nombre del representante legal es requerido")}else if(!_.full_name.trim())return void alert("El nombre completo es requerido");try{const t=u(u({},_),{},e?{full_name:void 0}:{legal_name:_.full_name,legal_name_short:_.full_name,legal_representative_name:void 0,legal_representative_id_type:void 0,legal_representative_id_number:void 0});console.log("\ud83d\udce4 dataToSend.custom_fields:",t.custom_fields),console.log("\ud83d\udd0d Todas las claves de custom_fields:",Object.keys(t.custom_fields||{}));const n=await Qa.put("/suppliers/".concat(y._id),t);console.log("\u2705 Tercero actualizado exitosamente"),console.log("\ud83d\udce4 Respuesta del servidor:",n.data),await S(),x(!1),b(null),T()}catch(a){var t,n;console.error("\u274c Error updating supplier:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al actualizar proveedor")}},disabled:!P(),title:P()?"":"Campos faltantes: ".concat(L().join(", ")),children:"Actualizar Tercero"})]}),!P()&&(0,Ka.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",color:"#856404"},children:[(0,Ka.jsx)("strong",{children:"\u26a0\ufe0f Campos obligatorios faltantes:"}),(0,Ka.jsxs)("div",{style:{fontSize:"0.85rem",marginTop:"0.5rem",color:"#666"},children:["Tipo de ID actual: ",(0,Ka.jsx)("strong",{children:_.identification_type||"(vac\xedo)"})]}),(0,Ka.jsx)("ul",{style:{marginTop:"0.5rem",marginBottom:0,paddingLeft:"1.5rem"},children:L().map((e,t)=>(0,Ka.jsx)("li",{children:e},t))})]})]})})]})},_r=()=>{const{user:e}=Ya(),[t,n]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[d,p]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[f,g]=(0,r.useState)({code:"",label:"",description:"",icon:"\ud83d\udcc4",fields:[],default_identification_types:[],isGeneric:!1,companies:[]}),[v,x]=(0,r.useState)({name:"",label:"",field_type:"text",options:[],required:!1,display_order:0,placeholder:""}),[y,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[_,w]=(0,r.useState)("");(0,r.useEffect)(()=>{C(),S(),"super_admin"!==(null===e||void 0===e?void 0:e.role)&&"admin"!==(null===e||void 0===e?void 0:e.role)||k()},[e]);const C=async()=>{try{const e=await Qa.get("/third-party-types");n(e.data)}catch(e){console.error("Error fetching third party types:",e)}finally{l(!1)}},S=async()=>{try{const e=await Qa.get("/third-party-types/config/field-options");p(e.data.field_types)}catch(e){console.error("Error fetching field options:",e)}},k=async()=>{try{const e=await Qa.get("/third-party-types/config/companies");h(e.data)}catch(e){console.error("Error fetching companies:",e)}},E=()=>{if(_.trim()){const e=_.trim().toUpperCase(),t=f.default_identification_types||[];t.includes(e)||g(u(u({},f),{},{default_identification_types:[...t,e]})),w("")}},T=(e,t)=>{const n=[...f.fields],a="up"===t?e-1:e+1;a<0||a>=n.length||([n[e],n[a]]=[n[a],n[e]],n.forEach((e,t)=>e.display_order=t),g(u(u({},f),{},{fields:n})))},P=()=>{b(null),N(null)},L=()=>{if(null===y||!j)return;if(!j.name||!j.label)return void alert("El nombre y etiqueta del campo son requeridos");const e=[...f.fields];e[y]=j,g(u(u({},f),{},{fields:e})),b(null),N(null)};return a?(0,Ka.jsx)("div",{className:"loading",children:"Cargando tipos de terceros..."}):(0,Ka.jsxs)("div",{className:"third-party-type-management",children:[(0,Ka.jsxs)("div",{className:"header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Tipos de Terceros"}),(0,Ka.jsx)("p",{children:"Configura qu\xe9 informaci\xf3n se solicita para cada tipo de tercero"}),(0,Ka.jsx)("button",{onClick:()=>{c(null),g({code:"",label:"",description:"",icon:"\ud83d\udcc4",fields:[],default_identification_types:[],isGeneric:!1,companies:[]}),i(!0)},className:"btn-create",children:"\u2795 Crear Nuevo Tipo"})]}),(0,Ka.jsx)("div",{className:"types-grid",children:t.map(e=>(0,Ka.jsxs)("div",{className:"type-card",children:[(0,Ka.jsxs)("div",{className:"type-header",children:[(0,Ka.jsxs)("div",{className:"type-title",children:[(0,Ka.jsx)("span",{className:"type-icon",children:e.icon}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h3",{children:e.label}),(0,Ka.jsx)("span",{className:"type-code",children:e.code})]})]}),(0,Ka.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.is_system&&(0,Ka.jsx)("span",{className:"system-badge",children:"Sistema"}),e.isGeneric&&(0,Ka.jsx)("span",{className:"system-badge",style:{backgroundColor:"#10b981"},children:"Gen\xe9rico"})]})]}),(0,Ka.jsx)("p",{className:"type-description",children:e.description}),(0,Ka.jsxs)("div",{className:"type-stats",children:[(0,Ka.jsxs)("span",{children:[e.fields.length," campos configurados"]}),!e.isGeneric&&e.companies&&e.companies.length>0&&(0,Ka.jsxs)("span",{style:{color:"#3b82f6",fontSize:"0.85rem"},children:[e.companies.length," empresa",e.companies.length>1?"s":""]})]}),!e.isGeneric&&e.companies&&e.companies.length>0&&(0,Ka.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,Ka.jsx)("strong",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Empresas:"}),(0,Ka.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginTop:"0.25rem"},children:e.companies.map(e=>(0,Ka.jsx)("span",{style:{fontSize:"0.75rem",padding:"0.15rem 0.5rem",backgroundColor:"#e0f2fe",color:"#0369a1",borderRadius:"4px",border:"1px solid #bae6fd"},children:e.name},e._id))})]}),e.default_identification_types&&e.default_identification_types.length>0&&(0,Ka.jsxs)("div",{className:"type-id-types-preview",children:[(0,Ka.jsx)("strong",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Tipos de ID:"}),(0,Ka.jsx)("div",{className:"id-types-badges",children:e.default_identification_types.map((e,t)=>(0,Ka.jsx)("span",{className:"id-type-badge-small",children:e},t))})]}),(0,Ka.jsxs)("div",{className:"type-actions",children:[(0,Ka.jsx)("button",{onClick:()=>(e=>{c(e),g({code:e.code,label:e.label,description:e.description,icon:e.icon,fields:e.fields,default_identification_types:e.default_identification_types||[],isGeneric:e.isGeneric||!1,companies:e.companies?e.companies.map(e=>e._id):[]}),i(!0)})(e),className:"btn-edit",children:"\u270f\ufe0f Editar"}),!e.is_system&&(0,Ka.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de eliminar este tipo de tercero?"))try{await Qa.delete("/third-party-types/".concat(e)),alert("Tipo de tercero eliminado exitosamente"),await C()}catch(a){var t,n;console.error("Error deleting third party type:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al eliminar tipo de tercero")}})(e._id),className:"btn-delete",children:"\ud83d\uddd1\ufe0f Eliminar"})]})]},e._id))}),s&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>i(!1),children:(0,Ka.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h2",{children:o?"Editar Tipo de Tercero":"Crear Nuevo Tipo de Tercero"}),(0,Ka.jsx)("button",{onClick:()=>i(!1),className:"btn-close",children:"\u2716"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"C\xf3digo *"}),(0,Ka.jsx)("input",{type:"text",value:f.code,onChange:e=>g(u(u({},f),{},{code:e.target.value.toLowerCase()})),placeholder:"ej: proveedor",disabled:!!o})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"\xcdcono"}),(0,Ka.jsx)("input",{type:"text",value:f.icon,onChange:e=>g(u(u({},f),{},{icon:e.target.value})),placeholder:"\ud83d\udce6"})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre *"}),(0,Ka.jsx)("input",{type:"text",value:f.label,onChange:e=>g(u(u({},f),{},{label:e.target.value})),placeholder:"Proveedor"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n"}),(0,Ka.jsx)("textarea",{value:f.description,onChange:e=>g(u(u({},f),{},{description:e.target.value})),placeholder:"Descripci\xf3n del tipo de tercero",rows:2})]})]}),("super_admin"===(null===e||void 0===e?void 0:e.role)||"admin"===(null===e||void 0===e?void 0:e.role))&&(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Alcance del Tipo de Tercero"}),(0,Ka.jsx)("p",{className:"form-hint",children:"Define si este tipo aplica para todas las empresas o solo para empresas espec\xedficas"}),(0,Ka.jsx)("div",{className:"form-group",children:(0,Ka.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.isGeneric,onChange:e=>{return t=e.target.checked,void g(u(u({},f),{},{isGeneric:t,companies:t?[]:f.companies}));var t}}),(0,Ka.jsx)("span",{style:{fontWeight:500},children:"Gen\xe9rico (aplica para todas las empresas)"})]})}),!f.isGeneric&&(0,Ka.jsxs)("div",{className:"companies-selector",children:[(0,Ka.jsxs)("label",{style:{marginBottom:"0.5rem",fontWeight:500,display:"block"},children:["Seleccionar empresas (",f.companies.length," seleccionadas):"]}),0===m.length?(0,Ka.jsx)("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"No hay empresas disponibles"}):(0,Ka.jsx)("div",{className:"companies-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem",maxHeight:"200px",overflowY:"auto",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:m.map(e=>(0,Ka.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",backgroundColor:f.companies.includes(e._id)?"#e0f2fe":"white",transition:"all 0.2s"},children:[(0,Ka.jsx)("input",{type:"checkbox",checked:f.companies.includes(e._id),onChange:()=>(e=>{const t=f.companies||[];t.includes(e)?g(u(u({},f),{},{companies:t.filter(t=>t!==e)})):g(u(u({},f),{},{companies:[...t,e]}))})(e._id)}),(0,Ka.jsx)("span",{style:{fontSize:"0.9rem"},children:e.name})]},e._id))})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Tipos de Identificaci\xf3n Permitidos"}),(0,Ka.jsx)("p",{className:"form-hint",children:"Selecciona los tipos de identificaci\xf3n que se usar\xe1n con este tipo de tercero"}),(0,Ka.jsxs)("div",{className:"id-types-common",children:[(0,Ka.jsx)("label",{style:{marginBottom:"0.5rem",fontWeight:500,display:"block"},children:"Tipos comunes:"}),(0,Ka.jsx)("div",{className:"id-types-grid",children:["NIT","CC","CE","TI","Pasaporte","PEP","RUT","DNI","RUC","CURP"].map(e=>(0,Ka.jsx)("button",{type:"button",className:"id-type-btn ".concat((f.default_identification_types||[]).includes(e)?"selected":""),onClick:()=>(e=>{const t=f.default_identification_types||[];t.includes(e)?g(u(u({},f),{},{default_identification_types:t.filter(t=>t!==e)})):g(u(u({},f),{},{default_identification_types:[...t,e]}))})(e),children:e},e))})]}),(0,Ka.jsxs)("div",{className:"custom-id-input-container",children:[(0,Ka.jsx)("label",{style:{marginBottom:"0.5rem",fontWeight:500,display:"block"},children:"Agregar tipo personalizado:"}),(0,Ka.jsxs)("div",{className:"custom-id-input-wrapper",children:[(0,Ka.jsx)("input",{type:"text",value:_,onChange:e=>w(e.target.value),placeholder:"Ej: RFC, CUIL, etc.",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),E())},style:{flex:1}}),(0,Ka.jsx)("button",{type:"button",onClick:E,className:"btn-add-custom-id",children:"+ Agregar"})]})]}),f.default_identification_types&&f.default_identification_types.length>0&&(0,Ka.jsxs)("div",{className:"selected-id-types-container",children:[(0,Ka.jsxs)("label",{style:{marginBottom:"0.5rem",fontWeight:500,display:"block"},children:["Tipos seleccionados (",f.default_identification_types.length,"):"]}),(0,Ka.jsx)("div",{className:"selected-id-types-list",children:f.default_identification_types.map(e=>(0,Ka.jsxs)("span",{className:"selected-id-badge",children:[e,(0,Ka.jsx)("button",{type:"button",onClick:()=>(e=>{g(u(u({},f),{},{default_identification_types:(f.default_identification_types||[]).filter(t=>t!==e)}))})(e),className:"remove-id-btn",children:"\xd7"})]},e))})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsxs)("h3",{children:["Campos Personalizados (",f.fields.length,")"]}),(0,Ka.jsxs)("div",{className:"add-field-section",children:[(0,Ka.jsx)("h4",{children:"Agregar Campo"}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del campo *"}),(0,Ka.jsx)("input",{type:"text",value:v.name,onChange:e=>x(u(u({},v),{},{name:e.target.value.toLowerCase().replace(/\s/g,"_")})),placeholder:"nombre_campo"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Etiqueta *"}),(0,Ka.jsx)("input",{type:"text",value:v.label,onChange:e=>x(u(u({},v),{},{label:e.target.value})),placeholder:"Etiqueta visible"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de campo *"}),(0,Ka.jsx)("select",{value:v.field_type,onChange:e=>x(u(u({},v),{},{field_type:e.target.value})),children:d.map(e=>(0,Ka.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Placeholder"}),(0,Ka.jsx)("input",{type:"text",value:v.placeholder,onChange:e=>x(u(u({},v),{},{placeholder:e.target.value}))})]})]}),(0,Ka.jsx)("div",{className:"form-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:v.required,onChange:e=>x(u(u({},v),{},{required:e.target.checked}))}),"Campo obligatorio"]})}),(0,Ka.jsx)("button",{onClick:()=>{v.name&&v.label?(g(u(u({},f),{},{fields:[...f.fields,u(u({},v),{},{display_order:f.fields.length})]})),x({name:"",label:"",field_type:"text",options:[],required:!1,display_order:0,placeholder:""})):alert("El nombre y etiqueta del campo son requeridos")},className:"btn-add-field",children:"\u2795 Agregar Campo"})]}),(0,Ka.jsx)("div",{className:"fields-list",children:f.fields.map((e,t)=>(0,Ka.jsx)("div",{className:"field-item",children:y===t?(0,Ka.jsxs)("div",{className:"field-edit-form",children:[(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre del Campo (interno)"}),(0,Ka.jsx)("input",{type:"text",value:(null===j||void 0===j?void 0:j.name)||"",onChange:e=>N(u(u({},j),{},{name:e.target.value})),placeholder:"ej: nombre_completo"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Etiqueta (visible)"}),(0,Ka.jsx)("input",{type:"text",value:(null===j||void 0===j?void 0:j.label)||"",onChange:e=>N(u(u({},j),{},{label:e.target.value})),placeholder:"ej: Nombre Completo"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de Campo"}),(0,Ka.jsx)("select",{value:(null===j||void 0===j?void 0:j.field_type)||"text",onChange:e=>N(u(u({},j),{},{field_type:e.target.value})),children:d.map(e=>(0,Ka.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Placeholder"}),(0,Ka.jsx)("input",{type:"text",value:(null===j||void 0===j?void 0:j.placeholder)||"",onChange:e=>N(u(u({},j),{},{placeholder:e.target.value})),placeholder:"Texto de ayuda"})]})]}),(0,Ka.jsx)("div",{className:"form-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:(null===j||void 0===j?void 0:j.required)||!1,onChange:e=>N(u(u({},j),{},{required:e.target.checked}))}),"Campo obligatorio"]})}),(0,Ka.jsxs)("div",{className:"field-edit-actions",children:[(0,Ka.jsx)("button",{onClick:L,className:"btn-save-field",children:"\u2705 Guardar"}),(0,Ka.jsx)("button",{onClick:P,className:"btn-cancel-field",children:"\u274c Cancelar"})]})]}):(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsxs)("div",{className:"field-info",children:[(0,Ka.jsx)("strong",{children:e.label}),(0,Ka.jsxs)("span",{className:"field-details",children:[e.name," \u2022 ",e.field_type,e.required&&" \u2022 Requerido"]})]}),(0,Ka.jsxs)("div",{className:"field-actions",children:[(0,Ka.jsx)("button",{onClick:()=>(e=>{b(e),N(u({},f.fields[e]))})(t),className:"btn-icon btn-edit",title:"Editar campo",children:(0,Ka.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Ka.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,Ka.jsx)("button",{onClick:()=>T(t,"up"),disabled:0===t,className:"btn-icon",title:"Mover arriba",children:(0,Ka.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ka.jsx)("polyline",{points:"18 15 12 9 6 15"})})}),(0,Ka.jsx)("button",{onClick:()=>T(t,"down"),disabled:t===f.fields.length-1,className:"btn-icon",title:"Mover abajo",children:(0,Ka.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ka.jsx)("polyline",{points:"6 9 12 15 18 9"})})}),(0,Ka.jsx)("button",{onClick:()=>(e=>{const t=f.fields.filter((t,n)=>n!==e);g(u(u({},f),{},{fields:t}))})(t),className:"btn-icon-delete",title:"Eliminar campo",children:(0,Ka.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ka.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})},t))})]})]}),(0,Ka.jsxs)("div",{className:"modal-footer",children:[(0,Ka.jsx)("button",{onClick:()=>i(!1),className:"btn-cancel",children:"Cancelar"}),(0,Ka.jsx)("button",{onClick:async()=>{try{if(!f.isGeneric&&0===f.companies.length&&("super_admin"===(null===e||void 0===e?void 0:e.role)||"admin"===(null===e||void 0===e?void 0:e.role)))return void alert("Debes seleccionar al menos una empresa o marcar el tipo como gen\xe9rico");o?(await Qa.put("/third-party-types/".concat(o._id),f),alert("Tipo de tercero actualizado exitosamente")):(await Qa.post("/third-party-types",f),alert("Tipo de tercero creado exitosamente")),await C(),i(!1)}catch(a){var t,n;console.error("Error saving third party type:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al guardar tipo de tercero")}},className:"btn-save",children:o?"Actualizar":"Crear"})]})]})})]})},wr=()=>{const e=me(),t=ge(),n=()=>{const t=new URLSearchParams(e.search).get("tab");return"tipos"===t||"terceros"===t?t:"terceros"},[a,l]=(0,r.useState)(n()),s=e=>{l(e),t("?tab=".concat(e),{replace:!0})};return(0,r.useEffect)(()=>{const e=n();e!==a&&l(e)},[e.search]),(0,Ka.jsxs)("div",{className:"third-party-management-container",children:[(0,Ka.jsxs)("div",{className:"gradient-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Terceros"}),(0,Ka.jsx)("p",{children:"Administra proveedores y configuraci\xf3n de tipos de terceros"})]}),(0,Ka.jsxs)("div",{className:"tabs-header",children:[(0,Ka.jsx)("button",{className:"tab-button ".concat("terceros"===a?"active":""),onClick:()=>s("terceros"),children:"\ud83d\udccb Gesti\xf3n de Terceros"}),(0,Ka.jsx)("button",{className:"tab-button ".concat("tipos"===a?"active":""),onClick:()=>s("tipos"),children:"\u2699\ufe0f Configuraci\xf3n de Tipos"})]}),(0,Ka.jsx)("div",{className:"tab-content",children:"terceros"===a?(0,Ka.jsx)(Nr,{}):(0,Ka.jsx)(_r,{})})]})},Cr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[p,m]=(0,r.useState)({name:"",description:"",icon:"document",color:"#3B82F6",template:"",requires_approval:!0,auto_assign_lawyer:!1}),[h,f]=(0,r.useState)([]);(0,r.useEffect)(()=>{g(),v()},[]);const g=async()=>{try{const e=localStorage.getItem("selectedCompanyId");console.log("\ud83d\udd0d Fetching categories with companyId:",e);const n=await Qa.get("/contract-categories");console.log("\u2705 Categories received:",n.data.length),t(n.data),0===n.data.length&&(console.warn("\u26a0\ufe0f  No se encontraron categor\xedas. Verifica:"),console.warn("   - selectedCompanyId en localStorage:",e),console.warn("   - Que el usuario tenga acceso a la empresa"))}catch(l){var e,n,a,r;console.error("\u274c Error fetching categories:",l),console.error("   Response:",null===(e=l.response)||void 0===e?void 0:e.data),console.error("   Status:",null===(n=l.response)||void 0===n?void 0:n.status),alert((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Error al cargar las categor\xedas")}finally{s(!1)}},v=async()=>{try{const e=await Qa.get("/templates");a(e.data)}catch(e){console.error("Error fetching templates:",e)}},x=(e,t,n)=>{const a=[...h];a[e]=u(u({},a[e]),{},{[t]:n}),f(a)},y=(e,t)=>{if("up"===t&&0===e||"down"===t&&e===h.length-1)return;const n="up"===t?e-1:e+1,a=[...h];[a[e],a[n]]=[a[n],a[e]],a.forEach((e,t)=>{e.order=t+1}),f(a)};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando categor\xedas..."}):(0,Ka.jsxs)("div",{className:"category-management",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Gesti\xf3n de Categor\xedas de Contratos"}),(0,Ka.jsx)("button",{className:"btn-primary",onClick:()=>{d(null),m({name:"",description:"",icon:"document",color:"#3B82F6",template:"",requires_approval:!0,auto_assign_lawyer:!1}),f([]),o(!0)},children:"Nueva Categor\xeda"})]}),(0,Ka.jsx)("div",{className:"categories-grid",children:0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay categor\xedas"}),(0,Ka.jsx)("p",{children:"Crea la primera categor\xeda para comenzar"})]}):e.map(e=>(0,Ka.jsxs)("div",{className:"category-card",style:{borderLeftColor:e.color},children:[(0,Ka.jsxs)("div",{className:"category-header",children:[(0,Ka.jsx)("div",{className:"category-icon",style:{backgroundColor:e.color+"20",color:e.color},children:"\ud83d\udccb"}),(0,Ka.jsx)("h3",{children:e.name})]}),(0,Ka.jsx)("p",{className:"category-description",children:e.description}),(0,Ka.jsxs)("div",{className:"category-meta",children:[(0,Ka.jsxs)("span",{className:"badge",children:[e.questionnaire.length," preguntas"]}),e.requires_approval&&(0,Ka.jsx)("span",{className:"badge badge-warning",children:"Requiere aprobaci\xf3n"}),e.template&&(0,Ka.jsx)("span",{className:"badge badge-info",children:e.template.name})]}),(0,Ka.jsxs)("div",{className:"category-actions",children:[(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{var t;d(e),m({name:e.name,description:e.description,icon:e.icon,color:e.color,template:(null===(t=e.template)||void 0===t?void 0:t._id)||"",requires_approval:e.requires_approval,auto_assign_lawyer:e.auto_assign_lawyer}),f([...e.questionnaire]),o(!0)})(e),children:"Editar"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea desactivar esta categor\xeda?"))try{await Qa.delete("/contract-categories/".concat(e)),await g()}catch(t){console.error("Error deleting category:",t),alert("Error al eliminar la categor\xeda")}})(e._id),children:"Desactivar"})]})]},e._id))}),i&&(0,Ka.jsx)("div",{className:"modal-overlay",children:(0,Ka.jsxs)("div",{className:"modal modal-large",children:[(0,Ka.jsx)("h3",{children:c?"Editar Categor\xeda":"Nueva Categor\xeda"}),(0,Ka.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=u(u({},p),{},{questionnaire:h.sort((e,t)=>e.order-t.order)});c?await Qa.put("/contract-categories/".concat(c._id),e):await Qa.post("/contract-categories",e),await g(),o(!1)}catch(a){var t,n;console.error("Error saving category:",a),alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al guardar la categor\xeda")}},children:[(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Nombre de la Categor\xeda *"}),(0,Ka.jsx)("input",{type:"text",value:p.name,onChange:e=>m(u(u({},p),{},{name:e.target.value})),required:!0,placeholder:"Ej: Contrato Laboral, NDA, Contrato Comercial"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Color"}),(0,Ka.jsx)("input",{type:"color",value:p.color,onChange:e=>m(u(u({},p),{},{color:e.target.value}))})]})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Descripci\xf3n *"}),(0,Ka.jsx)("textarea",{value:p.description,onChange:e=>m(u(u({},p),{},{description:e.target.value})),required:!0,rows:3,placeholder:"Describe el tipo de contratos de esta categor\xeda"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Plantilla Asociada"}),(0,Ka.jsxs)("select",{value:p.template,onChange:e=>m(u(u({},p),{},{template:e.target.value})),children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar plantilla..."}),n.map(e=>(0,Ka.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsx)("div",{className:"form-group checkbox-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:p.requires_approval,onChange:e=>m(u(u({},p),{},{requires_approval:e.target.checked}))}),"Requiere aprobaci\xf3n de abogado"]})}),(0,Ka.jsx)("div",{className:"form-group checkbox-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:p.auto_assign_lawyer,onChange:e=>m(u(u({},p),{},{auto_assign_lawyer:e.target.checked}))}),"Auto-asignar abogado disponible"]})})]}),(0,Ka.jsx)("hr",{}),(0,Ka.jsxs)("div",{className:"questionnaire-section",children:[(0,Ka.jsxs)("div",{className:"section-header",children:[(0,Ka.jsx)("h4",{children:"Cuestionario"}),(0,Ka.jsx)("button",{type:"button",className:"btn-secondary btn-sm",onClick:()=>{const e={question:"",field_name:"",type:"text",required:!0,order:h.length+1};f([...h,e])},children:"+ Agregar Pregunta"})]}),h.map((e,t)=>(0,Ka.jsxs)("div",{className:"question-editor",children:[(0,Ka.jsxs)("div",{className:"question-header",children:[(0,Ka.jsxs)("span",{className:"question-number",children:["Pregunta ",t+1]}),(0,Ka.jsxs)("div",{className:"question-controls",children:[(0,Ka.jsx)("button",{type:"button",onClick:()=>y(t,"up"),disabled:0===t,className:"btn-icon",children:"\u2191"}),(0,Ka.jsx)("button",{type:"button",onClick:()=>y(t,"down"),disabled:t===h.length-1,className:"btn-icon",children:"\u2193"}),(0,Ka.jsx)("button",{type:"button",onClick:()=>(e=>{f(h.filter((t,n)=>n!==e))})(t),className:"btn-icon btn-danger",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group flex-2",children:[(0,Ka.jsx)("label",{children:"Pregunta"}),(0,Ka.jsx)("input",{type:"text",value:e.question,onChange:e=>x(t,"question",e.target.value),placeholder:"\xbfCu\xe1l es...?"})]}),(0,Ka.jsxs)("div",{className:"form-group flex-1",children:[(0,Ka.jsx)("label",{children:"Nombre del campo"}),(0,Ka.jsx)("input",{type:"text",value:e.field_name,onChange:e=>x(t,"field_name",e.target.value),placeholder:"nombre_campo"})]})]}),(0,Ka.jsxs)("div",{className:"form-row",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Tipo de campo"}),(0,Ka.jsxs)("select",{value:e.type,onChange:e=>x(t,"type",e.target.value),children:[(0,Ka.jsx)("option",{value:"text",children:"Texto"}),(0,Ka.jsx)("option",{value:"textarea",children:"Texto largo"}),(0,Ka.jsx)("option",{value:"number",children:"N\xfamero"}),(0,Ka.jsx)("option",{value:"date",children:"Fecha"}),(0,Ka.jsx)("option",{value:"email",children:"Email"}),(0,Ka.jsx)("option",{value:"phone",children:"Tel\xe9fono"}),(0,Ka.jsx)("option",{value:"select",children:"Selecci\xf3n \xfanica"}),(0,Ka.jsx)("option",{value:"multiselect",children:"Selecci\xf3n m\xfaltiple"}),(0,Ka.jsx)("option",{value:"radio",children:"Radio buttons"}),(0,Ka.jsx)("option",{value:"checkbox",children:"Checkbox"})]})]}),(0,Ka.jsx)("div",{className:"form-group checkbox-group",children:(0,Ka.jsxs)("label",{children:[(0,Ka.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>x(t,"required",e.target.checked)}),"Campo obligatorio"]})})]}),["select","multiselect","radio"].includes(e.type)&&(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Opciones (una por l\xednea)"}),(0,Ka.jsx)("textarea",{value:(e.options||[]).join("\n"),onChange:e=>x(t,"options",e.target.value.split("\n").filter(e=>e.trim())),rows:3,placeholder:"Opci\xf3n 1\nOpci\xf3n 2\nOpci\xf3n 3"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Texto de ayuda (opcional)"}),(0,Ka.jsx)("input",{type:"text",value:e.help_text||"",onChange:e=>x(t,"help_text",e.target.value),placeholder:"Informaci\xf3n adicional para el usuario"})]})]},t)),0===h.length&&(0,Ka.jsxs)("div",{className:"empty-questionnaire",children:[(0,Ka.jsx)("p",{children:"No hay preguntas en el cuestionario"}),(0,Ka.jsx)("p",{className:"text-muted",children:'Haz clic en "Agregar Pregunta" para comenzar'})]})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancelar"}),(0,Ka.jsxs)("button",{type:"submit",className:"btn-primary",children:[c?"Actualizar":"Crear"," Categor\xeda"]})]})]})]})})]})},Sr=e=>{let{questions:t,answers:n,onChange:a,errors:r={},disabled:l=!1}=e;const s=e=>{var t,s,i,o,c;const d=n[e.field_name]||"",p=r[e.field_name],m={disabled:l,required:e.required,placeholder:e.placeholder||""};switch(e.type){case"text":case"email":case"phone":return(0,Ka.jsx)("input",u(u({type:e.type,value:d,onChange:t=>a(e.field_name,t.target.value)},m),{},{className:p?"input-error":""}));case"textarea":return(0,Ka.jsx)("textarea",u(u({value:d,onChange:t=>a(e.field_name,t.target.value),rows:4},m),{},{className:p?"input-error":""}));case"number":return(0,Ka.jsx)("input",u(u({type:"number",value:d,onChange:t=>{const n=t.target.value;a(e.field_name,n?parseInt(n,10):"")},min:null===(t=e.validation)||void 0===t?void 0:t.min,max:null===(s=e.validation)||void 0===s?void 0:s.max,step:"1"},m),{},{className:p?"input-error":""}));case"date":return(0,Ka.jsx)("input",u(u({type:"date",value:d,onChange:t=>a(e.field_name,t.target.value)},m),{},{className:p?"input-error":""}));case"select":return(0,Ka.jsxs)("select",{value:d,onChange:t=>a(e.field_name,t.target.value),disabled:l,required:e.required,className:p?"input-error":"",children:[(0,Ka.jsx)("option",{value:"",children:"Seleccionar..."}),null===(i=e.options)||void 0===i?void 0:i.map((e,t)=>(0,Ka.jsx)("option",{value:e,children:e},t))]});case"multiselect":return(0,Ka.jsx)("div",{className:"multiselect",children:null===(o=e.options)||void 0===o?void 0:o.map((t,n)=>(0,Ka.jsxs)("label",{className:"checkbox-label",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:Array.isArray(d)&&d.includes(t),onChange:n=>{const r=Array.isArray(d)?[...d]:[];n.target.checked?a(e.field_name,[...r,t]):a(e.field_name,r.filter(e=>e!==t))},disabled:l}),(0,Ka.jsx)("span",{children:t})]},n))});case"radio":return(0,Ka.jsx)("div",{className:"radio-group",children:null===(c=e.options)||void 0===c?void 0:c.map((t,n)=>(0,Ka.jsxs)("label",{className:"radio-label",children:[(0,Ka.jsx)("input",{type:"radio",name:e.field_name,value:t,checked:d===t,onChange:t=>a(e.field_name,t.target.value),disabled:l,required:e.required}),(0,Ka.jsx)("span",{children:t})]},n))});case"checkbox":return(0,Ka.jsxs)("label",{className:"checkbox-label single",children:[(0,Ka.jsx)("input",{type:"checkbox",checked:!!d,onChange:t=>a(e.field_name,t.target.checked),disabled:l,required:e.required}),(0,Ka.jsx)("span",{children:e.placeholder||"Acepto"})]});default:return(0,Ka.jsx)("input",{type:"text",value:d,disabled:!0})}};return(0,Ka.jsx)("div",{className:"dynamic-questionnaire",children:t.map((e,t)=>(0,Ka.jsxs)("div",{className:"question-group",children:[(0,Ka.jsxs)("label",{className:"question-label",children:[e.question,e.required&&(0,Ka.jsx)("span",{className:"required",children:"*"})]}),e.help_text&&(0,Ka.jsx)("p",{className:"help-text",children:e.help_text}),s(e),r[e.field_name]&&(0,Ka.jsx)("span",{className:"error-message",children:r[e.field_name]})]},e.field_name))})},kr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)("medium"),[h,f]=(0,r.useState)({}),[g,v]=(0,r.useState)({});(0,r.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=await Qa.get("/contract-categories");t(e.data)}catch(e){console.error("Error fetching categories:",e)}finally{s(!1)}},y=()=>{a(null),f({}),v({})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando categor\xedas..."}):(0,Ka.jsxs)("div",{className:"contract-request-form",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsx)("h1",{children:"Solicitar Contrato"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Selecciona el tipo de contrato y completa la informaci\xf3n"})]}),n?(0,Ka.jsxs)("div",{className:"request-form-container",children:[(0,Ka.jsxs)("div",{className:"form-header",children:[(0,Ka.jsx)("button",{className:"btn-back",onClick:y,children:"\u2190 Cambiar categor\xeda"}),(0,Ka.jsx)("div",{className:"selected-category",children:(0,Ka.jsx)("div",{className:"category-badge",style:{backgroundColor:n.color},children:n.name})})]}),(0,Ka.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return c&&""!==c.trim()||(e.title="El t\xedtulo es requerido"),!!n&&(n.questionnaire.forEach(t=>{const n=h[t.field_name];var a,r;t.required&&(!n||""===n||Array.isArray(n)&&0===n.length)&&(e[t.field_name]="".concat(t.question," es obligatorio")),n&&"email"===t.type&&!n.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)&&(e[t.field_name]="Email inv\xe1lido"),n&&"number"===t.type&&(void 0!==(null===(a=t.validation)||void 0===a?void 0:a.min)&&Number(n)<t.validation.min&&(e[t.field_name]="Debe ser mayor o igual a ".concat(t.validation.min)),void 0!==(null===(r=t.validation)||void 0===r?void 0:r.max)&&Number(n)>t.validation.max&&(e[t.field_name]="Debe ser menor o igual a ".concat(t.validation.max)))}),v(e),0===Object.keys(e).length)})()){o(!0);try{await Qa.post("/contract-requests-v2",{category_id:n._id,title:c.trim(),questionnaire_answers:h,field_data:h,priority:p});alert("\xa1Solicitud enviada exitosamente! Un abogado la revisar\xe1 pronto."),a(null),d(""),f({}),m("medium"),v({})}catch(l){var t,r;console.error("Error submitting request:",l),alert((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error al enviar la solicitud")}finally{o(!1)}}},children:[(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsxs)("label",{children:["T\xedtulo de la Solicitud ",(0,Ka.jsx)("span",{className:"required",children:"*"})]}),(0,Ka.jsx)("input",{type:"text",value:c,onChange:e=>{if(d(e.target.value),g.title){const e=u({},g);delete e.title,v(e)}},placeholder:"Ej: ".concat(n.name," - Nombre del Cliente"),className:g.title?"input-error":""}),g.title&&(0,Ka.jsx)("span",{className:"error-message",children:g.title}),(0,Ka.jsx)("p",{className:"help-text",children:"Un t\xedtulo descriptivo para identificar esta solicitud"})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Prioridad"}),(0,Ka.jsxs)("select",{value:p,onChange:e=>m(e.target.value),children:[(0,Ka.jsx)("option",{value:"low",children:"Baja"}),(0,Ka.jsx)("option",{value:"medium",children:"Media"}),(0,Ka.jsx)("option",{value:"high",children:"Alta"}),(0,Ka.jsx)("option",{value:"urgent",children:"Urgente"})]}),(0,Ka.jsx)("p",{className:"help-text",children:"Indica la urgencia de esta solicitud"})]})]}),(0,Ka.jsxs)("div",{className:"form-section",children:[(0,Ka.jsx)("h3",{children:"Informaci\xf3n Espec\xedfica del Contrato"}),(0,Ka.jsxs)("p",{className:"section-description",children:["Completa la siguiente informaci\xf3n para tu ",n.name]}),(0,Ka.jsx)(Sr,{questions:n.questionnaire,answers:h,onChange:(e,t)=>{if(f(u(u({},h),{},{[e]:t})),g[e]){const t=u({},g);delete t[e],v(t)}},errors:g})]}),(0,Ka.jsxs)("div",{className:"form-actions",children:[(0,Ka.jsx)("button",{type:"button",className:"btn-secondary",onClick:y,children:"Cancelar"}),(0,Ka.jsx)("button",{type:"submit",className:"btn-primary",disabled:i,children:i?"Enviando...":"Enviar Solicitud"})]})]})]}):(0,Ka.jsxs)("div",{className:"categories-selection",children:[(0,Ka.jsx)("h2",{children:"Selecciona el tipo de contrato"}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay categor\xedas disponibles"}),(0,Ka.jsx)("p",{children:"Contacta a un administrador para crear categor\xedas de contratos"})]}):(0,Ka.jsx)("div",{className:"categories-grid",children:e.map(e=>(0,Ka.jsxs)("div",{className:"category-option",style:{borderColor:e.color},onClick:()=>(e=>{a(e),f({}),v({}),d("".concat(e.name," - "))})(e),children:[(0,Ka.jsx)("div",{className:"category-icon",style:{backgroundColor:e.color+"20",color:e.color},children:"\ud83d\udccb"}),(0,Ka.jsx)("h3",{children:e.name}),(0,Ka.jsx)("p",{children:e.description}),(0,Ka.jsxs)("div",{className:"category-info",children:[(0,Ka.jsxs)("span",{className:"badge",children:[e.questionnaire.length," preguntas"]}),e.template&&(0,Ka.jsxs)("span",{className:"badge badge-info",children:["Plantilla: ",e.template.name]})]})]},e._id))})]})]})},Er=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)("pending"),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)("");(0,r.useEffect)(()=>{u()},[n]);const u=async()=>{try{const e="pending"===n?"/supplier-approvals/pending":"/supplier-approvals/all",a=await Qa.get(e);t(a.data)}catch(e){console.error("Error fetching suppliers:",e)}finally{s(!1)}},p=e=>{const t={pending:{bg:"#fef3c7",color:"#92400e",text:"Pendiente"},approved:{bg:"#d1fae5",color:"#065f46",text:"Aprobado"},rejected:{bg:"#fee2e2",color:"#991b1b",text:"Rechazado"}}[e];return(0,Ka.jsx)("span",{className:"status-badge",style:{background:t.bg,color:t.color},children:t.text})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando terceros..."}):(0,Ka.jsxs)("div",{className:"supplier-approvals",children:[(0,Ka.jsxs)("div",{className:"page-header",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h1",{children:"Aprobaci\xf3n de Terceros"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Revisa y aprueba terceros creados por usuarios"})]}),(0,Ka.jsxs)("div",{className:"filter-buttons",children:[(0,Ka.jsx)("button",{onClick:()=>a("pending"),className:"pending"===n?"btn-primary":"btn-secondary",children:"Pendientes"}),(0,Ka.jsx)("button",{onClick:()=>a("all"),className:"all"===n?"btn-primary":"btn-secondary",children:"Todos"})]})]}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsxs)("h3",{children:["No hay terceros ","pending"===n?"pendientes":""]}),(0,Ka.jsx)("p",{children:"pending"===n?"Todos los terceros han sido revisados":"No hay terceros registrados"})]}):(0,Ka.jsx)("div",{className:"approvals-table-wrapper",children:(0,Ka.jsxs)("table",{className:"approvals-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{className:"th-supplier-name",children:"Tercero"}),(0,Ka.jsx)("th",{className:"th-identification",children:"Identificaci\xf3n"}),(0,Ka.jsx)("th",{className:"th-representative",children:"Representante Legal"}),(0,Ka.jsx)("th",{className:"th-contact",children:"Contacto"}),(0,Ka.jsx)("th",{className:"th-creator",children:"Creado Por"}),(0,Ka.jsx)("th",{className:"th-status",children:"Estado"}),(0,Ka.jsx)("th",{className:"th-actions",children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:e.map(e=>(0,Ka.jsxs)("tr",{className:"approval-row status-".concat(e.approval_status),children:[(0,Ka.jsx)("td",{className:"supplier-name-col",children:(0,Ka.jsxs)("div",{className:"supplier-name-info",children:[(0,Ka.jsx)("strong",{title:e.legal_name,children:e.legal_name}),e.rejection_reason&&(0,Ka.jsxs)("small",{className:"inline-rejection",title:e.rejection_reason,children:["Rechazado: ",e.rejection_reason]})]})}),(0,Ka.jsx)("td",{className:"identification-col",children:(0,Ka.jsxs)("div",{className:"id-badge",title:"".concat(e.identification_type,": ").concat(e.identification_number),children:[(0,Ka.jsx)("span",{className:"id-type",children:e.identification_type}),(0,Ka.jsx)("span",{className:"id-number",children:e.identification_number})]})}),(0,Ka.jsx)("td",{className:"representative-col",children:(0,Ka.jsx)("span",{className:"representative-name",title:e.legal_representative_name,children:e.legal_representative_name})}),(0,Ka.jsx)("td",{className:"contact-col",children:(0,Ka.jsxs)("div",{className:"contact-info",children:[e.email&&(0,Ka.jsxs)("span",{className:"contact-item",title:"Email: ".concat(e.email),children:[(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,Ka.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),e.email]}),e.phone&&(0,Ka.jsxs)("span",{className:"contact-item",title:"Tel\xe9fono: ".concat(e.phone),children:[(0,Ka.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ka.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),e.phone]}),!e.email&&!e.phone&&(0,Ka.jsx)("span",{className:"no-contact",children:"N/A"})]})}),(0,Ka.jsx)("td",{className:"creator-col",children:(0,Ka.jsxs)("div",{className:"creator-info",children:[(0,Ka.jsx)("span",{className:"creator-name",title:e.created_by.email,children:e.created_by.name}),(0,Ka.jsx)("small",{className:"created-date",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})}),(0,Ka.jsx)("td",{className:"status-col",children:p(e.approval_status)}),(0,Ka.jsx)("td",{className:"actions-col",children:(0,Ka.jsxs)("div",{className:"action-buttons",children:["pending"===e.approval_status&&!i&&(0,Ka.jsxs)(Ka.Fragment,{children:[(0,Ka.jsx)("button",{className:"btn-action btn-approve-action",onClick:()=>(async e=>{if(window.confirm("\xbfAprobar este tercero?"))try{await Qa.post("/supplier-approvals/".concat(e,"/approve")),alert("Tercero aprobado exitosamente"),u()}catch(a){var t,n;alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al aprobar")}})(e._id),title:"Aprobar a ".concat(e.legal_name),children:(0,Ka.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ka.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,Ka.jsx)("button",{className:"btn-action btn-reject-action",onClick:()=>o(e._id),title:"Rechazar a ".concat(e.legal_name),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ka.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),i===e._id&&(0,Ka.jsxs)("div",{className:"inline-rejection-form",children:[(0,Ka.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:2,placeholder:"Raz\xf3n del rechazo...",className:"inline-textarea"}),(0,Ka.jsxs)("div",{className:"inline-buttons",children:[(0,Ka.jsx)("button",{className:"btn-action btn-danger-sm",onClick:()=>(async e=>{if(c.trim())try{await Qa.post("/supplier-approvals/".concat(e,"/reject"),{rejection_reason:c}),alert("Tercero rechazado"),o(null),d(""),u()}catch(a){var t,n;alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al rechazar")}else alert("Debes proporcionar una raz\xf3n del rechazo")})(e._id),title:"Confirmar rechazo",children:(0,Ka.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ka.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,Ka.jsx)("button",{className:"btn-action btn-cancel-sm",onClick:()=>{o(null),d("")},title:"Cancelar",children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ka.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})]})})]},e._id))})]})})]})},Tr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)("");(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=await Qa.get("/contract-requests-v2");t(e.data)}catch(e){console.error("Error fetching requests:",e)}finally{s(!1)}},p=e=>{const t={pending:{bg:"#fef3c7",color:"#92400e",text:"Pendiente"},in_review:{bg:"#dbeafe",color:"#1e40af",text:"En Revisi\xf3n"},approved:{bg:"#d1fae5",color:"#065f46",text:"Aprobado"},rejected:{bg:"#fee2e2",color:"#991b1b",text:"Rechazado"},completed:{bg:"#d1fae5",color:"#065f46",text:"Completado"}}[e];return(0,Ka.jsx)("span",{className:"status-badge",style:{background:t.bg,color:t.color},children:t.text})},m=e=>{const t={low:{bg:"#e5e7eb",color:"#374151",text:"Baja"},medium:{bg:"#fef3c7",color:"#92400e",text:"Media"},high:{bg:"#fed7aa",color:"#9a3412",text:"Alta"},urgent:{bg:"#fecaca",color:"#991b1b",text:"Urgente"}}[e];return(0,Ka.jsx)("span",{className:"priority-badge",style:{background:t.bg,color:t.color},children:t.text})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando solicitudes..."}):(0,Ka.jsxs)("div",{className:"contract-request-approvals",children:[(0,Ka.jsx)("div",{className:"page-header",children:(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h1",{children:"Aprobaci\xf3n de Solicitudes"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Revisa y aprueba solicitudes de contratos"})]})}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay solicitudes"}),(0,Ka.jsx)("p",{children:"Las solicitudes aparecer\xe1n aqu\xed cuando sean creadas"})]}):(0,Ka.jsx)("div",{className:"requests-table-wrapper",children:(0,Ka.jsxs)("table",{className:"requests-table",children:[(0,Ka.jsx)("thead",{children:(0,Ka.jsxs)("tr",{children:[(0,Ka.jsx)("th",{className:"th-request-title",children:"Solicitud"}),(0,Ka.jsx)("th",{className:"th-category",children:"Categor\xeda"}),(0,Ka.jsx)("th",{className:"th-priority",children:"Prioridad"}),(0,Ka.jsx)("th",{className:"th-requester",children:"Solicitante"}),(0,Ka.jsx)("th",{className:"th-date",children:"Fecha"}),(0,Ka.jsx)("th",{className:"th-assigned",children:"Asignado"}),(0,Ka.jsx)("th",{className:"th-status",children:"Estado"}),(0,Ka.jsx)("th",{className:"th-actions",children:"Acciones"})]})}),(0,Ka.jsx)("tbody",{children:e.map(e=>(0,Ka.jsxs)("tr",{className:"request-row status-".concat(e.status),children:[(0,Ka.jsx)("td",{className:"title-col",children:(0,Ka.jsx)("div",{className:"request-title-info",children:(0,Ka.jsx)("strong",{title:e.title,children:e.title})})}),(0,Ka.jsx)("td",{className:"category-col",children:(0,Ka.jsx)("span",{className:"category-badge-compact",style:{background:e.category.color+"20",color:e.category.color,border:"1px solid ".concat(e.category.color,"40")},title:e.category.name,children:e.category.name})}),(0,Ka.jsx)("td",{className:"priority-col",children:m(e.priority)}),(0,Ka.jsx)("td",{className:"requester-col",children:(0,Ka.jsx)("div",{className:"requester-info",children:(0,Ka.jsx)("span",{className:"requester-name",title:e.requester.email,children:e.requester.name})})}),(0,Ka.jsx)("td",{className:"date-col",children:(0,Ka.jsx)("span",{className:"date-value",children:new Date(e.createdAt).toLocaleDateString("es-ES")})}),(0,Ka.jsx)("td",{className:"assigned-col",children:e.assigned_lawyer?(0,Ka.jsx)("span",{className:"assigned-name",title:e.assigned_lawyer.name,children:e.assigned_lawyer.name}):(0,Ka.jsx)("span",{className:"not-assigned",children:"No asignado"})}),(0,Ka.jsx)("td",{className:"status-col",children:p(e.status)}),(0,Ka.jsx)("td",{className:"actions-col",children:(0,Ka.jsxs)("div",{className:"action-buttons",children:["pending"===e.status&&(0,Ka.jsx)("button",{className:"btn-action btn-assign",onClick:()=>(async e=>{try{await Qa.post("/contract-requests-v2/".concat(e,"/assign"),{}),alert("Solicitud asignada a ti"),u()}catch(a){var t,n;alert((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al asignar")}})(e._id),title:"Asignarme la solicitud: ".concat(e.title),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,Ka.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),(0,Ka.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),(0,Ka.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),(0,Ka.jsx)("button",{className:"btn-action btn-view",onClick:()=>a(e),title:"Ver detalles de: ".concat(e.title),children:(0,Ka.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ka.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,Ka.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},e._id))})]})}),n&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>a(null),children:(0,Ka.jsxs)("div",{className:"modal modal-large",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsx)("h3",{children:n.title}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>a(null),children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"request-detail-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"detail-grid",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Categor\xeda:"}),(0,Ka.jsx)("span",{children:n.category.name})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Prioridad:"}),m(n.priority)]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Estado:"}),p(n.status)]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Solicitante:"}),(0,Ka.jsx)("span",{children:n.requester.name})]})]})]}),(0,Ka.jsxs)("div",{className:"request-detail-section",children:[(0,Ka.jsx)("h4",{children:"Respuestas del Cuestionario"}),(0,Ka.jsx)("div",{className:"questionnaire-answers",children:n.category.questionnaire.map(e=>{const t=n.questionnaire_answers[e.field_name];return(0,Ka.jsxs)("div",{className:"answer-row",children:[(0,Ka.jsxs)("label",{children:[e.question,":"]}),(0,Ka.jsx)("span",{children:Array.isArray(t)?t.join(", "):"boolean"===typeof t?t?"S\xed":"No":t||"N/A"})]},e.field_name)})})]}),n.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice",children:[(0,Ka.jsx)("strong",{children:"Raz\xf3n del rechazo:"})," ",n.rejection_reason]}),("in_review"===n.status||"pending"===n.status)&&(0,Ka.jsxs)("div",{className:"approval-section",children:[(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Notas Legales (opcional):"}),(0,Ka.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:3,placeholder:"Agrega notas o comentarios legales..."})]}),(0,Ka.jsxs)("div",{className:"form-group",children:[(0,Ka.jsx)("label",{children:"Raz\xf3n del Rechazo (si aplica):"}),(0,Ka.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),rows:3,placeholder:"Explica por qu\xe9 se rechaza esta solicitud..."})]}),(0,Ka.jsxs)("div",{className:"modal-actions",children:[(0,Ka.jsx)("button",{className:"btn-approve",onClick:()=>(async e=>{if(window.confirm("\xbfAprobar y generar contrato autom\xe1ticamente?"))try{await Qa.post("/contract-requests-v2/".concat(e,"/approve"),{legal_notes:c}),alert("\xa1Contrato generado exitosamente!"),a(null),d(""),u()}catch(r){var t,n;alert((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al aprobar")}})(n._id),children:"\u2713 Aprobar y Generar Contrato"}),(0,Ka.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(i.trim())try{await Qa.post("/contract-requests-v2/".concat(e,"/reject"),{rejection_reason:i}),alert("Solicitud rechazada"),a(null),o(""),u()}catch(r){var t,n;alert((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Error al rechazar")}else alert("Proporciona una raz\xf3n del rechazo")})(n._id),disabled:!i.trim(),children:"\xd7 Rechazar Solicitud"})]})]}),("completed"===n.status||"approved"===n.status)&&(0,Ka.jsx)("div",{className:"success-notice",children:"\u2713 Esta solicitud ya fue aprobada y el contrato fue generado"}),"rejected"===n.status&&(0,Ka.jsx)("div",{className:"rejection-notice",children:"Esta solicitud fue rechazada"})]}),(0,Ka.jsx)("div",{className:"modal-footer",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>a(null),children:"Cerrar"})})]})})]})},Pr=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)("all");(0,r.useEffect)(()=>{c()},[i]);const c=async()=>{try{const e="all"!==i?{status:i}:{},n=await Qa.get("/contract-requests-v2",{params:e});t(n.data)}catch(e){console.error("Error fetching requests:",e)}finally{s(!1)}},d=e=>{const t={pending:{bg:"#fef3c7",color:"#92400e",text:"Pendiente",icon:"\u23f3"},in_review:{bg:"#dbeafe",color:"#1e40af",text:"En Revisi\xf3n",icon:"\ud83d\udc41\ufe0f"},approved:{bg:"#d1fae5",color:"#065f46",text:"Aprobado",icon:"\u2705"},rejected:{bg:"#fee2e2",color:"#991b1b",text:"Rechazado",icon:"\u274c"},completed:{bg:"#d1fae5",color:"#065f46",text:"Completado",icon:"\ud83c\udf89"}}[e];return(0,Ka.jsxs)("span",{className:"status-badge",style:{background:t.bg,color:t.color},children:[t.icon," ",t.text]})},u=e=>{const t={low:{bg:"#e5e7eb",color:"#374151",text:"Baja"},medium:{bg:"#fef3c7",color:"#92400e",text:"Media"},high:{bg:"#fed7aa",color:"#9a3412",text:"Alta"},urgent:{bg:"#fecaca",color:"#991b1b",text:"Urgente"}}[e];return(0,Ka.jsx)("span",{className:"priority-badge",style:{background:t.bg,color:t.color},children:t.text})};return l?(0,Ka.jsx)("div",{className:"loading",children:"Cargando mis solicitudes..."}):(0,Ka.jsxs)("div",{className:"my-contract-requests",children:[(0,Ka.jsx)("div",{className:"page-header",children:(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h1",{children:"Mis Solicitudes de Contratos"}),(0,Ka.jsx)("p",{className:"subtitle",children:"Revisa el estado de tus solicitudes"})]})}),(0,Ka.jsxs)("div",{className:"filter-bar",children:[(0,Ka.jsxs)("button",{className:"all"===i?"filter-btn active":"filter-btn",onClick:()=>o("all"),children:["Todas (",e.length,")"]}),(0,Ka.jsx)("button",{className:"pending"===i?"filter-btn active":"filter-btn",onClick:()=>o("pending"),children:"\u23f3 Pendientes"}),(0,Ka.jsx)("button",{className:"in_review"===i?"filter-btn active":"filter-btn",onClick:()=>o("in_review"),children:"\ud83d\udc41\ufe0f En Revisi\xf3n"}),(0,Ka.jsx)("button",{className:"approved"===i?"filter-btn active":"filter-btn",onClick:()=>o("approved"),children:"\u2705 Aprobadas"}),(0,Ka.jsx)("button",{className:"rejected"===i?"filter-btn active":"filter-btn",onClick:()=>o("rejected"),children:"\u274c Rechazadas"})]}),0===e.length?(0,Ka.jsxs)("div",{className:"empty-state",children:[(0,Ka.jsx)("h3",{children:"No hay solicitudes"}),(0,Ka.jsx)("p",{children:"all"===i?"A\xfan no has creado ninguna solicitud de contrato":'No tienes solicitudes con estado "'.concat(i,'"')})]}):(0,Ka.jsx)("div",{className:"requests-grid",children:e.map(e=>{return(0,Ka.jsxs)("div",{className:"request-card","data-status":e.status,children:[(0,Ka.jsxs)("div",{className:"card-header",children:[(0,Ka.jsx)("div",{className:"category-badge",style:{backgroundColor:e.category.color+"20",color:e.category.color},children:e.category.name}),d(e.status)]}),(0,Ka.jsx)("h3",{className:"request-title",children:e.title}),(0,Ka.jsxs)("div",{className:"request-meta",children:[(0,Ka.jsxs)("div",{className:"meta-item",children:[(0,Ka.jsx)("span",{className:"meta-label",children:"Prioridad:"}),u(e.priority)]}),(0,Ka.jsxs)("div",{className:"meta-item",children:[(0,Ka.jsx)("span",{className:"meta-label",children:"Fecha:"}),(0,Ka.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),e.assigned_lawyer&&(0,Ka.jsxs)("div",{className:"meta-item",children:[(0,Ka.jsx)("span",{className:"meta-label",children:"Asignado a:"}),(0,Ka.jsx)("span",{children:e.assigned_lawyer.name})]})]}),(0,Ka.jsx)("div",{className:"status-description",children:(0,Ka.jsx)("p",{children:(t=e.status,{pending:"Tu solicitud est\xe1 en la cola esperando ser asignada a un abogado",in_review:"Un abogado est\xe1 revisando tu solicitud",approved:"Tu solicitud fue aprobada y el contrato ha sido generado",rejected:"Tu solicitud fue rechazada",completed:"El proceso est\xe1 completo"}[t])})}),e.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice",children:[(0,Ka.jsx)("strong",{children:"Raz\xf3n del rechazo:"}),(0,Ka.jsx)("p",{children:e.rejection_reason})]}),e.generated_contract&&(0,Ka.jsxs)("div",{className:"contract-notice",children:[(0,Ka.jsx)("strong",{children:"\u2705 Contrato generado:"}),(0,Ka.jsxs)("p",{children:["N\xfamero: ",e.generated_contract.contract_number]})]}),(0,Ka.jsx)("div",{className:"card-actions",children:(0,Ka.jsx)("button",{className:"btn-view",onClick:()=>a(e),children:"Ver Detalles"})})]},e._id);var t})}),n&&(0,Ka.jsx)("div",{className:"modal-overlay",onClick:()=>a(null),children:(0,Ka.jsxs)("div",{className:"modal modal-large",onClick:e=>e.stopPropagation(),children:[(0,Ka.jsxs)("div",{className:"modal-header",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("h3",{children:n.title}),(0,Ka.jsx)("div",{style:{marginTop:"0.5rem"},children:d(n.status)})]}),(0,Ka.jsx)("button",{className:"modal-close",onClick:()=>a(null),children:"\xd7"})]}),(0,Ka.jsxs)("div",{className:"modal-body",children:[(0,Ka.jsxs)("div",{className:"detail-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n General"}),(0,Ka.jsxs)("div",{className:"detail-grid",children:[(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Categor\xeda:"}),(0,Ka.jsx)("span",{children:n.category.name})]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Prioridad:"}),u(n.priority)]}),(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Fecha de solicitud:"}),(0,Ka.jsx)("span",{children:new Date(n.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),n.assigned_lawyer&&(0,Ka.jsxs)("div",{children:[(0,Ka.jsx)("label",{children:"Abogado asignado:"}),(0,Ka.jsx)("span",{children:n.assigned_lawyer.name})]})]})]}),(0,Ka.jsxs)("div",{className:"detail-section",children:[(0,Ka.jsx)("h4",{children:"Informaci\xf3n Proporcionada"}),(0,Ka.jsx)("div",{className:"answers-list",children:Object.entries(n.questionnaire_answers).map(e=>{let[t,n]=e;return(0,Ka.jsxs)("div",{className:"answer-item",children:[(0,Ka.jsxs)("label",{children:[t.replace(/_/g," "),":"]}),(0,Ka.jsx)("span",{children:Array.isArray(n)?n.join(", "):"boolean"===typeof n?n?"S\xed":"No":n||"N/A"})]},t)})})]}),n.legal_notes&&(0,Ka.jsxs)("div",{className:"detail-section",children:[(0,Ka.jsx)("h4",{children:"Notas Legales"}),(0,Ka.jsx)("div",{className:"legal-notes",children:(0,Ka.jsx)("p",{children:n.legal_notes})})]}),n.rejection_reason&&(0,Ka.jsxs)("div",{className:"rejection-notice-detail",children:[(0,Ka.jsx)("h4",{children:"Raz\xf3n del Rechazo"}),(0,Ka.jsx)("p",{children:n.rejection_reason})]}),n.generated_contract&&(0,Ka.jsxs)("div",{className:"contract-notice-detail",children:[(0,Ka.jsx)("h4",{children:"\u2705 Contrato Generado"}),(0,Ka.jsxs)("p",{children:[(0,Ka.jsx)("strong",{children:"N\xfamero de contrato:"})," ",n.generated_contract.contract_number]}),(0,Ka.jsx)("p",{className:"help-text",children:"El contrato ha sido generado y est\xe1 disponible en la secci\xf3n de Contratos"})]})]}),(0,Ka.jsx)("div",{className:"modal-footer",children:(0,Ka.jsx)("button",{className:"btn-secondary",onClick:()=>a(null),children:"Cerrar"})})]})})]})},Lr=()=>{const{selectedCompanyId:e,selectedCompanyName:t,userCompanies:n,selectCompany:a,currentRoles:l}=tr(),[s,i]=(0,r.useState)(!1),o=l.includes("super_admin");return n.length<=1&&!o?(0,Ka.jsx)("div",{className:"company-switcher-single",children:(0,Ka.jsx)("span",{className:"menu-icon",children:"\u2630"})}):(0,Ka.jsxs)("div",{className:"company-switcher",children:[(0,Ka.jsx)("button",{className:"company-switcher-button",onClick:()=>i(!s),"aria-expanded":s,title:"Cambiar empresa",children:(0,Ka.jsx)("span",{className:"menu-icon",children:"\u2630"})}),s&&(0,Ka.jsxs)("div",{className:"company-dropdown",children:[(0,Ka.jsxs)("div",{className:"dropdown-header",children:[(0,Ka.jsxs)("div",{className:"dropdown-header-content",children:[(0,Ka.jsx)("span",{className:"dropdown-title",children:"Empresas"}),(0,Ka.jsx)("span",{className:"dropdown-current",children:t})]}),(0,Ka.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\u2715"})]}),(0,Ka.jsxs)("div",{className:"company-list",children:[l.includes("super_admin")&&(0,Ka.jsxs)("button",{className:"company-item ".concat("ALL"===e?"active":""),onClick:()=>{a("ALL"),i(!1)},children:[(0,Ka.jsxs)("div",{className:"company-item-details",children:[(0,Ka.jsx)("span",{className:"company-item-name",children:"\ud83c\udf10 Todas las empresas"}),(0,Ka.jsx)("span",{className:"company-item-roles",children:"Vista Global"})]}),"ALL"===e&&(0,Ka.jsx)("span",{className:"check-icon",children:"\u2713"})]},"ALL"),n.map(t=>(0,Ka.jsxs)("button",{className:"company-item ".concat(e===t.companyId?"active":""),onClick:()=>{a(t.companyId),i(!1)},children:[(0,Ka.jsxs)("div",{className:"company-item-details",children:[(0,Ka.jsx)("span",{className:"company-item-name",children:t.companyName}),(0,Ka.jsx)("span",{className:"company-item-roles",children:t.roles.join(", ")})]}),e===t.companyId&&(0,Ka.jsx)("span",{className:"check-icon",children:"\u2713"})]},t.companyId))]})]}),s&&(0,Ka.jsx)("div",{className:"company-dropdown-overlay",onClick:()=>i(!1)})]})},Rr=()=>{const{user:e,logout:t}=Ya(),n=me(),[a,l]=(0,r.useState)(!1),s=(0,r.useRef)(null),i=e=>n.pathname===e;(0,r.useEffect)(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const o=["/companies","/user-management","/company-users","/third-parties","/contract-categories","/admin"].some(e=>n.pathname===e);return(0,Ka.jsxs)("nav",{className:"navbar",children:[(0,Ka.jsxs)("div",{className:"navbar-left",children:[(0,Ka.jsx)(Lr,{}),(0,Ka.jsx)("div",{className:"navbar-brand",children:(0,Ka.jsx)(vt,{to:"/dashboard",children:"Legal Bot"})})]}),(0,Ka.jsxs)("div",{className:"navbar-links",children:[(0,Ka.jsx)(vt,{to:"/dashboard",className:i("/dashboard")?"active":"",children:"Dashboard"}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin","lawyer"],children:(0,Ka.jsx)(vt,{to:"/unified-templates",className:i("/unified-templates")?"active":"",children:"\ud83d\ude80 Contratos"})}),(0,Ka.jsx)(ar,{allowedRoles:["requester"],children:(0,Ka.jsx)(vt,{to:"/contract-request",className:i("/contract-request")?"active":"",children:"Solicitar Contrato"})}),(0,Ka.jsx)(ar,{allowedRoles:["requester"],children:(0,Ka.jsx)(vt,{to:"/my-requests",className:i("/my-requests")?"active":"",children:"Mis Solicitudes"})}),(0,Ka.jsx)(ar,{allowedRoles:["lawyer","admin","super_admin"],children:(0,Ka.jsx)(vt,{to:"/supplier-approvals",className:i("/supplier-approvals")?"active":"",children:"Aprobar Terceros"})}),(0,Ka.jsx)(ar,{allowedRoles:["lawyer","admin","super_admin"],children:(0,Ka.jsx)(vt,{to:"/contract-approvals",className:i("/contract-approvals")?"active":"",children:"Aprobar Solicitudes"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin"],children:(0,Ka.jsxs)("div",{className:"navbar-dropdown",ref:s,children:[(0,Ka.jsxs)("button",{className:"navbar-dropdown-button ".concat(o?"active":""),onClick:()=>l(!a),children:["Administraci\xf3n",(0,Ka.jsx)("span",{className:"dropdown-arrow ".concat(a?"open":""),children:"\u25bc"})]}),a&&(0,Ka.jsxs)("div",{className:"navbar-dropdown-menu",children:[(0,Ka.jsx)(ar,{allowedRoles:["super_admin"],children:(0,Ka.jsx)(vt,{to:"/companies",className:i("/companies")?"active":"",onClick:()=>l(!1),children:"Empresas"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin"],children:(0,Ka.jsx)(vt,{to:"/user-management",className:i("/user-management")?"active":"",onClick:()=>l(!1),children:"Gesti\xf3n de Usuarios"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin"],children:(0,Ka.jsx)(vt,{to:"/company-users",className:i("/company-users")?"active":"",onClick:()=>l(!1),children:"Relaciones Empresa-Usuario"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin"],children:(0,Ka.jsx)(vt,{to:"/third-parties",className:i("/third-parties")?"active":"",onClick:()=>l(!1),children:"Creaci\xf3n de Terceros"})}),(0,Ka.jsx)(ar,{allowedRoles:["super_admin","admin"],children:(0,Ka.jsx)(vt,{to:"/contract-categories",className:i("/contract-categories")?"active":"",onClick:()=>l(!1),children:"Categor\xedas de Contratos"})})]})]})})]}),(0,Ka.jsxs)("div",{className:"navbar-user",children:[(0,Ka.jsxs)("span",{children:["Hola, ",(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)]}),(0,Ka.jsx)("button",{onClick:t,className:"logout-btn",children:"Cerrar Sesi\xf3n"})]})]})},Ar=e=>{let{children:t}=e;const{isAuthenticated:n}=Ya();return n?(0,Ka.jsx)(Ka.Fragment,{children:t}):(0,Ka.jsx)(Ae,{to:"/login"})},zr=()=>{const{isAuthenticated:e}=Ya();return(0,Ka.jsxs)("div",{className:"App",children:[e&&(0,Ka.jsx)(Rr,{}),(0,Ka.jsx)("main",{className:"main-content",children:(0,Ka.jsxs)(De,{children:[(0,Ka.jsx)(ze,{path:"/login",element:e?(0,Ka.jsx)(Ae,{to:"/dashboard"}):(0,Ka.jsx)(Za,{})}),(0,Ka.jsx)(ze,{path:"/dashboard",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(rr,{})})}),(0,Ka.jsx)(ze,{path:"/contracts",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(lr,{})})}),(0,Ka.jsx)(ze,{path:"/contract-generator",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(ir,{})})}),(0,Ka.jsx)(ze,{path:"/templates",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(pr,{})})}),(0,Ka.jsx)(ze,{path:"/unified-templates",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(fr,{})})}),(0,Ka.jsx)(ze,{path:"/companies",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(gr,{})})}),(0,Ka.jsx)(ze,{path:"/user-management",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(vr,{})})}),(0,Ka.jsx)(ze,{path:"/company-users",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(xr,{})})}),(0,Ka.jsx)(ze,{path:"/third-parties",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(wr,{})})}),(0,Ka.jsx)(ze,{path:"/contract-categories",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(Cr,{})})}),(0,Ka.jsx)(ze,{path:"/contract-request",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(kr,{})})}),(0,Ka.jsx)(ze,{path:"/my-requests",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(Pr,{})})}),(0,Ka.jsx)(ze,{path:"/supplier-approvals",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(Er,{})})}),(0,Ka.jsx)(ze,{path:"/contract-approvals",element:(0,Ka.jsx)(Ar,{children:(0,Ka.jsx)(Tr,{})})}),(0,Ka.jsx)(ze,{path:"/suppliers",element:(0,Ka.jsx)(Ae,{to:"/third-parties",replace:!0})}),(0,Ka.jsx)(ze,{path:"/third-party-types",element:(0,Ka.jsx)(Ae,{to:"/third-parties",replace:!0})}),(0,Ka.jsx)(ze,{path:"/",element:(0,Ka.jsx)(Ae,{to:e?"/dashboard":"/login"})})]})})]})},Or=()=>(0,Ka.jsx)(Xa,{children:(0,Ka.jsx)(nr,{children:(0,Ka.jsx)(ft,{children:(0,Ka.jsx)(zr,{})})})});l.createRoot(document.getElementById("root")).render((0,Ka.jsx)(r.StrictMode,{children:(0,Ka.jsx)(Or,{})}))})();
//# sourceMappingURL=main.cc3e0d92.js.map